<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Adjusted predictions and estimated marginal means from regression models — predict_response • ggeffects</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adjusted predictions and estimated marginal means from regression models — predict_response"><meta name="description" content='After fitting a model, it is useful generate model-based estimates (expected
values, or adjusted predictions) of the response variable for different
combinations of predictor values. Such estimates can be used to make
inferences about relationships between variables.
The ggeffects package computes marginal means and adjusted predicted
values for the response, at the margin of specific values or levels from
certain model terms. The package is built around three core functions:
predict_response() (understanding results), test_predictions() (importance
of results) and plot() (communicate results).
By default, adjusted predictions or marginal means are returned on the
response scale, which is the easiest and most intuitive scale to interpret
the results. There are other options for specific models as well, e.g. with
zero-inflation component (see documentation of the type-argument). The
result is returned as structured data frame, which is nicely printed by
default. plot() can be used to easily create figures.
The main function to calculate marginal means and adjusted predictions is
predict_response(), which returns adjusted predictions, marginal means
or averaged counterfactual predictions depending on value of the
margin-argument.
In previous versions of ggeffects, the functions ggpredict(), ggemmeans(),
ggeffect() and ggaverage() were used to calculate marginal means and
adjusted predictions. These functions are still available, but predict_response()
as a "wrapper" around these functions is the preferred way to calculate marginal
means and adjusted predictions now.'><meta property="og:description" content='After fitting a model, it is useful generate model-based estimates (expected
values, or adjusted predictions) of the response variable for different
combinations of predictor values. Such estimates can be used to make
inferences about relationships between variables.
The ggeffects package computes marginal means and adjusted predicted
values for the response, at the margin of specific values or levels from
certain model terms. The package is built around three core functions:
predict_response() (understanding results), test_predictions() (importance
of results) and plot() (communicate results).
By default, adjusted predictions or marginal means are returned on the
response scale, which is the easiest and most intuitive scale to interpret
the results. There are other options for specific models as well, e.g. with
zero-inflation component (see documentation of the type-argument). The
result is returned as structured data frame, which is nicely printed by
default. plot() can be used to easily create figures.
The main function to calculate marginal means and adjusted predictions is
predict_response(), which returns adjusted predictions, marginal means
or averaged counterfactual predictions depending on value of the
margin-argument.
In previous versions of ggeffects, the functions ggpredict(), ggemmeans(),
ggeffect() and ggaverage() were used to calculate marginal means and
adjusted predictions. These functions are still available, but predict_response()
as a "wrapper" around these functions is the preferred way to calculate marginal
means and adjusted predictions now.'><meta property="og:image" content="https://strengejacke.github.io/ggeffects/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggeffects</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-introductions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Introductions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-introductions"><li><a class="dropdown-item" href="../articles/ggeffects.html">Adjusted predictions of regression models</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_effectsatvalues.html">Adjusted predictions at specific values</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_randomeffects.html">Adjusted predictions for mixed models</a></li>
    <li><a class="dropdown-item" href="../articles/practical_robustestimation.html">(Cluster) Robust standard errors</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-interpretation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Interpretation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-interpretation"><li><a class="dropdown-item" href="../articles/introduction_comparisons_1.html">Contrasts and pairwise comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_2.html">Slopes, floodlight and spotlight analysis</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_3.html">Contrasts and pairwise comparisons for GLM</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_4.html">Contrasts and pairwise comparisons for Zero-Inflation Models</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_5.html">Using marginaleffects or emmeans for comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_partial_residuals.html">Adding partial residuals to effects plots</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-plotting-and-printing" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Plotting and Printing</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-plotting-and-printing"><li><a class="dropdown-item" href="../articles/introduction_plotmethod.html">Plotting adjusted predictions</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_plotcustomize.html">Customize plot appearance</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_print.html">Customize table appearance</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-studies" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case Studies</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-studies"><li><a class="dropdown-item" href="../articles/practical_glm_workflow.html">Simple workflow using logistic regression</a></li>
    <li><a class="dropdown-item" href="../articles/practical_logisticmixedmodel.html">Logistic mixed effects Model with interaction term</a></li>
    <li><a class="dropdown-item" href="../articles/practical_intersectionality.html">Intersectionality analysis using the MAIHDA framework</a></li>
    <li><a class="dropdown-item" href="../articles/practical_marginaleffects_pkg.html">Comparison of ggeffects and marginaleffects</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-technical-details" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Technical Details</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-technical-details"><li><a class="dropdown-item" href="../articles/technical_differencepredictemmeans.html">Difference between marginalization methods</a></li>
    <li><a class="dropdown-item" href="../articles/technical_stata.html">Different Output between Stata and ggeffects</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/strengejacke/ggeffects/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Adjusted predictions and estimated marginal means from regression models</h1>
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/ggeffects/blob/master/R/predict_response.R" class="external-link"><code>R/predict_response.R</code></a></small>
      <div class="d-none name"><code>predict_response.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>After fitting a model, it is useful generate model-based estimates (expected
values, or <em>adjusted predictions</em>) of the response variable for different
combinations of predictor values. Such estimates can be used to make
inferences about relationships between variables.</p>
<p>The <strong>ggeffects</strong> package computes marginal means and adjusted predicted
values for the response, at the margin of specific values or levels from
certain model terms. The package is built around three core functions:
<code>predict_response()</code> (understanding results), <code><a href="test_predictions.html">test_predictions()</a></code> (importance
of results) and <code><a href="plot.html">plot()</a></code> (communicate results).</p>
<p>By default, adjusted predictions or marginal means are returned on the
<em>response</em> scale, which is the easiest and most intuitive scale to interpret
the results. There are other options for specific models as well, e.g. with
zero-inflation component (see documentation of the <code>type</code>-argument). The
result is returned as structured data frame, which is nicely printed by
default. <code><a href="plot.html">plot()</a></code> can be used to easily create figures.</p>
<p>The main function to calculate marginal means and adjusted predictions is
<code>predict_response()</code>, which returns adjusted predictions, marginal means
or averaged counterfactual predictions depending on value of the
<code>margin</code>-argument.</p>
<p>In previous versions of <strong>ggeffects</strong>, the functions <code><a href="ggpredict.html">ggpredict()</a></code>, <code><a href="ggpredict.html">ggemmeans()</a></code>,
<code><a href="ggpredict.html">ggeffect()</a></code> and <code><a href="ggpredict.html">ggaverage()</a></code> were used to calculate marginal means and
adjusted predictions. These functions are still available, but <code>predict_response()</code>
as a "wrapper" around these functions is the preferred way to calculate marginal
means and adjusted predictions now.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">predict_response</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">terms</span>,</span>
<span>  margin <span class="op">=</span> <span class="st">"mean_reference"</span>,</span>
<span>  ci_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>  condition <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"confidence"</span>,</span>
<span>  back_transform <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  vcov <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vcov_args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bias_correction <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A model object.</p></dd>


<dt id="arg-terms">terms<a class="anchor" aria-label="anchor" href="#arg-terms"></a></dt>
<dd><p>Names of those terms from <code>model</code>, for which predictions should
be displayed (so called <em>focal terms</em>). Can be:</p><ul><li><p>A character vector, specifying the names of the focal terms. This is the
preferred and probably most flexible way to specify focal terms, e.g.
<code>terms = "x [40:60]"</code>, to calculate predictions for the values 40 to 60.</p></li>
<li><p>A list, where each element is a named vector, specifying the focal terms
and their values. This is the "classical" R way to specify focal terms,
e.g. <code>list(x = 40:60)</code>.</p></li>
<li><p>A formula, e.g. <code>terms = ~ x + z</code>, which is internally converted to a
character vector. This is probably the least flexible way, as you cannot
specify representative values for the focal terms.</p></li>
<li><p>A data frame representing a "data grid" or "reference grid". Predictions
are then made for all combinations of the variables in the data frame.</p></li>
</ul><p><code>terms</code> at least requires one variable name. The maximum length is four terms,
where the second to fourth term indicate the groups, i.e. predictions of the first
term are grouped at meaningful values or levels of the remaining terms (see
<code><a href="values_at.html">values_at()</a></code>). It is also possible to define specific values for focal
terms, at which adjusted predictions should be calculated (see details below).
All remaining covariates that are not specified in <code>terms</code> are "marginalized",
see the <code>margin</code> argument in <code>?predict_response</code>. See also argument <code>condition</code>
to fix non-focal terms to specific values, and argument <code>typical</code> for
<code><a href="ggpredict.html">ggpredict()</a></code> or <code><a href="ggpredict.html">ggemmeans()</a></code>.</p></dd>


<dt id="arg-margin">margin<a class="anchor" aria-label="anchor" href="#arg-margin"></a></dt>
<dd><p>Character string, indicating how to marginalize over the
<em>non-focal</em> predictors, i.e. those variables that are <em>not</em> specified in
<code>terms</code>. Possible values are <code>"mean_reference"</code>, <code>"mean_mode"</code>,
<code>"marginalmeans"</code> and <code>"empirical"</code> (or <code>"counterfactual"</code>, aka average
"counterfactual" predictions). You can set a default-option for the <code>margin</code>
argument via <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>, e.g. <code>options(ggeffects_margin = "empirical")</code>,
so you don't have to specify your preferred marginalization method each time
you call <code>predict_response()</code>. See details in the documentation below.</p></dd>


<dt id="arg-ci-level">ci_level<a class="anchor" aria-label="anchor" href="#arg-ci-level"></a></dt>
<dd><p>Numeric, the level of the confidence intervals. Use
<code>ci_level = NA</code> if confidence intervals should not be calculated
(for instance, due to computation time). Typically, confidence intervals are
based on the returned standard errors for the predictions, assuming a t- or
normal distribution (based on the model and the available degrees of freedom,
i.e. roughly <code>+/- 1.96 * SE</code>). See introduction of
<a href="https://strengejacke.github.io/ggeffects/articles/ggeffects.html">this vignette</a>
for more details.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Character, indicating whether predictions should be conditioned
on specific model components or not, or whether population or unit-level
predictions are desired. Consequently, most options only apply for survival
models, mixed effects models and/or models with zero-inflation (and their
Bayesian counter-parts); only exception is <code>type = "simulate"</code>, which is
available for some other model classes as well (which respond to
<code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate()</a></code>).</p>
<p><strong>Note 1:</strong> For <code>brmsfit</code>-models with zero-inflation component, there is no
<code>type = "zero_inflated"</code> nor <code>type = "zi_random"</code>; predicted values for these
models <em>always</em> condition on the zero-inflation part of the model. The same
is true for <code>MixMod</code>-models from <strong>GLMMadaptive</strong> with zero-inflation
component (see 'Details').</p>
<p><strong>Note 2:</strong> If <code>margin = "empirical"</code>, or when calling <code><a href="ggpredict.html">ggaverage()</a></code> respectively,
(i.e. counterfactual predictions), the <code>type</code> argument is handled differently.
It is set to <code>"response"</code> by default, but usually accepts all possible options
from the <code>type</code>-argument of the model's respective <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method. E.g.,
passing a <code>glm</code> object would allow the options <code>"response"</code>, <code>"link"</code>, and
<code>"terms"</code>. For models with zero-inflation component, the below mentioned
options <code>"fixed"</code>, <code>"zero_inflated"</code> and <code>"zi_prob"</code> can also be used and will
be "translated" into the corresponding <code>type</code> option of the model's respective
<code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>-method.</p>
<p><strong>Note 3:</strong> If <code>margin = "marginalmeans"</code>, or when calling <code><a href="ggpredict.html">ggemmeans()</a></code>
respectively, <code>type = "random"</code> and <code>type = "zi_random"</code> are not available,
i.e. no unit-level predictions are possible.</p><ul><li><p><code>"fixed"</code> (or <code>"count"</code>)</p>
<p>Predicted values are conditioned on the fixed effects or conditional
model only. For mixed models, predicted values are on the
<em>population-level</em>, i.e. <code>re.form = NA</code> when calling <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>. For
models with zero-inflation component, this type would return the
predicted mean from the count component (without conditioning on the
zero-inflation part).</p></li>
<li><p><code>"random"</code></p>
<p>This only applies to mixed models, and <code>type = "random"</code> does not
condition on the zero-inflation component of the model. Use this for
<em>unit-level</em> predictions, i.e. predicted values for each level of the
random effects groups. Add the name of the related random effect term
to the <code>terms</code>-argument (for more details, see <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>).</p></li>
<li><p><code>"zero_inflated"</code> (or <code>"zi"</code>)</p>
<p>Predicted values are conditioned on the fixed effects and the
zero-inflation component, returning the expected value of the response
(<code>mu*(1-p)</code>). For For mixed models with zero-inflation component (e.g.
from package <strong>glmmTMB</strong>), this would return the expected response
<code>mu*(1-p)</code> on the <em>population-level</em>. See 'Details'.</p></li>
<li><p><code>"zi_random"</code> (or <code>"zero_inflated_random"</code>)</p>
<p>This only applies to mixed models. Predicted values are conditioned on
the fixed effects and the zero-inflation component. Use this for
<em>unit-level</em> predictions, i.e. predicted values for each level of the
random effects groups. Add the name of the related random effect term to
the <code>terms</code>-argument (for more details, see <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>).</p></li>
<li><p><code>"zi_prob"</code></p>
<p>Returns the predicted zero-inflation probability, i.e. probability of a
structural or "true" zero (see
<a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_4.html">this vignette</a>
for a short introduction into zero-inflation models).</p></li>
<li><p><code>"simulate"</code></p>
<p>Predicted values and confidence resp. prediction intervals are based on
simulations, i.e. calls to <code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate()</a></code>. This type of prediction takes
all model uncertainty into account. Currently supported models are
objects of class <code>lm</code>, <code>glm</code>, <code>glmmTMB</code>, <code>wbm</code>, <code>MixMod</code> and <code>merMod</code>.
Use <code>nsim</code> to set the number of simulated draws (see <code>...</code> for details).</p></li>
<li><p><code>"survival"</code> and <code>"cumulative_hazard"</code></p>
<p>Applies only to <code>coxph</code>-objects from the <strong>survial</strong>-package and
calculates the survival probability or the cumulative hazard of an event.</p></li>
</ul><p>When <code>margin = "empirical"</code> (or when calling <code><a href="ggpredict.html">ggaverage()</a></code>), the <code>type</code>
argument accepts all values from the <code>type</code>-argument of the model's respective
<code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>-method.</p></dd>


<dt id="arg-condition">condition<a class="anchor" aria-label="anchor" href="#arg-condition"></a></dt>
<dd><p>Named character vector, which indicates covariates that
should be held constant at specific values. Unlike <code>typical</code>, which
applies a function to the covariates to determine the value that is used
to hold these covariates constant, <code>condition</code> can be used to define
exact values, for instance <code>condition = c(covariate1 = 20, covariate2 = 5)</code>.
See 'Examples'.</p></dd>


<dt id="arg-interval">interval<a class="anchor" aria-label="anchor" href="#arg-interval"></a></dt>
<dd><p>Type of interval calculation, can either be <code>"confidence"</code>
(default) or <code>"prediction"</code>. May be abbreviated. Unlike <em>confidence
intervals</em>, <em>prediction intervals</em> include the residual variance (sigma^2) to
account for the uncertainty of predicted values. Note that prediction
intervals are not available for all models, but only for models that work
with <code><a href="https://easystats.github.io/insight/reference/get_sigma.html" class="external-link">insight::get_sigma()</a></code>. For Bayesian models, when <code>interval = "confidence"</code>, predictions are based on posterior draws of the linear
predictor <code><a href="https://mc-stan.org/rstantools/reference/posterior_epred.html" class="external-link">rstantools::posterior_epred()</a></code>. If <code>interval = "prediction"</code>,
<code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html" class="external-link">rstantools::posterior_predict()</a></code> is called.</p></dd>


<dt id="arg-back-transform">back_transform<a class="anchor" aria-label="anchor" href="#arg-back-transform"></a></dt>
<dd><p>Logical, if <code>TRUE</code> (the default), predicted values for
log-, log-log, exp, sqrt and similar transformed responses will be
back-transformed to original response-scale. See
<code><a href="https://easystats.github.io/insight/reference/find_transformation.html" class="external-link">insight::find_transformation()</a></code> for more details.</p></dd>


<dt id="arg-vcov">vcov<a class="anchor" aria-label="anchor" href="#arg-vcov"></a></dt>
<dd><p>Variance-covariance matrix used to compute uncertainty estimates
(e.g., for confidence intervals based on robust standard errors). This
argument accepts a covariance matrix, a function which returns a covariance
matrix, or a string which identifies the function to be used to compute the
covariance matrix.</p><ul><li><p>A covariance matrix</p></li>
<li><p>A function which returns a covariance matrix (e.g., <code><a href="https://rdrr.io/r/stats/vcov.html" class="external-link">stats::vcov()</a></code>)</p></li>
<li><p>A string which indicates the kind of uncertainty estimates to return.</p><ul><li><p>Heteroskedasticity-consistent: <code>"HC"</code>, <code>"HC0"</code>, <code>"HC1"</code>, <code>"HC2"</code>,
<code>"HC3"</code>, <code>"HC4"</code>, <code>"HC4m"</code>, <code>"HC5"</code>. See <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHC.html" class="external-link">?sandwich::vcovHC</a></code></p></li>
<li><p>Cluster-robust: <code>"vcovCR"</code>, <code>"CR0"</code>, <code>"CR1"</code>, <code>"CR1p"</code>, <code>"CR1S"</code>,
<code>"CR2"</code>, <code>"CR3"</code>. See <code><a href="http://jepusto.github.io/clubSandwich/reference/vcovCR.html" class="external-link">?clubSandwich::vcovCR</a></code>.</p></li>
<li><p>Bootstrap: <code>"BS"</code>, <code>"xy"</code>, <code>"fractional"</code>, <code>"jackknife"</code>, <code>"residual"</code>,
<code>"wild"</code>, <code>"mammen"</code>, <code>"norm"</code>, <code>"webb"</code>. See <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovBS.html" class="external-link">?sandwich::vcovBS</a></code></p></li>
<li><p>Other <code>sandwich</code> package functions: <code>"HAC"</code>, <code>"PC"</code>, <code>"CL"</code>, or <code>"PL"</code>.</p></li>
</ul></li>
</ul><p>If <code>NULL</code>, standard errors (and confidence intervals) for predictions are
based on the standard errors as returned by the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>-function.
<strong>Note</strong> that probably not all model objects that work with
<code>predict_response()</code> are also supported by the <strong>sandwich</strong> or
<strong>clubSandwich</strong> packages.</p>
<p>See details in <a href="https://strengejacke.github.io/ggeffects/articles/practical_robustestimation.html">this vignette</a>.</p></dd>


<dt id="arg-vcov-args">vcov_args<a class="anchor" aria-label="anchor" href="#arg-vcov-args"></a></dt>
<dd><p>List of arguments to be passed to the function identified by
the <code>vcov</code> argument. This function is typically supplied by the
<strong>sandwich</strong> or <strong>clubSandwich</strong> packages. Please refer to their
documentation (e.g., <code><a href="https://sandwich.R-Forge.R-project.org/reference/vcovHAC.html" class="external-link">?sandwich::vcovHAC</a></code>) to see the list of available
arguments. If no estimation type (argument <code>type</code>) is given, the default
type for <code>"HC"</code> equals the default from the <strong>sandwich</strong> package; for type
<code>"CR"</code> the default is set to <code>"CR3"</code>. For other defaults, refer to the
documentation in the <strong>sandwich</strong> or <strong>clubSandwich</strong> package.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>This argument is used in two different ways, depending on the
<code>margin</code> argument.</p><ul><li><p>When <code>margin = "empirical"</code>, <code>weights</code> can either be a character vector,
naming the weigthing variable in the data, or a vector of weights (of same
length as the number of observations in the data). This variable will be
used to weight adjusted predictions.</p></li>
<li><p>When <code>margin = "marginalmeans"</code>, <code>weights</code> must be a character vector and
is passed to <code><a href="https://rvlenth.github.io/emmeans/reference/emmeans.html" class="external-link">emmeans::emmeans()</a></code>, specifying weights to use in averaging
non-focal categorical predictors. See https://rvlenth.github.io/emmeans/reference/emmeans.html
for details.</p></li>
</ul></dd>


<dt id="arg-bias-correction">bias_correction<a class="anchor" aria-label="anchor" href="#arg-bias-correction"></a></dt>
<dd><p>Logical, if <code>TRUE</code>, adjusts for bias-correction when
back-transforming the predicted values (to the response scale) for
non-Gaussian <em>mixed models</em>. Back-transforming the the population-level
predictions ignores the effect of the variation around the population mean,
so the result on the original data scale is biased due to <em>Jensen's
inequality</em>. That means, when <code>type = "fixed"</code> (the default) and population
level predictions are returned, it is recommended to set <code>bias_correction = TRUE</code>.
To apply bias-correction, a valid value of sigma is required, which is
extracted by default using <code><a href="https://easystats.github.io/insight/reference/get_variance.html" class="external-link">insight::get_variance_residual()</a></code>. Optionally,
to provide own estimates of uncertainty, use the <code>sigma</code> argument. Note that
<code>bias_correction</code> currently only applies to mixed models, where there are
additive random components involved and where that bias-adjustment can be
appropriate. If <code><a href="ggpredict.html">ggemmeans()</a></code> is called, bias-correction can also be applied
to GEE-models.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Toggle messages or warnings.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>If <code>margin</code> is set to <code>"mean_reference"</code> or <code>"mean_mode"</code>, arguments
are passed down to <code><a href="ggpredict.html">ggpredict()</a></code> (further down to <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>); for
<code>margin = "marginalmeans"</code>, further arguments passed down to <code><a href="ggpredict.html">ggemmeans()</a></code> and
thereby to <code><a href="https://rvlenth.github.io/emmeans/reference/emmeans.html" class="external-link">emmeans::emmeans()</a></code>; if <code>margin = "empirical"</code>, further arguments are
passed down to <code><a href="https://rdrr.io/pkg/marginaleffects/man/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code>. If <code>type = "simulate"</code>,
<code>...</code> may also be used to set the number of simulation, e.g. <code>nsim = 500</code>.
When calling <code><a href="ggpredict.html">ggeffect()</a></code>, further arguments passed down to <code><a href="https://rdrr.io/pkg/effects/man/effect.html" class="external-link">effects::Effect()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame (with <code>ggeffects</code> class attribute) with consistent data columns:</p><ul><li><p><code>"x"</code>: the values of the first term in <code>terms</code>, used as x-position in plots.</p></li>
<li><p><code>"predicted"</code>: the predicted values of the response, used as y-position in plots.</p></li>
<li><p><code>"std.error"</code>: the standard error of the predictions. <em>Note that the standard
errors are always on the link-scale, and not back-transformed for non-Gaussian
models!</em></p></li>
<li><p><code>"conf.low"</code>: the lower bound of the confidence interval for the predicted values.</p></li>
<li><p><code>"conf.high"</code>: the upper bound of the confidence interval for the predicted values.</p></li>
<li><p><code>"group"</code>: the grouping level from the second term in <code>terms</code>, used as
grouping-aesthetics in plots.</p></li>
<li><p><code>"facet"</code>: the grouping level from the third term in <code>terms</code>, used to indicate
facets in plots.</p>
<p>The estimated marginal means (or predicted values) are always on the
response scale!</p>
<p>For proportional odds logistic regression (see <code><a href="https://rdrr.io/pkg/MASS/man/polr.html" class="external-link">?MASS::polr</a></code>)
resp. cumulative link models (e.g., see <code><a href="https://rdrr.io/pkg/ordinal/man/clm.html" class="external-link">?ordinal::clm</a></code>),
an additional column <code>"response.level"</code> is returned, which indicates
the grouping of predictions based on the level of the model's response.</p>
<p>Note that for convenience reasons, the columns for the intervals
are always named <code>"conf.low"</code> and <code>"conf.high"</code>, even though
for Bayesian models credible or highest posterior density intervals
are returned.</p>
<p>There is an <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> method for objects of class <code>ggeffects</code>,
which has an <code>terms_to_colnames</code> argument, to use the term names as column
names instead of the standardized names <code>"x"</code> etc.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><strong>Printing Results</strong></p>
<p>The <code><a href="print.html">print()</a></code> method gives a clean output (especially for predictions by
groups), and indicates at which values covariates were held constant.
Furthermore, the <code><a href="print.html">print()</a></code> method has several arguments to customize the
output. See <a href="https://strengejacke.github.io/ggeffects/articles/introduction_print.html">this vignette</a>
for details.</p>
<p><strong>Limitations</strong></p>
<p>The support for some models, for example from package <strong>MCMCglmm</strong>, is not
fully tested and may fail for certain models. If you encounter any errors,
please file an issue <a href="https://github.com/strengejacke/ggeffects/issues" class="external-link">at Github</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="supported-models">Supported Models<a class="anchor" aria-label="anchor" href="#supported-models"></a></h2>



<p>A list of supported models can be found at <a href="https://github.com/strengejacke/ggeffects" class="external-link">the package website</a>.
Support for models varies by marginalization method (the <code>margin</code> argument),
i.e. although <code>predict_response()</code> supports most models, some models are only
supported exclusively by one of the four downstream functions (<code><a href="ggpredict.html">ggpredict()</a></code>,
<code><a href="ggpredict.html">ggemmeans()</a></code>, <code><a href="ggpredict.html">ggeffect()</a></code> or <code><a href="ggpredict.html">ggaverage()</a></code>). This means that not all models
work for every <code>margin</code> option of <code>predict_response()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="holding-covariates-at-constant-values-or-how-to-marginalize-over-the-non-focal-predictors">Holding covariates at constant values, or how to marginalize over the <em>non-focal</em> predictors<a class="anchor" aria-label="anchor" href="#holding-covariates-at-constant-values-or-how-to-marginalize-over-the-non-focal-predictors"></a></h2>



<p><code>predict_response()</code> is a wrapper around <code><a href="ggpredict.html">ggpredict()</a></code>, <code><a href="ggpredict.html">ggemmeans()</a></code> and
<code><a href="ggpredict.html">ggaverage()</a></code>. Depending on the value of the <code>margin</code> argument,
<code>predict_response()</code> calls one of those functions. The <code>margin</code> argument
indicates how to marginalize over the <em>non-focal</em> predictors, i.e. those
variables that are <em>not</em> specified in <code>terms</code>. Possible values are:</p><ul><li><p><code>"mean_reference"</code> and <code>"mean_mode"</code>: For <code>"mean_reference"</code>, non-focal
predictors are set to their mean (numeric variables), reference level
(factors), or "most common" value (mode) in case of character vectors.
For <code>"mean_mode"</code>, non-focal predictors are set to their mean (numeric
variables) or mode (factors, or "most common" value in case of character
vectors).</p>
<p>These predictons represent a rather "theoretical" view on your data, which
does not necessarily exactly reflect the characteristics of your sample. It
helps answer the question, "What is the predicted (or: expected) value of
the response at meaningful values or levels of my focal terms for a
'typical' observation in my data?", where 'typical' refers to certain
characteristics of the remaining predictors.</p></li>
<li><p><code>"marginalmeans"</code>: non-focal predictors are set to their mean (numeric
variables) or averaged over the levels or "values" for factors and
character vectors. Averaging over the factor levels of non-focal terms
computes a kind of "weighted average" for the values at which these terms
are hold constant. Thus, non-focal categorical terms are conditioned on
"weighted averages" of their levels. There are different weighting
options that can be altered using the <code>weights</code> argument.</p>
<p>These predictions come closer to the sample, because all possible values
and levels of the non-focal predictors are taken into account. It would
answer the question, "What is the predicted (or: expected) value of the
response at meaningful values or levels of my focal terms for an 'average'
observation in my data?". It refers to randomly picking a subject of your
sample and the result you get on average.</p></li>
<li><p><code>"empirical"</code> (or <code>"counterfactual"</code>): non-focal predictors are averaged
over the observations in the sample. The response is predicted for each
subject in the data and predicted values are then averaged across all
subjects, aggregated/grouped by the focal terms. In particular, averaging
is applied to <em>counterfactual predictions</em> (Dickerman and Hernan 2020).
There is a more detailed description in
<a href="https://strengejacke.github.io/ggeffects/articles/technical_differencepredictemmeans.html">this vignette</a>.</p>
<p>Counterfactual predictions are useful, insofar as the results can also be
transferred to other contexts. It answers the question, "What is the
predicted (or: expected) value of the response at meaningful values or
levels of my focal terms for the 'average' observation in the population?".
It does not only refer to the actual data in your sample, but also "what
would be if" we had more data, or if we had data from a different
population. This is where "counterfactual" refers to.</p></li>
</ul><p>You can set a default-option for the <code>margin</code> argument via <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>, e.g.
<code>options(ggeffects_margin = "empirical")</code>, so you don't have to specify your
"default" marginalization method each time you call <code>predict_response()</code>.
Use <code>options(ggeffects_margin = NULL)</code> to remove that setting.</p>
<p>The <code>condition</code> argument can be used to fix non-focal terms to specific
values.</p>
    </div>
    <div class="section level2">
    <h2 id="marginal-means-and-adjusted-predictions-at-specific-values">Marginal Means and Adjusted Predictions at Specific Values<a class="anchor" aria-label="anchor" href="#marginal-means-and-adjusted-predictions-at-specific-values"></a></h2>



<p>Meaningful values of focal terms can be specified via the <code>terms</code> argument.
Specifying meaningful or representative values as string pattern is the
preferred way in the <strong>ggeffects</strong> package. However, it is also possible to
use a <code><a href="https://rdrr.io/r/base/list.html" class="external-link">list()</a></code> for the focal terms if prefer the "classical" R way. <code>terms</code>
can also be a data (or reference) grid provided as data frame. All options
are described in <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>.</p>
<p>Indicating levels in square brackets allows for selecting only certain
groups or values resp. value ranges. The term name and the start of the
levels in brackets must be separated by a whitespace character, e.g.
<code>terms = c("age", "education [1,3]")</code>. Numeric ranges, separated with colon,
are also allowed: <code>terms = c("education", "age [30:60]")</code>. The stepsize for
ranges can be adjusted using <code>by</code>, e.g. <code>terms = "age [30:60 by=5]"</code>.</p>
<p>The <code>terms</code> argument also supports the same shortcuts as the <code>values</code> argument
in <code><a href="values_at.html">values_at()</a></code>. So <code>terms = "age [meansd]"</code> would return predictions for
the values one standard deviation below the mean age, the mean age and one SD
above the mean age. <code>terms = "age [quart2]"</code> would calculate predictions at
the value of the lower, median and upper quartile of age.</p>
<p>Furthermore, it is possible to specify a function name. Values for predictions
will then be transformed, e.g. <code>terms = "income [exp]"</code>. This is useful when
model predictors were transformed for fitting the model and should be
back-transformed to the original scale for predictions. It is also possible
to define own functions (see
<a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>).</p>
<p>Instead of a function, it is also possible to define the name of a variable
with specific values, e.g. to define a vector <code>v = c(1000, 2000, 3000)</code> and
then use <code>terms = "income [v]"</code>.</p>
<p>You can take a random sample of any size with <code>sample=n</code>, e.g
<code>terms = "income [sample=8]"</code>, which will sample eight values from
all possible values of the variable <code>income</code>. This option is especially
useful for plotting predictions at certain levels of random effects
group levels, where the group factor has too many levels to be completely
plotted. For more details, see
<a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>.</p>
<p>Finally, numeric vectors for which no specific values are given, a "pretty range"
is calculated (see <code><a href="pretty_range.html">pretty_range()</a></code>), to avoid memory allocation problems
for vectors with many unique values. If a numeric vector is specified as
second or third term (i.e. if this focal term is used for "stratification"),
representative values (see <code><a href="values_at.html">values_at()</a></code>) are chosen (unless other values
are specified), which are typically the mean value, as well as one standard
deviation below and above the mean. If all values for a numeric vector should
be used to compute predictions, you may use e.g. <code>terms = "age [all]"</code>. See
also package vignettes.</p>
<p>To create a pretty range that should be smaller or larger than the default
range (i.e. if no specific values would be given), use the <code>n</code> tag, e.g.
<code>terms="age [n=5]"</code> or <code>terms="age [n=12]"</code>. Larger values for <code>n</code> return a
larger range of predicted values.</p>
    </div>
    <div class="section level2">
    <h2 id="bayesian-regression-models">Bayesian Regression Models<a class="anchor" aria-label="anchor" href="#bayesian-regression-models"></a></h2>



<p><code>predict_response()</code> also works with <strong>Stan</strong>-models from the <strong>rstanarm</strong> or
<strong>brms</strong>-packages. The predicted values are the median value of all drawn
posterior samples. Standard errors are the median absolute deviation of the
posterior samples. The confidence intervals for Stan-models are Bayesian
predictive intervals. By default, the predictions are based on
<code><a href="https://mc-stan.org/rstantools/reference/posterior_epred.html" class="external-link">rstantools::posterior_epred()</a></code> and hence have the limitations that the
uncertainty of the error term (residual variance) is not taken into account.
The recommendation is to use the posterior predictive distribution
(<code><a href="https://mc-stan.org/rstantools/reference/posterior_predict.html" class="external-link">rstantools::posterior_predict()</a></code>), i.e. setting <code>interval = "prediction"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="mixed-multilevel-models">Mixed (multilevel) Models<a class="anchor" aria-label="anchor" href="#mixed-multilevel-models"></a></h2>


<p>For mixed models, following options are possible:</p><ul><li><p>Predictions can be made on the population-level (<code>type = "fixed"</code>, the
default) or for each level of the grouping variable (unit-level). If
unit-level predictions are requested, you need to set <code>type = "random"`` and specify the grouping variable(s) in the </code>terms` argument.</p></li>
<li><p>Population-level predictions can be either <em>conditional</em> (predictions
for a "typical" group) or <em>marginal</em> (average predictions across all
groups). The default in <code>predict_response()</code> calculated <em>conditional</em>
predictions. Set <code>margin = "empirical"</code> for marginal predictions.</p></li>
<li><p>Prediction intervals, i.e. when <code>interval = "predictions"</code> also account
for the uncertainty in the random effects.</p></li>
</ul><p>See more details in
<a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this vignette</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="zero-inflated-and-zero-inflated-mixed-models-with-brms">Zero-Inflated and Zero-Inflated Mixed Models with brms<a class="anchor" aria-label="anchor" href="#zero-inflated-and-zero-inflated-mixed-models-with-brms"></a></h2>



<p>Models of class <code>brmsfit</code> always condition on the zero-inflation component,
if the model has such a component. Hence, there is no <code>type = "zero_inflated"</code>
nor <code>type = "zi_random"</code> for <code>brmsfit</code>-models, because predictions are based
on draws of the posterior distribution, which already account for the
zero-inflation part of the model.</p>
<p><strong>Zero-Inflated and Zero-Inflated Mixed Models with glmmTMB</strong></p>
<p>If <code>model</code> is of class <code>glmmTMB</code>, <code>hurdle</code>, <code>zeroinfl</code> or <code>zerotrunc</code>, and
<code>margin</code> is <em>not</em> set to <code>"empirical</code>,  simulations from a multivariate
normal distribution (see <code><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">?MASS::mvrnorm</a></code>) are drawn to calculate <code>mu*(1-p)</code>.
Confidence intervals are then based on quantiles of these results.
For <code>type = "zi_random"</code>, prediction intervals also take the uncertainty in
the random-effect paramters into account (see also <em>Brooks et al. 2017</em>,
pp.391-392 for details).</p>
<p>An alternative for models fitted with <strong>glmmTMB</strong> that take all model
uncertainties into account are simulations based on <code><a href="https://rdrr.io/r/stats/simulate.html" class="external-link">simulate()</a></code>, which
is used when <code>type = "simulate"</code> (see <em>Brooks et al. 2017</em>, pp.392-393 for
details).</p>
<p>Finally, if <code>margin = "empirical"</code>, the returned predictions are already
conditioned on the zero-inflation part (and possible random effects) of the
model, thus these are most comparable to the <code>type = "simulate"</code> option. In
other words, if all model components should be taken into account for
predictions, you should consider using <code>margin = "empirical"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="mixmod-models-from-glmmadaptive">MixMod-models from GLMMadaptive<a class="anchor" aria-label="anchor" href="#mixmod-models-from-glmmadaptive"></a></h2>



<p>Predicted values for the fixed effects component (<code>type = "fixed"</code> or
<code>type = "zero_inflated"</code>) are based on <code>predict(..., type = "mean_subject")</code>,
while predicted values for random effects components (<code>type = "random"</code> or
<code>type = "zi_random"</code>) are calculated with <code>predict(..., type = "subject_specific")</code>
(see <code><a href="https://drizopoulos.github.io/GLMMadaptive/reference/methods.html" class="external-link">?GLMMadaptive::predict.MixMod</a></code> for details). The latter option
requires the response variable to be defined in the <code>newdata</code>-argument
of <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code>, which will be set to its typical value (see
<code><a href="values_at.html">values_at()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="multinomial-models">Multinomial Models<a class="anchor" aria-label="anchor" href="#multinomial-models"></a></h2>



<p><code>polr</code>, <code>clm</code> models, or more generally speaking, models with ordinal or
multinominal outcomes, have an additional column <code>response.level</code>, which
indicates with which level of the response variable the predicted values are
associated.</p>
    </div>
    <div class="section level2">
    <h2 id="averaged-model-predictions-package-mumin-">Averaged model predictions (package <strong>MuMIn</strong>)<a class="anchor" aria-label="anchor" href="#averaged-model-predictions-package-mumin-"></a></h2>



<p>For averaged model predictions, i.e. when the input model is an object of
class <code>"averaging"</code> (<code>MuMIn::model.avg()</code>), predictions are made with the
full averaged coefficients.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>

<ul><li><p>Brooks ME, Kristensen K, Benthem KJ van, Magnusson A, Berg CW, Nielsen A,
et al. glmmTMB Balances Speed and Flexibility Among Packages for Zero-inflated
Generalized Linear Mixed Modeling. The R Journal. 2017;9: 378-400.</p></li>
<li><p>Johnson PC. 2014. Extension of Nakagawa &amp; Schielzeth's R2GLMM to random
slopes models. Methods Ecol Evol, 5: 944-946.</p></li>
<li><p>Dickerman BA, Hernan, MA. Counterfactual prediction is not only for causal
inference. Eur J Epidemiol 35, 615–617 (2020).</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/sjlabelled/" class="external-link">sjlabelled</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">barthtot</span> <span class="op">~</span> <span class="va">c12hour</span> <span class="op">+</span> <span class="va">neg_c_7</span> <span class="op">+</span> <span class="va">c161sex</span> <span class="op">+</span> <span class="va">c172code</span>, data <span class="op">=</span> <span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="st">"c12hour"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     75.44 | 73.25, 77.63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      20 |     70.38 | 68.56, 72.19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     64.05 | 62.39, 65.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      65 |     58.98 | 57.15, 60.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.91 | 51.71, 56.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     105 |     48.85 | 46.14, 51.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     125 |     43.78 | 40.51, 47.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     32.38 | 27.73, 37.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  neg_c_7 = 11.84</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  c161sex =  1.76</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c172code =  1.97</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c12hour"</span>, <span class="st">"c172code"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: low level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     74.75 | 71.26, 78.23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     67.15 | 64.03, 70.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     60.81 | 57.77, 63.86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.22 | 49.95, 56.48</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     115 |     45.62 | 41.86, 49.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     31.69 | 26.59, 36.78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: intermediate level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     75.46 | 73.28, 77.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     67.87 | 66.16, 69.57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     61.53 | 59.82, 63.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.93 | 51.72, 56.14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     115 |     46.34 | 43.35, 49.32</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     32.40 | 27.74, 37.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: high level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     76.18 | 72.81, 79.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     68.58 | 65.41, 71.76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     62.25 | 59.00, 65.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     54.65 | 51.03, 58.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     115 |     47.05 | 42.85, 51.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     33.12 | 27.50, 38.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* neg_c_7 = 11.84</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c161sex =  1.76</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span><span class="co"># more compact table layout for printing</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c12hour"</span>, <span class="st">"c172code"</span>, <span class="st">"c161sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.html">print</a></span><span class="op">(</span><span class="va">out</span>, collapse_table <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour |                        c172code |    c161sex | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |          low level of education |   [1] Male |     73.95 | 69.35, 78.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     62.56 | 58.22, 66.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     52.42 | 47.89, 56.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     30.89 | 24.84, 36.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |                                 | [2] Female |     75.00 | 71.40, 78.59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     63.60 | 60.45, 66.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     53.46 | 50.12, 56.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     31.93 | 26.82, 37.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 | intermediate level of education |   [1] Male |     74.67 | 71.05, 78.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     63.27 | 59.88, 66.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     53.14 | 49.39, 56.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     31.61 | 25.97, 37.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |                                 | [2] Female |     75.71 | 73.31, 78.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     64.32 | 62.41, 66.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     54.18 | 51.81, 56.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     32.65 | 27.94, 37.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |         high level of education |   [1] Male |     75.39 | 71.03, 79.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     63.99 | 59.72, 68.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     53.86 | 49.22, 58.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     32.33 | 25.94, 38.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |                                 | [2] Female |     76.43 | 72.88, 79.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |                                 |            |     65.03 | 61.67, 68.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |                                 |            |     54.90 | 51.15, 58.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |                                 |            |     33.37 | 27.69, 39.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* neg_c_7 = 11.84</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specified as formula</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="op">~</span> <span class="va">c12hour</span> <span class="op">+</span> <span class="va">c172code</span> <span class="op">+</span> <span class="va">c161sex</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: low level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [1] Male</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     73.95 | 69.35, 78.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     62.56 | 58.22, 66.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     52.42 | 47.89, 56.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     30.89 | 24.84, 36.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: low level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [2] Female</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     75.00 | 71.40, 78.59</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     63.60 | 60.45, 66.74</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.46 | 50.12, 56.80</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     31.93 | 26.82, 37.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: intermediate level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [1] Male</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     74.67 | 71.05, 78.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     63.27 | 59.88, 66.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.14 | 49.39, 56.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     31.61 | 25.97, 37.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: intermediate level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [2] Female</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     75.71 | 73.31, 78.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     64.32 | 62.41, 66.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     54.18 | 51.81, 56.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     32.65 | 27.94, 37.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: high level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [1] Male</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     75.39 | 71.03, 79.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     63.99 | 59.72, 68.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     53.86 | 49.22, 58.50</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     32.33 | 25.94, 38.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: high level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c161sex: [2] Female</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     76.43 | 72.88, 79.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     65.03 | 61.67, 68.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     54.90 | 51.15, 58.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     33.37 | 27.69, 39.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* neg_c_7 = 11.84</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only range of 40 to 60 for variable 'c12hour'</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="st">"c12hour [40:60]"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      40 |     65.31 | 63.66, 66.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      43 |     64.55 | 62.90, 66.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     64.05 | 62.39, 65.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      47 |     63.54 | 61.88, 65.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      50 |     62.78 | 61.11, 64.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      53 |     62.02 | 60.33, 63.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     61.51 | 59.80, 63.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      60 |     60.25 | 58.49, 62.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  neg_c_7 = 11.84</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  c161sex =  1.76</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c172code =  1.97</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># terms as named list</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>c12hour <span class="op">=</span> <span class="fl">40</span><span class="op">:</span><span class="fl">60</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      40 |     65.31 | 63.66, 66.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      43 |     64.55 | 62.90, 66.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     64.05 | 62.39, 65.70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      47 |     63.54 | 61.88, 65.20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      50 |     62.78 | 61.11, 64.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      53 |     62.02 | 60.33, 63.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     61.51 | 59.80, 63.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      60 |     60.25 | 58.49, 62.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  neg_c_7 = 11.84</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  c161sex =  1.76</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c172code =  1.97</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># covariate "neg_c_7" is held constant at a value of 11.84 (its mean value).</span></span></span>
<span class="r-in"><span><span class="co"># To use a different value, use "condition"</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="st">"c12hour [40:60]"</span>, condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>neg_c_7 <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      40 |     46.56 | 42.58, 50.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      43 |     45.80 | 41.84, 49.76</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      45 |     45.30 | 41.35, 49.24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      47 |     44.79 | 40.86, 48.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      50 |     44.03 | 40.11, 47.94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      53 |     43.27 | 39.37, 47.17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     42.76 | 38.87, 46.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      60 |     41.50 | 37.62, 45.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  c161sex = 1.76</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c172code = 1.97</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># to plot ggeffects-objects, you can use the 'plot()'-function.</span></span></span>
<span class="r-in"><span><span class="co"># the following examples show how to build your ggplot by hand.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># plot predicted values, remaining covariates held constant</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mydf</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="st">"c12hour"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mydf</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">predicted</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">conf.low</span>, ymax <span class="op">=</span> <span class="va">conf.high</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict_response-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># three variables, so we can use facets and groups</span></span></span>
<span class="r-in"><span><span class="va">mydf</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c12hour"</span>, <span class="st">"c161sex"</span>, <span class="st">"c172code"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mydf</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">predicted</span>, colour <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">stat_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">facet</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `geom_smooth()` using formula = 'y ~ x'</span>
<span class="r-plt img"><img src="predict_response-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># select specific levels for grouping terms</span></span></span>
<span class="r-in"><span><span class="va">mydf</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c12hour"</span>, <span class="st">"c172code [1,3]"</span>, <span class="st">"c161sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mydf</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">predicted</span>, colour <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">stat_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">facet</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    y <span class="op">=</span> <span class="fu"><a href="get_title.html">get_y_title</a></span><span class="op">(</span><span class="va">mydf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    x <span class="op">=</span> <span class="fu"><a href="get_title.html">get_x_title</a></span><span class="op">(</span><span class="va">mydf</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    colour <span class="op">=</span> <span class="fu"><a href="get_title.html">get_legend_title</a></span><span class="op">(</span><span class="va">mydf</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `geom_smooth()` using formula = 'y ~ x'</span>
<span class="r-plt img"><img src="predict_response-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># level indication also works for factors with non-numeric levels</span></span></span>
<span class="r-in"><span><span class="co"># and in combination with numeric levels for other variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">efc</span><span class="op">$</span><span class="va">c172code</span> <span class="op">&lt;-</span> <span class="fu">sjlabelled</span><span class="fu">::</span><span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">as_label</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">c172code</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">barthtot</span> <span class="op">~</span> <span class="va">c12hour</span> <span class="op">+</span> <span class="va">neg_c_7</span> <span class="op">+</span> <span class="va">c161sex</span> <span class="op">+</span> <span class="va">c172code</span>, data <span class="op">=</span> <span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"c12hour"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"c172code [low level of education, high level of education]"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"c161sex [1]"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: low level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     72.81 | 67.90, 77.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     65.22 | 60.53, 69.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     58.89 | 54.22, 63.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     51.29 | 46.45, 56.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     115 |     43.69 | 38.48, 48.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     29.76 | 23.48, 36.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: high level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     74.03 | 69.23, 78.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     66.43 | 61.74, 71.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      55 |     60.10 | 55.33, 64.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      85 |     52.51 | 47.45, 57.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     115 |     44.91 | 39.39, 50.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     170 |     30.98 | 24.28, 37.68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* neg_c_7 = 11.84</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># when "terms" is a named list</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  c12hour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">170</span>, <span class="fl">30</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c172code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"low level of education"</span>, <span class="st">"high level of education"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  c161sex <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted values of Total score BARTHEL INDEX</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: low level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     72.81 | 67.90, 77.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     65.22 | 60.53, 69.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      60 |     57.62 | 52.94, 62.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      90 |     50.02 | 45.14, 54.91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     120 |     42.43 | 37.14, 47.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     150 |     34.83 | 28.98, 40.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BB0000;">c172code: high level of education</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c12hour | Predicted |       95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       0 |     74.03 | 69.23, 78.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      30 |     66.43 | 61.74, 71.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      60 |     58.84 | 54.03, 63.64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      90 |     51.24 | 46.11, 56.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     120 |     43.64 | 38.03, 49.26</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     150 |     36.05 | 29.82, 42.28</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* neg_c_7 = 11.84</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use categorical value on x-axis, use axis-labels, add error bars</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c172code"</span>, <span class="st">"c161sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">predicted</span>, colour <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_errorbar</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">conf.low</span>, ymax <span class="op">=</span> <span class="va">conf.high</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html" class="external-link">scale_x_discrete</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, labels <span class="op">=</span> <span class="fu"><a href="get_title.html">get_x_labels</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict_response-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 3-way-interaction with 2 continuous variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># make categorical</span></span></span>
<span class="r-in"><span><span class="va">efc</span><span class="op">$</span><span class="va">c161sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/as_factor.html" class="external-link">as_factor</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">c161sex</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">neg_c_7</span> <span class="op">~</span> <span class="va">c12hour</span> <span class="op">*</span> <span class="va">barthtot</span> <span class="op">*</span> <span class="va">c161sex</span>, data <span class="op">=</span> <span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># select only levels 30, 50 and 70 from continuous variable Barthel-Index</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"c12hour"</span>, <span class="st">"barthtot [30,50,70]"</span>, <span class="st">"c161sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">predicted</span>, colour <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">stat_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span>, fullrange <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">facet</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    colour <span class="op">=</span> <span class="fu"><a href="get_title.html">get_legend_title</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    x <span class="op">=</span> <span class="fu"><a href="get_title.html">get_x_title</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    y <span class="op">=</span> <span class="fu"><a href="get_title.html">get_y_title</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    title <span class="op">=</span> <span class="fu"><a href="get_title.html">get_title</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `geom_smooth()` using formula = 'y ~ x'</span>
<span class="r-plt img"><img src="predict_response-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># or with ggeffects' plot-method</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">dat</span>, show_ci <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="predict_response-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># predictions for polynomial terms</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">tot_sc_e</span> <span class="op">~</span> <span class="va">c12hour</span> <span class="op">+</span> <span class="va">e42dep</span> <span class="op">+</span> <span class="va">e17age</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">e17age</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">e17age</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">efc</span>,</span></span>
<span class="r-in"><span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">predict_response</span><span class="op">(</span><span class="va">fit</span>, terms <span class="op">=</span> <span class="st">"e17age"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;"># Predicted counts of Services for elderly</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e17age | Predicted |     95% CI</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -------------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     65 |      1.25 | 1.00, 1.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     69 |      0.97 | 0.87, 1.09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     74 |      0.90 | 0.80, 1.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     78 |      0.94 | 0.85, 1.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     82 |      1.01 | 0.92, 1.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     87 |      1.06 | 0.94, 1.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     91 |      0.97 | 0.84, 1.12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    103 |      0.22 | 0.07, 0.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">Adjusted for:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">* c12hour = 42.29</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">*  e42dep =  2.94</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Not all rows are shown in the output. Use `print(..., n = Inf)` to show</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   all rows.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

