<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Significance Testing Of Differences Between Predictions I: Contrasts And Pairwise Comparisons • ggeffects</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Significance Testing Of Differences Between Predictions I: Contrasts And Pairwise Comparisons">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggeffects</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-introductions" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Introductions</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-introductions">
<li><a class="dropdown-item" href="../articles/ggeffects.html">Adjusted predictions of regression models</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_effectsatvalues.html">Adjusted predictions at specific values</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_randomeffects.html">Adjusted predictions for mixed models</a></li>
    <li><a class="dropdown-item" href="../articles/practical_robustestimation.html">(Cluster) Robust standard errors</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-interpretation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Interpretation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-interpretation">
<li><a class="dropdown-item" href="../articles/introduction_comparisons_1.html">Contrasts and pairwise comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_2.html">Slopes, floodlight and spotlight analysis</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_3.html">Contrasts and pairwise comparisons for GLM</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_4.html">Contrasts and pairwise comparisons for Zero-Inflation Models</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_comparisons_5.html">Using marginaleffects or emmeans for comparisons</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_partial_residuals.html">Adding partial residuals to effects plots</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-plotting-and-printing" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Plotting and Printing</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-plotting-and-printing">
<li><a class="dropdown-item" href="../articles/introduction_plotmethod.html">Plotting adjusted predictions</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_plotcustomize.html">Customize plot appearance</a></li>
    <li><a class="dropdown-item" href="../articles/introduction_print.html">Customize table appearance</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-case-studies" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Case Studies</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-case-studies">
<li><a class="dropdown-item" href="../articles/practical_glm_workflow.html">Simple workflow using logistic regression</a></li>
    <li><a class="dropdown-item" href="../articles/practical_logisticmixedmodel.html">Logistic mixed effects Model with interaction term</a></li>
    <li><a class="dropdown-item" href="../articles/practical_intersectionality.html">Intersectionality analysis using the MAIHDA framework</a></li>
    <li><a class="dropdown-item" href="../articles/practical_marginaleffects_pkg.html">Comparison of ggeffects and marginaleffects</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-technical-details" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Technical Details</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-technical-details">
<li><a class="dropdown-item" href="../articles/technical_differencepredictemmeans.html">Difference between marginalization methods</a></li>
    <li><a class="dropdown-item" href="../articles/technical_stata.html">Different Output between Stata and ggeffects</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/strengejacke/ggeffects/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Significance Testing Of Differences Between Predictions I: Contrasts And Pairwise Comparisons</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/ggeffects/blob/master/vignettes/introduction_comparisons_1.Rmd" class="external-link"><code>vignettes/introduction_comparisons_1.Rmd</code></a></small>
      <div class="d-none name"><code>introduction_comparisons_1.Rmd</code></div>
    </div>

    
    
<style type="text/css">.callout-tip {
  border: solid 3px #fbd46d;
  border-radius: 5px;
  background-color: #f7fbe1;
  color: #303960;
  padding: 0px;
  margin-bottom: 1.5em;
  margin-top: 1.5em;
}

.callout-tip li {
  margin-bottom: 0.4em;
  margin-top: 0.4em;
  margin-right: 17px;
}

.indent_p {
  padding-left: 17px;
}

.callout-tip code {
  color: #d32626;
}

.callout-tip h1, .callout-tip h2 {
  font-size: 1.3em;
  color: #d32626;
  padding: 3px;
  padding-left: 15px;
  background-color: #fbd46d;
  margin-bottom: 15px;
  margin-top: 0px;
}</style>
<p>This vignette is the first in a 4-part series:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Significance Testing of Differences Between Predictions
I: Contrasts and Pairwise Comparisons</strong></p></li>
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html"><strong>Significance
Testing of Differences Between Predictions II: Comparisons of Slopes,
Floodlight and Spotlight Analysis (Johnson-Neyman
Intervals)</strong></a></p></li>
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_3.html"><strong>Significance
Testing of Differences Between Predictions III: Contrasts and
Comparisons for Generalized Linear Models</strong></a></p></li>
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_4.html"><strong>Significance
Testing of Differences Between Predictions IV: Contrasts and Comparisons
for Zero-Inflation Models</strong></a></p></li>
</ol>
<div class="section level2">
<h2 id="hypothesis-testing-for-categorical-predictors">Hypothesis testing for categorical predictors<a class="anchor" aria-label="anchor" href="#hypothesis-testing-for-categorical-predictors"></a>
</h2>
<p>A reason to compute adjusted predictions (or estimated marginal
means) is to help understanding the relationship between predictors and
outcome of a regression model. In particular for more complex models,
for example, complex interaction terms, it is often easier to understand
the associations when looking at adjusted predictions instead of the raw
table of regression coefficients.</p>
<p>The next step, which often follows this, is to see if there are
statistically significant differences. These could be, for example,
differences between groups, i.e. between the levels of categorical
predictors or whether trends differ significantly from each other.</p>
<p>The <em>ggeffects</em> package provides a function,
<code><a href="../reference/test_predictions.html">test_predictions()</a></code>, which does exactly this: testing
differences of adjusted predictions for statistical significance. This
is usually called <em>contrasts</em> or <em>(pairwise) comparisons</em>,
or <em>marginal effects</em> (if the difference refers to a one-unit
change of predictors). This vignette shows some examples how to use the
<code><a href="../reference/test_predictions.html">test_predictions()</a></code> function and how to test wheter
differences in predictions are statistically significant.</p>
<p>First, different examples for <em>pairwise comparisons</em> are
shown, later we will see how to test <em>differences-in-differences</em>
(in the <em>emmeans</em> package, also called <em>interaction
contrasts</em>).</p>
<p><em>Note: An alias for <code><a href="../reference/test_predictions.html">test_predictions()</a></code> is
<code><a href="../reference/test_predictions.html">hypothesis_test()</a></code>. You can use either of these two function
names.</em></p>
<div class="callout-tip">
<h2>
<img src="../reference/figures/summary.png" width="20" height="17" style="vertical-align:middle">
Summary of most important points:
</h2>
<ul>
<li>Contrasts and pairwise comparisons can be used to test if differences of predictions at different values of the focal terms are statistically significant or not. This is useful if "group differences" are of interest.</li>
<li>
<code><a href="../reference/test_predictions.html">test_predictions()</a></code>
 calculates contrasts and comparisons for the results returned by 
<code><a href="../reference/predict_response.html">predict_response()</a></code>
.
</li>
<li>
It is possible to calculate simple contrasts, pairwise comparisons, or interaction contrasts (difference-in-differences). Use the 
<code>test</code>
 argument to control which kind of contrast or comparison should be made.
</li>
<li>If one or more focal terms are continuous predictors, contrasts and comparisons can be calculated for the slope, or the linear trend of those predictors.</li>
</ul>
</div>
<div class="section level3">
<h3 id="within-episode-do-levels-differ">Within <code>episode</code>, do levels differ?<a class="anchor" aria-label="anchor" href="#within-episode-do-levels-differ"></a>
</h3>
<p>We start with a toy example, where we have a linear model with two
categorical predictors. No interaction is involved for now.</p>
<p>We display a simple table of regression coefficients, created with
<code><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters()</a></code> from the <em>parameters</em>
package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/ggeffects/">ggeffects</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/parameters/" class="external-link">parameters</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">200</span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>,</span>
<span>  grp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment"</span>, <span class="st">"control"</span><span class="op">)</span>, <span class="va">n</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  episode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="va">n</span>, <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"female"</span>, <span class="st">"male"</span><span class="op">)</span>, <span class="va">n</span>, <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.4</span>, <span class="fl">0.6</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">~</span> <span class="va">grp</span> <span class="op">+</span> <span class="va">episode</span>, data <span class="op">=</span> <span class="va">d</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Parameter       | Coefficient |   SE |        95% CI | t(196) |     p</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; (Intercept)     |       -0.08 | 0.13 | [-0.33, 0.18] |  -0.60 | 0.552</span></span>
<span><span class="co">#&gt; grp [treatment] |       -0.17 | 0.13 | [-0.44, 0.09] |  -1.30 | 0.197</span></span>
<span><span class="co">#&gt; episode [2]     |        0.36 | 0.16 | [ 0.03, 0.68] |   2.18 | 0.031</span></span>
<span><span class="co">#&gt; episode [3]     |        0.10 | 0.16 | [-0.22, 0.42] |   0.62 | 0.538</span></span></code></pre></div>
<div class="section level4">
<h4 id="predictions">Predictions<a class="anchor" aria-label="anchor" href="#predictions"></a>
</h4>
<p>Let us look at the adjusted predictions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"episode"</span><span class="op">)</span></span>
<span><span class="va">my_predictions</span></span>
<span><span class="co">#&gt; # Predicted values of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Predicted |      95% CI</span></span>
<span><span class="co">#&gt; ---------------------------------</span></span>
<span><span class="co">#&gt; 1       |     -0.08 | -0.33, 0.18</span></span>
<span><span class="co">#&gt; 2       |      0.28 |  0.02, 0.54</span></span>
<span><span class="co">#&gt; 3       |      0.02 | -0.24, 0.28</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Adjusted for:</span></span>
<span><span class="co">#&gt; * grp = control</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">my_predictions</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>We now see that, for instance, the predicted <em>outcome</em> when
<code>espisode = 2</code> is 0.28.</p>
</div>
<div class="section level4">
<h4 id="pairwise-comparisons">Pairwise comparisons<a class="anchor" aria-label="anchor" href="#pairwise-comparisons"></a>
</h4>
<p>We could now ask whether the predicted outcome for
<code>episode = 1</code> is significantly different from the predicted
outcome at <code>episode = 2</code>.</p>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>To do this, we use the <code><a href="../reference/test_predictions.html">test_predictions()</a></code> function. This
function, like <code><a href="../reference/predict_response.html">predict_response()</a></code>, <em>either</em> accepts
the model object as first argument, followed by the <em>focal
predictors</em> of interest, i.e. the variables of the model for which
contrasts or pairwise comparisons should be calculated; <em>or</em> you
can pass the results from <code><a href="../reference/predict_response.html">predict_response()</a></code> directly into
<code><a href="../reference/test_predictions.html">test_predictions()</a></code>. This is useful if you want to avoid
specifying the same arguments again.</p>
<p>By default, when all focal terms are categorical, a pairwise
comparison is performed. You can specify other hypothesis tests as well,
using the <code>test</code> argument (which defaults to
<code>"pairwise"</code>, see <code><a href="../reference/test_predictions.html">?test_predictions</a></code>). For now,
we go on with the simpler example of contrasts or pairwise
comparisons.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># argument `test` defaults to "pairwise"</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"episode"</span><span class="op">)</span> <span class="co"># same as test_predictions(my_predictions)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Contrast |       95% CI |     p</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; 1-2     |    -0.36 | -0.68, -0.03 | 0.031</span></span>
<span><span class="co">#&gt; 1-3     |    -0.10 | -0.42,  0.22 | 0.538</span></span>
<span><span class="co">#&gt; 2-3     |     0.26 | -0.06,  0.58 | 0.112</span></span></code></pre></div>
<p>For our quantity of interest, the contrast between episode 1-2, we
see the value -0.36, which is exactly the difference between the
predicted outcome for <code>episode = 1</code> (-0.08) and
<code>episode = 2</code> (0.28). The related p-value is 0.031,
indicating that the difference between the predicted values of our
outcome at these two levels of the factor <em>episode</em> is indeed
statistically significant.</p>
<p>Since the <code>terms</code> argument in
<code><a href="../reference/test_predictions.html">test_predictions()</a></code> works in the same way as for
<code><a href="../reference/predict_response.html">predict_response()</a></code>, you can directly pass “representative
values” via that argument (for details, see <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">this
vignette</a>). For example, we could also specify the levels of
<code>episode</code> directly, to simplify the output:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"episode [1:2]"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Contrast |       95% CI |     p</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; 1-2     |    -0.36 | -0.68, -0.03 | 0.031</span></span></code></pre></div>
<p>In this simple example, the contrasts of both
<code>episode = 2</code> and <code>episode = 3</code> to
<code>episode = 1</code> equals the coefficients of the regression table
above (same applies to the p-values), where the coefficients refer to
the difference between the related parameter of <code>episode</code> and
its reference level, <code>episode = 1</code>.</p>
<p>To avoid specifying all arguments used in a call to
<code><a href="../reference/predict_response.html">predict_response()</a></code> again, we can also pass the objects
returned by <code><a href="../reference/predict_response.html">predict_response()</a></code> directly into
<code><a href="../reference/test_predictions.html">test_predictions()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">model1</span>, <span class="st">"episode"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">pred</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Contrast |       95% CI |     p</span></span>
<span><span class="co">#&gt; -----------------------------------------</span></span>
<span><span class="co">#&gt; 1-2     |    -0.36 | -0.68, -0.03 | 0.031</span></span>
<span><span class="co">#&gt; 1-3     |    -0.10 | -0.42,  0.22 | 0.538</span></span>
<span><span class="co">#&gt; 2-3     |     0.26 | -0.06,  0.58 | 0.112</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="does-same-level-of-episode-differ-between-groups">Does same level of episode differ between groups?<a class="anchor" aria-label="anchor" href="#does-same-level-of-episode-differ-between-groups"></a>
</h3>
<p>The next example includes a pairwise comparison of an interaction
between two categorical predictors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">~</span> <span class="va">grp</span> <span class="op">*</span> <span class="va">episode</span>, data <span class="op">=</span> <span class="va">d</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://easystats.github.io/parameters/reference/model_parameters.html" class="external-link">model_parameters</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Parameter                     | Coefficient |   SE |        95% CI | t(194) |     p</span></span>
<span><span class="co">#&gt; -----------------------------------------------------------------------------------</span></span>
<span><span class="co">#&gt; (Intercept)                   |        0.03 | 0.15 | [-0.27, 0.33] |   0.18 | 0.853</span></span>
<span><span class="co">#&gt; grp [treatment]               |       -0.42 | 0.23 | [-0.88, 0.04] |  -1.80 | 0.074</span></span>
<span><span class="co">#&gt; episode [2]                   |        0.20 | 0.22 | [-0.23, 0.63] |   0.94 | 0.350</span></span>
<span><span class="co">#&gt; episode [3]                   |       -0.07 | 0.22 | [-0.51, 0.37] |  -0.32 | 0.750</span></span>
<span><span class="co">#&gt; grp [treatment] × episode [2] |        0.36 | 0.33 | [-0.29, 1.02] |   1.09 | 0.277</span></span>
<span><span class="co">#&gt; grp [treatment] × episode [3] |        0.37 | 0.32 | [-0.27, 1.00] |   1.14 | 0.254</span></span></code></pre></div>
<div class="section level4">
<h4 id="predictions-1">Predictions<a class="anchor" aria-label="anchor" href="#predictions-1"></a>
</h4>
<p>First, we look at the predicted values of <em>outcome</em> for all
combinations of the involved interaction term.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">my_predictions</span></span>
<span><span class="co">#&gt; # Predicted values of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; grp: control</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Predicted |       95% CI</span></span>
<span><span class="co">#&gt; ----------------------------------</span></span>
<span><span class="co">#&gt; 1       |      0.03 | -0.27,  0.33</span></span>
<span><span class="co">#&gt; 2       |      0.23 | -0.08,  0.54</span></span>
<span><span class="co">#&gt; 3       |     -0.04 | -0.36,  0.28</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; grp: treatment</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Predicted |       95% CI</span></span>
<span><span class="co">#&gt; ----------------------------------</span></span>
<span><span class="co">#&gt; 1       |     -0.39 | -0.74, -0.04</span></span>
<span><span class="co">#&gt; 2       |      0.18 | -0.18,  0.53</span></span>
<span><span class="co">#&gt; 3       |     -0.09 | -0.39,  0.21</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">my_predictions</span><span class="op">)</span></span></code></pre></div>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
</div>
<div class="section level4">
<h4 id="pairwise-comparisons-1">Pairwise comparisons<a class="anchor" aria-label="anchor" href="#pairwise-comparisons-1"></a>
</h4>
<p>We could now ask whether the predicted outcome for
<code>episode = 2</code> is significantly different depending on the
level of <code>grp</code>? In other words, do the groups
<code>treatment</code> and <code>control</code> differ when
<code>episode = 2</code>?</p>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<p>Again, to answer this question, we calculate all pairwise
comparisons, i.e. the comparison (or test for differences) between all
combinations of our <em>focal predictors</em>. The focal predictors
we’re interested here are our two variables used for the
interaction.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># we want "episode = 2-2" and "grp = control-treatment"</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode |                 grp | Contrast |       95% CI |     p</span></span>
<span><span class="co">#&gt; ---------------------------------------------------------------</span></span>
<span><span class="co">#&gt; 1-2     |     control-control |    -0.20 | -0.63,  0.23 | 0.350</span></span>
<span><span class="co">#&gt; 1-3     |     control-control |     0.07 | -0.37,  0.51 | 0.750</span></span>
<span><span class="co">#&gt; 1-1     |   control-treatment |     0.42 | -0.04,  0.88 | 0.074</span></span>
<span><span class="co">#&gt; 1-2     |   control-treatment |    -0.15 | -0.61,  0.32 | 0.529</span></span>
<span><span class="co">#&gt; 1-3     |   control-treatment |     0.12 | -0.30,  0.54 | 0.573</span></span>
<span><span class="co">#&gt; 2-3     |     control-control |     0.27 | -0.17,  0.72 | 0.225</span></span>
<span><span class="co">#&gt; 2-1     |   control-treatment |     0.62 |  0.16,  1.09 | 0.009</span></span>
<span><span class="co">#&gt; 2-2     |   control-treatment |     0.06 | -0.41,  0.52 | 0.816</span></span>
<span><span class="co">#&gt; 2-3     |   control-treatment |     0.32 | -0.10,  0.75 | 0.137</span></span>
<span><span class="co">#&gt; 3-1     |   control-treatment |     0.35 | -0.13,  0.82 | 0.150</span></span>
<span><span class="co">#&gt; 3-2     |   control-treatment |    -0.22 | -0.70,  0.26 | 0.368</span></span>
<span><span class="co">#&gt; 3-3     |   control-treatment |     0.05 | -0.39,  0.49 | 0.821</span></span>
<span><span class="co">#&gt; 1-2     | treatment-treatment |    -0.57 | -1.06, -0.07 | 0.026</span></span>
<span><span class="co">#&gt; 1-3     | treatment-treatment |    -0.30 | -0.76,  0.16 | 0.203</span></span>
<span><span class="co">#&gt; 2-3     | treatment-treatment |     0.27 | -0.19,  0.73 | 0.254</span></span></code></pre></div>
<p>For our quantity of interest, the contrast between groups
<code>treatment</code> and <code>control</code> when
<code>episode = 2</code> is 0.06. We find this comparison in row 8 of
the above output.</p>
<p>As we can see, <code><a href="../reference/test_predictions.html">test_predictions()</a></code> returns pairwise
comparisons of all possible combinations of factor levels from our focal
variables. If we’re only interested in a very specific comparison, we
have two options to simplify the output:</p>
<ol style="list-style-type: decimal">
<li><p>We could directly formulate this comparison as <code>test</code>.
To achieve this, we first need to create an overview of the adjusted
predictions, which we get from <code><a href="../reference/predict_response.html">predict_response()</a></code> or
<code>test_predictions(test = NULL)</code>.</p></li>
<li><p>We pass specific values or levels to the <code>terms</code>
argument, which is the same as for
<code><a href="../reference/predict_response.html">predict_response()</a></code>.</p></li>
</ol>
<div class="section level5">
<h5 id="option-1-directly-specify-the-comparison">Option 1: Directly specify the comparison<a class="anchor" aria-label="anchor" href="#option-1-directly-specify-the-comparison"></a>
</h5>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># adjusted predictions, compact table</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; episode |       grp | Predicted |       95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; 1       |   control |      0.03 | -0.27,  0.33 | 0.853</span></span>
<span><span class="co">#&gt; 2       |   control |      0.23 | -0.08,  0.54 | 0.139</span></span>
<span><span class="co">#&gt; 3       |   control |     -0.04 | -0.36,  0.28 | 0.793</span></span>
<span><span class="co">#&gt; 1       | treatment |     -0.39 | -0.74, -0.04 | 0.028</span></span>
<span><span class="co">#&gt; 2       | treatment |      0.18 | -0.18,  0.53 | 0.328</span></span>
<span><span class="co">#&gt; 3       | treatment |     -0.09 | -0.39,  0.21 | 0.540</span></span></code></pre></div>
<p>In the above output, each row is considered as one coefficient of
interest. Our groups we want to include in our comparison are rows two
(<code>grp = control</code> and <code>episode = 2</code>) and five
(<code>grp = treatment</code> and <code>episode = 2</code>), so our
“quantities of interest” are <code>b2</code> and <code>b5</code>. Our
null hypothesis we want to test is whether both predictions are equal,
i.e. <code>test = "b2 = b5"</code>. We can now calculate the desired
comparison directly:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># compute specific contrast directly</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="st">"b2 = b5"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Hypothesis | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; -------------------------------------------</span></span>
<span><span class="co">#&gt; b2=b5      |     0.06 | -0.41, 0.52 | 0.816</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Tested hypothesis: episode[2],grp[control] = episode[2],grp[treatment]</span></span></code></pre></div>
<p>Curious how <code>test</code> works in detail?
<code><a href="../reference/test_predictions.html">test_predictions()</a></code> is a small, convenient wrapper around
<code><a href="https://marginaleffects.com/man/predictions.html" class="external-link">predictions()</a></code> and <code><a href="https://marginaleffects.com/man/slopes.html" class="external-link">slopes()</a></code> of the great <a href="https://marginaleffects.com/" class="external-link"><em>marginaleffects</em></a>
package. Thus, <code>test</code> is just passed to the <a href="https://marginaleffects.com/vignettes/hypothesis.html" class="external-link"><code>hypothesis</code>
argument</a> of those functions.</p>
</div>
<div class="section level5">
<h5 id="option-2-specify-values-or-levels">Option 2: Specify values or levels<a class="anchor" aria-label="anchor" href="#option-2-specify-values-or-levels"></a>
</h5>
<p>Again, using representative values for the <code>terms</code>
argument, we can also simplify the output using an alternative
syntax:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># return pairwise comparisons for specific values, in</span></span>
<span><span class="co"># this case for episode = 2 in both groups</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode [2]"</span>, <span class="st">"grp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode |               grp | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------------------------------</span></span>
<span><span class="co">#&gt; 2-2     | control-treatment |     0.06 | -0.41, 0.52 | 0.816</span></span></code></pre></div>
<p>This is equivalent to the above example, where we directly specified
the comparison we’re interested in. However, the <code>test</code>
argument might provide more flexibility in case you want more complex
comparisons. See examples below.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="do-different-episode-levels-differ-between-groups">Do different episode levels differ between groups?<a class="anchor" aria-label="anchor" href="#do-different-episode-levels-differ-between-groups"></a>
</h3>
<p>We can repeat the steps shown above to test any combination of group
levels for differences.</p>
<div class="section level4">
<h4 id="pairwise-comparisons-2">Pairwise comparisons<a class="anchor" aria-label="anchor" href="#pairwise-comparisons-2"></a>
</h4>
<p>For instance, we could now ask whether the predicted outcome for
<code>episode = 1</code> in the <code>treatment</code> group is
significantly different from the predicted outcome for
<code>episode = 3</code> in the <code>control</code> group.</p>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-16-1.png" width="672"></p>
<p>The contrast we are interested in is between <code>episode = 1</code>
in the <code>treatment</code> group and <code>episode = 3</code> in the
<code>control</code> group. These are the predicted values in rows three
and four (c.f. above table of predicted values), thus we
<code>test</code> whether <code>"b4 = b3"</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="st">"b4 = b3"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Hypothesis | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; -------------------------------------------</span></span>
<span><span class="co">#&gt; b4=b3      |    -0.35 | -0.82, 0.13 | 0.150</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Tested hypothesis: episode[1],grp[treatment] = episode[3],grp[control]</span></span></code></pre></div>
<p>Another way to produce this pairwise comparison, we can reduce the
table of predicted values by providing <a href="https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html">specific
values or levels</a> in the <code>terms</code> argument:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode [1,3]"</span>, <span class="st">"grp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Predicted values of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; grp: control</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Predicted |       95% CI</span></span>
<span><span class="co">#&gt; ----------------------------------</span></span>
<span><span class="co">#&gt; 1       |      0.03 | -0.27,  0.33</span></span>
<span><span class="co">#&gt; 3       |     -0.04 | -0.36,  0.28</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; grp: treatment</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode | Predicted |       95% CI</span></span>
<span><span class="co">#&gt; ----------------------------------</span></span>
<span><span class="co">#&gt; 1       |     -0.39 | -0.74, -0.04</span></span>
<span><span class="co">#&gt; 3       |     -0.09 | -0.39,  0.21</span></span></code></pre></div>
<p><code>episode = 1</code> in the <code>treatment</code> group and
<code>episode = 3</code> in the <code>control</code> group refer now to
rows two and three, thus we also can obtain the desired comparison this
way:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode [1,3]"</span>, <span class="st">"grp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">pred</span>, test <span class="op">=</span> <span class="st">"b3 = b2"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Hypothesis | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; -------------------------------------------</span></span>
<span><span class="co">#&gt; b3=b2      |    -0.35 | -0.82, 0.13 | 0.150</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Tested hypothesis: episode[1],grp[treatment] = episode[3],grp[control]</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="does-difference-between-two-levels-of-episode-in-the-control-group-differ-from-difference-of-same-two-levels-in-the-treatment-group">Does difference between two levels of episode in the control group
differ from difference of same two levels in the treatment group?<a class="anchor" aria-label="anchor" href="#does-difference-between-two-levels-of-episode-in-the-control-group-differ-from-difference-of-same-two-levels-in-the-treatment-group"></a>
</h3>
<p>The <code>test</code> argument also allows us to compare
difference-in-differences (aka <em>interaction contrasts</em>). For
example, is the difference between two episode levels in one group
significantly different from the difference of the same two episode
levels in the other group?</p>
<p><img src="introduction_comparisons_1_files/figure-html/unnamed-chunk-20-1.png" width="672"></p>
<p>As a reminder, we look at the table of predictions again:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; episode |       grp | Predicted |       95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------------------------</span></span>
<span><span class="co">#&gt; 1       |   control |      0.03 | -0.27,  0.33 | 0.853</span></span>
<span><span class="co">#&gt; 2       |   control |      0.23 | -0.08,  0.54 | 0.139</span></span>
<span><span class="co">#&gt; 3       |   control |     -0.04 | -0.36,  0.28 | 0.793</span></span>
<span><span class="co">#&gt; 1       | treatment |     -0.39 | -0.74, -0.04 | 0.028</span></span>
<span><span class="co">#&gt; 2       | treatment |      0.18 | -0.18,  0.53 | 0.328</span></span>
<span><span class="co">#&gt; 3       | treatment |     -0.09 | -0.39,  0.21 | 0.540</span></span></code></pre></div>
<p>The first difference of episode levels 1 and 2 in the control group
refer to rows one and two in the above table (<code>b1</code> and
<code>b2</code>). The difference for the same episode levels in the
treatment group refer to the difference between rows four and five
(<code>b4</code> and <code>b5</code>). Thus, we have
<code>b1 - b2</code> and <code>b4 - b5</code>, and our null hypothesis
is that these two differences are equal:
<code>test = "(b1 - b2) = (b4 - b5)"</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="st">"(b1 - b2) = (b4 - b5)"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Hypothesis      | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------------------</span></span>
<span><span class="co">#&gt; (b1-b2)=(b4-b5) |     0.36 | -0.29, 1.02 | 0.277</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Tested hypothesis: (episode[1],grp[control] - episode[2],grp[control]) = (episode[1],grp[treatment] - episode[2],grp[treatment])</span></span></code></pre></div>
<p>Interaction contrasts can also be calculated by specifying
<code>test = "interaction"</code>. Not that in this case, the
<em>emmeans</em> package is used an backend,
i.e. <code><a href="../reference/test_predictions.html">test_predictions()</a></code> is called with
<code>engine = "emmeans"</code> (silently).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># test = "interaction" always returns *all* possible interaction contrasts</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">model2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"episode"</span>, <span class="st">"grp"</span><span class="op">)</span>, test <span class="op">=</span> <span class="st">"interaction"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Interaction contrasts</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; episode |                   grp | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ----------------------------------------------------------------</span></span>
<span><span class="co">#&gt; 1-2     | control and treatment |     0.36 | -0.29, 1.02 | 0.277</span></span>
<span><span class="co">#&gt; 1-3     | control and treatment |     0.37 | -0.27, 1.00 | 0.254</span></span>
<span><span class="co">#&gt; 2-3     | control and treatment |     0.01 | -0.64, 0.65 | 0.988</span></span></code></pre></div>
<p>Let’s replicate this step-by-step:</p>
<ol style="list-style-type: decimal">
<li>Predicted value of <em>outcome</em> for <code>episode = 1</code> in
the control group is 0.03.</li>
<li>Predicted value of <em>outcome</em> for <code>episode = 2</code> in
the control group is 0.23.</li>
<li>The first difference is -0.2</li>
<li>Predicted value of <em>outcome</em> for <code>episode = 1</code> in
the treatment group is -0.39.</li>
<li>Predicted value of <em>outcome</em> for <code>episode = 2</code> in
the treatment group is 0.18.</li>
<li>The second difference is -0.57</li>
<li>Our quantity of interest is the difference between these two
differences, which is 0.36. This difference is not statistically
significant (p = 0.277).</li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Thanks to the great <em>marginaleffects</em> package, it is now
possible to have a powerful function in <em>ggeffects</em> that allows
to perform the next logical step after calculating adjusted predictions
and to conduct hypothesis tests for contrasts and pairwise
comparisons.</p>
<p>While the current implementation in <code><a href="../reference/test_predictions.html">test_predictions()</a></code>
already covers many common use cases for testing contrasts and pairwise
comparison, there still might be the need for more sophisticated
comparisons. In this case, I recommend using the <a href="https://marginaleffects.com/" class="external-link"><em>marginaleffects</em></a> package
directly. Some further related recommended readings are the vignettes
about <a href="https://marginaleffects.com/vignettes/comparisons.html" class="external-link">Comparisons</a>
or <a href="https://marginaleffects.com/vignettes/hypothesis.html" class="external-link">Hypothesis
Tests</a>.</p>
<p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html">Go
to next vignette: <strong>Significance Testing of Differences Between
Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis
(Johnson-Neyman Intervals)</strong></a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer>
</div>





  </body>
</html>
