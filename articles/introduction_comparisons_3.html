<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ggeffects">
<title>Significance Testing Of Differences Between Predictions III: Contrasts And Comparisons For Generalized Linear Models • ggeffects</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Significance Testing Of Differences Between Predictions III: Contrasts And Comparisons For Generalized Linear Models">
<meta property="og:description" content="ggeffects">
<meta property="og:image" content="https://strengejacke.github.io/ggeffects/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light" data-bs-theme="default"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggeffects</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.0.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-introductions">Introductions</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-introductions">
    <a class="dropdown-item" href="../articles/ggeffects.html">Adjusted predictions of regression models</a>
    <a class="dropdown-item" href="../articles/introduction_effectsatvalues.html">Adjusted predictions at specific values</a>
    <a class="dropdown-item" href="../articles/introduction_randomeffects.html">Adjusted predictions for mixed models</a>
    <a class="dropdown-item" href="../articles/practical_robustestimation.html">(Cluster) Robust standard errors</a>
  </div>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-interpretation">Interpretation</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-interpretation">
    <a class="dropdown-item" href="../articles/introduction_comparisons_1.html">Contrasts and pairwise comparisons</a>
    <a class="dropdown-item" href="../articles/introduction_comparisons_2.html">Slopes, floodlight and spotlight analysis</a>
    <a class="dropdown-item" href="../articles/introduction_comparisons_3.html">Contrasts and pairwise comparisons for GLM</a>
    <a class="dropdown-item" href="../articles/introduction_comparisons_4.html">Contrasts and pairwise comparisons for Zero-Inflation Models</a>
    <a class="dropdown-item" href="../articles/introduction_comparisons_5.html">Using marginaleffects or emmeans for comparisons</a>
    <a class="dropdown-item" href="../articles/introduction_partial_residuals.html">Adding partial residuals to effects plots</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-plotting-and-printing">Plotting and Printing</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-plotting-and-printing">
    <a class="dropdown-item" href="../articles/introduction_plotmethod.html">Plotting adjusted predictions</a>
    <a class="dropdown-item" href="../articles/introduction_plotcustomize.html">Customize plot appearance</a>
    <a class="dropdown-item" href="../articles/introduction_print.html">Customize table appearance</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-case-studies">Case Studies</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-case-studies">
    <a class="dropdown-item" href="../articles/practical_glm_workflow.html">Simple workflow using logistic regression</a>
    <a class="dropdown-item" href="../articles/practical_logisticmixedmodel.html">Logistic mixed effects Model with interaction term</a>
    <a class="dropdown-item" href="../articles/practical_intersectionality.html">Intersectionality analysis using the MAIHDA framework</a>
    <a class="dropdown-item" href="../articles/practical_marginaleffects_pkg.html">Comparison of ggeffects and marginaleffects</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-technical-details">Technical Details</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-technical-details">
    <a class="dropdown-item" href="../articles/technical_differencepredictemmeans.html">Difference between marginalization methods</a>
    <a class="dropdown-item" href="../articles/technical_stata.html">Different Output between Stata and ggeffects</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/strengejacke/ggeffects/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Significance Testing Of Differences Between Predictions III: Contrasts And Comparisons For Generalized Linear Models</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/ggeffects/blob/HEAD/vignettes/introduction_comparisons_3.Rmd" class="external-link"><code>vignettes/introduction_comparisons_3.Rmd</code></a></small>
      <div class="d-none name"><code>introduction_comparisons_3.Rmd</code></div>
    </div>

    
    
<style type="text/css">.callout-tip {
  border: solid 3px #fbd46d;
  border-radius: 5px;
  background-color: #f7fbe1;
  color: #303960;
  padding: 0px;
  margin-bottom: 1.5em;
  margin-top: 1.5em;
}

.callout-tip li {
  margin-bottom: 0.4em;
  margin-top: 0.4em;
  margin-right: 17px;
}

.indent_p {
  padding-left: 17px;
}

.callout-tip code {
  color: #d32626;
}

.callout-tip h1, .callout-tip h1, .callout-tip h2 {
  font-size: 1.3em;
  color: #d32626;
  padding: 3px;
  padding-left: 15px;
  background-color: #fbd46d;
  margin-bottom: 15px;
}</style>
<p>This vignette is the third in a 4-part series:</p>
<ol style="list-style-type: decimal">
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html"><strong>Significance
Testing of Differences Between Predictions I: Contrasts and Pairwise
Comparisons</strong></a></p></li>
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html"><strong>Significance
Testing of Differences Between Predictions II: Comparisons of Slopes,
Floodlight and Spotlight Analysis (Johnson-Neyman
Intervals)</strong></a></p></li>
<li><p><strong>Significance Testing of Differences Between Predictions
III: Contrasts and Comparisons for Generalized Linear
Models</strong></p></li>
<li><p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_4.html"><strong>Significance
Testing of Differences Between Predictions IV: Contrasts and Comparisons
for Zero-Inflation Models</strong></a></p></li>
</ol>
<div class="section level2">
<h2 id="contrasts-and-comparisons-for-glm---logistic-regression-example">Contrasts and comparisons for GLM - logistic regression example<a class="anchor" aria-label="anchor" href="#contrasts-and-comparisons-for-glm---logistic-regression-example"></a>
</h2>
<p>We will now show an example for non-Gaussian models. For GLM’s
(generalized linear models) with (non-Gaussian) link-functions,
<code><a href="../reference/predict_response.html">predict_response()</a></code> always returns predcted values on the
<em>response</em> scale. For example, predicted values for logistic
regression models are shown as <em>probabilities</em>.</p>
<div class="callout-tip">
<h2>
<img src="../reference/figures/summary.png" width="20" height="17" style="vertical-align:middle">
Summary of most important points:
</h2>
<ul>
<li>
Predictions (returned by 
<code><a href="../reference/predict_response.html">predict_response()</a></code>
) are usually on the response scale. This is also true for other regression models than linear regression. E.g., predictions for logistic regression are presented as probailities, and for Poisson regression, the average count of event is returned.
</li>
<li>
<code><a href="../reference/test_predictions.html">test_predictions()</a></code>
 also returns contrasts and comparisons on the response scale by default. This is usually the most intuitive scale for people to understand. E.g., for a logistic regression model, contrasts are presented as difference between two probabilities (in percentage points).
</li>
<li>It is possible to return contrasts or comparisons on other scales, too - but mostly, this is probably not necessary.</li>
</ul>
</div>
<p>Let’s look at a simple example</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/ggeffects/">ggeffects</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Binomial.html" class="external-link">rbinom</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, size <span class="op">=</span> <span class="fl">1</span>, prob <span class="op">=</span> <span class="fl">0.35</span><span class="op">)</span>,</span>
<span>  x1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, size <span class="op">=</span> <span class="fl">100</span>, <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  x2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">10</span>, sd <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>,</span>
<span>  x3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, size <span class="op">=</span> <span class="fl">100</span>, <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">outcome</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span> <span class="op">+</span> <span class="va">x3</span>, data <span class="op">=</span> <span class="va">dat</span>, family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">binomial</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Predicted probabilities of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1 | Predicted |     95% CI</span></span>
<span><span class="co">#&gt; ---------------------------</span></span>
<span><span class="co">#&gt; 1  |      0.15 | 0.03, 0.49</span></span>
<span><span class="co">#&gt; 2  |      0.09 | 0.02, 0.40</span></span>
<span><span class="co">#&gt; 3  |      0.22 | 0.05, 0.63</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Adjusted for:</span></span>
<span><span class="co">#&gt; * x2 = 10.29</span></span>
<span><span class="co">#&gt; * x3 =     1</span></span></code></pre></div>
<div class="section level3">
<h3 id="contrasts-and-comparisons-for-categorical-focal-terms">Contrasts and comparisons for categorical focal terms<a class="anchor" aria-label="anchor" href="#contrasts-and-comparisons-for-categorical-focal-terms"></a>
</h3>
<p>Contrasts or comparisons - like predictions (see above) - are by
default on the <em>response</em> scale, i.e. they’re represented as
difference between probabilities (in percentage points).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     0.05 | -0.09, 0.19 | 0.469</span></span>
<span><span class="co">#&gt; 1-3 |    -0.07 | -0.25, 0.10 | 0.414</span></span>
<span><span class="co">#&gt; 2-3 |    -0.13 | -0.35, 0.09 | 0.257</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented as probabilities (in %-points).</span></span></code></pre></div>
<p>The difference between the predicted probability of
<code>x1 = 1</code> (14.6%) and <code>x1 = 2</code> (9.3%) is roughly
5.3% points. This difference is not statistically significant (p =
0.469).</p>
<p>The <code>scale</code> argument in <code><a href="../reference/test_predictions.html">test_predictions()</a></code>
can be used to return contrasts or comparisons on a differen scale. For
example, to transform contrasts to <em>odds ratios</em>, we can use
<code>scale = "exp"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">p</span>, scale <span class="op">=</span> <span class="st">"exp"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |     95% CI |     p</span></span>
<span><span class="co">#&gt; -----------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     1.05 | 0.91, 1.22 | 0.469</span></span>
<span><span class="co">#&gt; 1-3 |     0.93 | 0.78, 1.11 | 0.414</span></span>
<span><span class="co">#&gt; 2-3 |     0.88 | 0.71, 1.10 | 0.257</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented on the exponentiated scale.</span></span></code></pre></div>
<p>Contrasts or comparisons can also be represented on the link-scale,
in this case as <em>log-odds</em>. To do so, use
<code>scale = "link"</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">p</span>, scale <span class="op">=</span> <span class="st">"link"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     0.51 | -0.79, 1.80 | 0.443</span></span>
<span><span class="co">#&gt; 1-3 |    -0.50 | -1.55, 0.54 | 0.345</span></span>
<span><span class="co">#&gt; 2-3 |    -1.01 | -2.38, 0.36 | 0.147</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented as log-odds.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="contrasts-and-comparisons-for-numerical-focal-terms">Contrasts and comparisons for numerical focal terms<a class="anchor" aria-label="anchor" href="#contrasts-and-comparisons-for-numerical-focal-terms"></a>
</h3>
<p>For numeric focal variables, where the slopes (linear trends) are
estimated, transformed scales (like <code>scale = "exp"</code>) are not
supported. However, <code>scale = "link"</code> can be used to return
untransformed contrasts or comparisons on the link-scale.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x2"</span>, scale <span class="op">=</span> <span class="st">"link"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # (Average) Linear trend for x2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slope |      95% CI |     p</span></span>
<span><span class="co">#&gt; ---------------------------</span></span>
<span><span class="co">#&gt; -0.07 | -0.14, 0.00 | 0.065</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Slopes are presented as log-odds.</span></span></code></pre></div>
<p>Be aware whether and which back-transformation to use, as it affects
the resulting p-values. A detailed overview of transformations can be
found <a href="https://marginaleffects.com/vignettes/comparisons.html" class="external-link">in this
vignette</a>.</p>
</div>
<div class="section level3">
<h3 id="contrasts-and-comparisons-for-different-margin-options">Contrasts and comparisons for different <code>margin</code>
options<a class="anchor" aria-label="anchor" href="#contrasts-and-comparisons-for-different-margin-options"></a>
</h3>
<p>Like in <code><a href="../reference/predict_response.html">predict_response()</a></code>, the <code>margin</code>
argument can be used in <code><a href="../reference/test_predictions.html">test_predictions()</a></code> to define how to
marginalize over the <em>non-focal</em> predictors, i.e. those variables
that are <em>not</em> specified in <code>terms</code>. This can be
important depending on the type of regression models in order to
calculate accurate comparisons or contrasts, since these refer to the
<em>difference</em> between predicted values.</p>
<p>For linear models, these differences are usually the same, regardless
of the <code>margin</code> option. However, for non-Gaussian models,
differences between predicted values may differ for the different
<code>margin</code> options.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># predictions, using mean/mode for non-focal predictors</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span><span class="op">)</span></span>
<span><span class="co"># predictions, averaged across non-focal predictors</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_response.html">predict_response</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span>, margin <span class="op">=</span> <span class="st">"empirical"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span></span>
<span><span class="co">#&gt; # Predicted probabilities of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1 | Predicted |     95% CI</span></span>
<span><span class="co">#&gt; ---------------------------</span></span>
<span><span class="co">#&gt; 1  |      0.15 | 0.03, 0.49</span></span>
<span><span class="co">#&gt; 2  |      0.09 | 0.02, 0.40</span></span>
<span><span class="co">#&gt; 3  |      0.22 | 0.05, 0.63</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Adjusted for:</span></span>
<span><span class="co">#&gt; * x2 = 10.29</span></span>
<span><span class="co">#&gt; * x3 =     1</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">p2</span></span>
<span><span class="co">#&gt; # Average predicted probabilities of outcome</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1 | Predicted |     95% CI</span></span>
<span><span class="co">#&gt; ---------------------------</span></span>
<span><span class="co">#&gt; 1  |      0.24 | 0.13, 0.38</span></span>
<span><span class="co">#&gt; 2  |      0.16 | 0.06, 0.36</span></span>
<span><span class="co">#&gt; 3  |      0.34 | 0.18, 0.53</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># differences between predicted values</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">p1</span><span class="op">$</span><span class="va">predicted</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -0.05258416  0.12700886</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/diff.html" class="external-link">diff</a></span><span class="op">(</span><span class="va">p2</span><span class="op">$</span><span class="va">predicted</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] -0.07906904  0.18124204</span></span></code></pre></div>
<p>Consequently, <code><a href="../reference/test_predictions.html">test_predictions()</a></code> <em>either</em>
requires specifying the <code>margin</code> argument when a model and
<code>terms</code> argument are provided, or the related
<code>ggeffects</code> object returned by
<code><a href="../reference/predict_response.html">predict_response()</a></code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># contrast refers to predictions, using mean/mode for non-focal predictors</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     0.05 | -0.09, 0.19 | 0.469</span></span>
<span><span class="co">#&gt; 1-3 |    -0.07 | -0.25, 0.10 | 0.414</span></span>
<span><span class="co">#&gt; 2-3 |    -0.13 | -0.35, 0.09 | 0.257</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented as probabilities (in %-points).</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># contrast refers to predictions, averaged across non-focal predictors</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">m</span>, <span class="st">"x1"</span>, margin <span class="op">=</span> <span class="st">"empirical"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     0.08 | -0.11, 0.27 | 0.417</span></span>
<span><span class="co">#&gt; 1-3 |    -0.10 | -0.31, 0.11 | 0.353</span></span>
<span><span class="co">#&gt; 2-3 |    -0.18 | -0.41, 0.05 | 0.125</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented as probabilities (in %-points).</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># or</span></span>
<span><span class="fu"><a href="../reference/test_predictions.html">test_predictions</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span>
<span><span class="co">#&gt; # Pairwise comparisons</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; x1  | Contrast |      95% CI |     p</span></span>
<span><span class="co">#&gt; ------------------------------------</span></span>
<span><span class="co">#&gt; 1-2 |     0.08 | -0.11, 0.27 | 0.417</span></span>
<span><span class="co">#&gt; 1-3 |    -0.10 | -0.31, 0.11 | 0.353</span></span>
<span><span class="co">#&gt; 2-3 |    -0.18 | -0.41, 0.05 | 0.125</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Contrasts are presented as probabilities (in %-points).</span></span></code></pre></div>
<p><a href="https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_4.html">Go
to next vignette: <strong>Significance Testing of Differences Between
Predictions III: Contrasts and Comparisons for Zero-Inflation
Models</strong></a></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
