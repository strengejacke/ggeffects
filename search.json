[{"path":"https://strengejacke.github.io/ggeffects/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 ggeffects authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/content.html","id":"general-introductions-into-the-ggeffects-package","dir":"Articles","previous_headings":"","what":"General introductions into the ggeffects package","title":"Documentation of the ggeffects package","text":"Adjusted Predictions Regression Models Definition Marginal Effects Adjusted Predictions Specific Values Adjusted Predictions Random Effects Models (Cluster) Robust Standard Errors","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/content.html","id":"interpretation-and-significance-testing","dir":"Articles","previous_headings":"","what":"Interpretation and Significance Testing","title":"Documentation of the ggeffects package","text":"Contrasts Pairwise Comparisons Floodlight Spotlight Analysis (Johnson-Neyman Intervals) Contrasts Pairwise Comparisons GLM Adding Partial Residuals Effects Plots","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/content.html","id":"creating-and-customizing-plots","dir":"Articles","previous_headings":"","what":"Creating and customizing plots","title":"Documentation of the ggeffects package","text":"Plotting Adjusted Predictions Customize Plot Appearance","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/content.html","id":"case-studies","dir":"Articles","previous_headings":"","what":"Case Studies","title":"Documentation of the ggeffects package","text":"Logistic Mixed Effects Model Interaction Term Intersectionality analysis using MAIHDA framework Comparison ggeffects marginaleffects","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/content.html","id":"technical-details","dir":"Articles","previous_headings":"","what":"Technical details","title":"Documentation of the ggeffects package","text":"Difference ggpredict(), ggemmeans() ggaverage() Different output Stata ggeffects","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"aim-of-the-ggeffects-package","dir":"Articles","previous_headings":"","what":"Aim of the ggeffects-package","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"Results regression models typically presented tables easy understand. complex models include interaction quadratic / spline terms, tables numbers less helpful difficult interpret. cases, visualization marginal effects adjusted predictions far easier understand allows intuitively get idea predictors outcome associated, even complex models. ggeffects computes marginal effects adjusted predictions (estimated marginal means) mean (MEM) representative values (MER) predictors statistical models (called focal terms), .e. predictions generated model one holds non-focal variables constant varies focal variable(s). result returned data frame consistent structure, especially use ggplot. Definitions “marginal effects” can found . Since common language across fields regarding unique meaning “marginal effects”, recommended read vignette understand ggeffects actually , package differs packages calculate “marginal effects”. Since focus lies plotting data (marginal effects/adjusted predictions), least one focal term needs specified effects computed. also possible compute marginal effects focal terms, grouped levels another model’s predictor. package also allows plotting marginal effects two-, three- four-way-interactions, specific values focal term . Examples shown .","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"short-technical-note","dir":"Articles","previous_headings":"Aim of the ggeffects-package","what":"Short technical note","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"ggpredict(), ggemmeans() ggeffect() always return predicted values response model (response distribution Bayesian models). Typically, ggpredict() returns confidence intervals based standard errors returned predict()-function, assuming normal distribution (+/- 1.96 * SE) resp. Student’s t-distribuion (degrees freedom available). predict() certain class return standard errors (example, merMod-objects), calculated manually, following steps: matrix-multiply X parameter vector B get predictions, extract variance-covariance matrix V parameters compute XVX' get variance-covariance matrix predictions. square-root diagonal matrix represent standard errors predictions, multiplied critical test-statistic value (e.g., ~1.96 normal distribuion) confidence intervals. mixed models, type = \"random\" type = \"zi_random\", uncertainty random effects accounted calculating standard errors. Hence, cases, intervals may considered prediction intervals.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"consistent-and-tidy-structure","dir":"Articles","previous_headings":"Aim of the ggeffects-package","what":"Consistent and tidy structure","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"returned data frames always , consistent structure column names, ’s easy create ggplot-plots without need re-write arguments mapped ggplot-call. x predicted values x- y-axis. conf.low conf.high used ymin ymax aesthetics ribbons add confidence bands plot. group can used grouping-aesthetics, faceting. original variable names desired column names, .data.frame() method objects class ggeffects, terms_to_colnames argument, use variable names column names instead standardized names \"x\" etc. examples shown mostly use ggplot2-code plots, however, also plot()-method, described vignette Plotting Marginal Effects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"marginal-effects-at-the-mean","dir":"Articles","previous_headings":"","what":"Marginal effects at the mean","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"ggpredict() computes predicted values possible levels values model’s predictors defined focal terms. simplest case, fitted model passed first argument, focal term second argument. Use raw name variable terms-argument - don’t need write things like poly(term, 3) (term^2) terms-argument. can see, ggpredict() (ggeffect() ggemmeans()) nice print() method, takes care printing many rows (always equally spaced range values, including minimum maximum value term question) giving extra information. especially useful predicted values shown depending levels terms (see ). output shows predicted values response value term c12hour. data already shape ggplot:","code":"library(ggeffects) data(efc, package = \"ggeffects\") fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  ggpredict(fit, terms = \"c12hour\") #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.44 | 73.25, 77.63 #>      20 |     70.38 | 68.56, 72.19 #>      45 |     64.05 | 62.39, 65.70 #>      65 |     58.98 | 57.15, 60.80 #>      85 |     53.91 | 51.71, 56.12 #>     105 |     48.85 | 46.14, 51.55 #>     125 |     43.78 | 40.51, 47.05 #>     170 |     32.38 | 27.73, 37.04 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> *  c161sex =  1.76 #> * c172code =  1.97 library(ggplot2) theme_set(theme_bw())  mydf <- ggpredict(fit, terms = \"c12hour\") ggplot(mydf, aes(x, predicted)) + geom_line()"},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"marginal-effects-at-the-mean-by-other-predictors-levels","dir":"Articles","previous_headings":"","what":"Marginal effects at the mean by other predictors’ levels","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"terms argument accepts four model terms, second fourth terms indicate grouping levels. allows predictions term question different levels values focal terms: Creating ggplot pretty straightforward: colour aesthetics mapped group column:  second grouping structure can defined, create another column named facet, - name implies - might used create facted plot:  Finally, third differentation can defined, creating another column named panel. cases, may create multiple plots (value panel). ggeffects takes care use plot() automatically creates integrated plot panels one figure.","code":"ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     76.18 | 72.81, 79.55 #>      30 |     68.58 | 65.41, 71.76 #>      55 |     62.25 | 59.00, 65.50 #>      85 |     54.65 | 51.03, 58.27 #>     115 |     47.05 | 42.85, 51.26 #>     170 |     33.12 | 27.50, 38.74 #>  #> c172code: intermediate level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.46 | 73.28, 77.65 #>      30 |     67.87 | 66.16, 69.57 #>      55 |     61.53 | 59.82, 63.25 #>      85 |     53.93 | 51.72, 56.14 #>     115 |     46.34 | 43.35, 49.32 #>     170 |     32.40 | 27.74, 37.07 #>  #> c172code: high level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.75 | 71.26, 78.23 #>      30 |     67.15 | 64.03, 70.26 #>      55 |     60.81 | 57.77, 63.86 #>      85 |     53.22 | 49.95, 56.48 #>     115 |     45.62 | 41.86, 49.37 #>     170 |     31.69 | 26.59, 36.78 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #> * c161sex =  1.76 mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) ggplot(mydf, aes(x, predicted, colour = group)) + geom_line() mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\")) mydf #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.39 | 71.03, 79.75 #>      45 |     63.99 | 59.72, 68.26 #>      85 |     53.86 | 49.22, 58.50 #>     170 |     32.33 | 25.94, 38.72 #>  #> c172code: low level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     76.43 | 72.88, 79.98 #>      45 |     65.03 | 61.67, 68.39 #>      85 |     54.90 | 51.15, 58.65 #>     170 |     33.37 | 27.69, 39.05 #>  #> c172code: intermediate level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.67 | 71.05, 78.29 #>      45 |     63.27 | 59.88, 66.67 #>      85 |     53.14 | 49.39, 56.89 #>     170 |     31.61 | 25.97, 37.25 #>  #> c172code: intermediate level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.71 | 73.31, 78.12 #>      45 |     64.32 | 62.41, 66.22 #>      85 |     54.18 | 51.81, 56.56 #>     170 |     32.65 | 27.94, 37.37 #>  #> c172code: high level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     73.95 | 69.35, 78.56 #>      45 |     62.56 | 58.22, 66.89 #>      85 |     52.42 | 47.89, 56.96 #>     170 |     30.89 | 24.84, 36.95 #>  #> c172code: high level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.00 | 71.40, 78.59 #>      45 |     63.60 | 60.45, 66.74 #>      85 |     53.46 | 50.12, 56.80 #>     170 |     31.93 | 26.82, 37.05 #>  #> Adjusted for: #> * neg_c_7 = 11.84 ggplot(mydf, aes(x, predicted, colour = group)) +   geom_line() +   facet_wrap(~facet) mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\", \"neg_c_7\")) plot(mydf) + theme(legend.position = \"bottom\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"marginal-effects-for-each-model-term","dir":"Articles","previous_headings":"","what":"Marginal effects for each model term","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"term argument either missing NULL, marginal effects model term calculated. result returned list, can plotted manually (using plot() function).","code":"mydf <- ggpredict(fit) mydf #> $c12hour #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.44 | 73.25, 77.63 #>      20 |     70.38 | 68.56, 72.19 #>      45 |     64.05 | 62.39, 65.70 #>      65 |     58.98 | 57.15, 60.80 #>      85 |     53.91 | 51.71, 56.12 #>     105 |     48.85 | 46.14, 51.55 #>     125 |     43.78 | 40.51, 47.05 #>     170 |     32.38 | 27.73, 37.04 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> *  c161sex =  1.76 #> * c172code =  1.97 #>  #> $neg_c_7 #> # Predicted values of Total score BARTHEL INDEX #>  #> neg_c_7 | Predicted |       95% CI #> ---------------------------------- #>       6 |     78.17 | 75.10, 81.23 #>       8 |     73.57 | 71.20, 75.94 #>      12 |     64.38 | 62.73, 66.04 #>      14 |     59.79 | 57.88, 61.70 #>      16 |     55.19 | 52.72, 57.67 #>      20 |     46.00 | 42.04, 49.97 #>      22 |     41.41 | 36.63, 46.20 #>      28 |     27.63 | 20.30, 34.96 #>  #> Adjusted for: #> *  c12hour = 42.20 #> *  c161sex =  1.76 #> * c172code =  1.97 #>  #> $c161sex #> # Predicted values of Total score BARTHEL INDEX #>  #> c161sex | Predicted |       95% CI #> ---------------------------------- #>       1 |     63.96 | 60.57, 67.35 #>       2 |     65.00 | 63.11, 66.90 #>  #> Adjusted for: #> *  c12hour = 42.20 #> *  neg_c_7 = 11.84 #> * c172code =  1.97 #>  #> $c172code #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code | Predicted |       95% CI #> ----------------------------------- #>        1 |     64.06 | 61.01, 67.11 #>        2 |     64.78 | 63.12, 66.43 #>        3 |     65.49 | 62.31, 68.68 #>  #> Adjusted for: #> * c12hour = 42.20 #> * neg_c_7 = 11.84 #> * c161sex =  1.76 #>  #> attr(,\"class\") #> [1] \"ggalleffects\" \"list\"         #> attr(,\"model.name\") #> [1] \"fit\""},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"two-way-three-way--and-four-way-interactions","dir":"Articles","previous_headings":"","what":"Two-Way, Three-Way- and Four-Way-Interactions","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"plot marginal effects interaction terms, simply specify terms terms argument.  Since terms argument accepts four focal terms, can also compute marginal effects 3-way-interaction 4-way-interaction. plot marginal effects three interaction terms, just like , specify three terms terms argument.  4-way-interactions rather confusing print plot. plotting, multiple plots (level fourth interaction term) plotted remaining three interaction terms. can easily done using plot()-method.","code":"data(efc, package = \"ggeffects\")  # make categorical efc$c161sex <- datawizard::to_factor(efc$c161sex)  # fit model with interaction fit <- lm(neg_c_7 ~ c12hour + barthtot * c161sex, data = efc)  # select only levels 30, 50 and 70 from continuous variable Barthel-Index mydf <- ggpredict(fit, terms = c(\"barthtot [30,50,70]\", \"c161sex\")) ggplot(mydf, aes(x, predicted, colour = group)) + geom_line() # fit model with 3-way-interaction fit <- lm(neg_c_7 ~ c12hour * barthtot * c161sex, data = efc)  # select only levels 30, 50 and 70 from continuous variable Barthel-Index mydf <- ggpredict(fit, terms = c(\"c12hour\", \"barthtot [30,50,70]\", \"c161sex\"))  ggplot(mydf, aes(x, predicted, colour = group)) +    geom_line() +   facet_wrap(~facet) # fit model with 4-way-interaction fit <- lm(neg_c_7 ~ c12hour * barthtot * c161sex * c172code, data = efc)  # marginal effects for all 4 interaction terms pr <- ggpredict(fit, c(\"c12hour\", \"barthtot\", \"c161sex\", \"c172code\"))  # use plot() method, easier than own ggplot-code from scratch plot(pr) + theme(legend.position = \"bottom\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"polynomial-terms-and-splines","dir":"Articles","previous_headings":"","what":"Polynomial terms and splines","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"ggpredict() also works models polynomial terms splines. Following code reproduces plot ?splines::bs:","code":"library(splines) data(women)  fm1 <- lm(weight ~ bs(height, df = 5), data = women) dat <- ggpredict(fm1, \"height\")  ggplot(dat, aes(x, predicted)) +   geom_line() +   geom_point()"},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"survival-models","dir":"Articles","previous_headings":"","what":"Survival models","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"ggpredict() also supports coxph-models survival-package able either plot risk-scores (default), probabilities survival (type = \"survival\") cumulative hazards (type = \"cumulative_hazard\"). Since probabilities survival cumulative hazards changing across time, time-variable automatically used x-axis cases, terms argument needs two variables type = \"survival\" type = \"cumulative_hazard\".","code":"library(survival) data(\"lung2\") m <- coxph(Surv(time, status) ~ sex + age + ph.ecog, data = lung2)  # predicted risk-scores ggpredict(m, c(\"sex\", \"ph.ecog\")) #> # Predicted risk scores #>  #> ph.ecog: good #>  #> sex    | Predicted |     95% CI #> ------------------------------- #> male   |      1.00 | 1.00, 1.00 #> female |      0.58 | 0.42, 0.81 #>  #> ph.ecog: ok #>  #> sex    | Predicted |     95% CI #> ------------------------------- #> male   |      2.47 | 1.58, 3.86 #> female |      1.43 | 0.83, 2.45 #>  #> ph.ecog: limited #>  #> sex    | Predicted |     95% CI #> ------------------------------- #> male   |      1.51 | 1.02, 2.23 #> female |      0.87 | 0.53, 1.43 #>  #> Adjusted for: #> * age = 62.42 # probability of survival ggpredict(m, c(\"sex\", \"ph.ecog\"), type = \"survival\") #> # Probability of Survival #>  #> sex: male #> ph.ecog: good #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.87 | 0.80, 0.93 #>  276 |      0.78 | 0.68, 0.88 #> 1022 |      0.24 | 0.11, 0.51 #>  #> sex: male #> ph.ecog: ok #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.70 | 0.59, 0.83 #>  276 |      0.53 | 0.40, 0.71 #> 1022 |      0.03 | 0.00, 0.19 #>  #> sex: male #> ph.ecog: limited #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.80 | 0.73, 0.88 #>  276 |      0.68 | 0.59, 0.79 #> 1022 |      0.12 | 0.04, 0.31 #>  #> sex: female #> ph.ecog: good #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.78 | 0.69, 0.87 #>  276 |      0.65 | 0.54, 0.78 #> 1022 |      0.09 | 0.03, 0.26 #>  #> sex: female #> ph.ecog: ok #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.54 | 0.42, 0.70 #>  276 |      0.34 | 0.22, 0.52 #> 1022 |      0.00 | 0.00, 0.04 #>  #> sex: female #> ph.ecog: limited #>  #> time | Predicted |     95% CI #> ----------------------------- #>    1 |      1.00 | 1.00, 1.00 #>  180 |      0.69 | 0.60, 0.79 #>  276 |      0.52 | 0.42, 0.64 #> 1022 |      0.02 | 0.01, 0.11 #>  #> Adjusted for: #> * age = 62.42"},{"path":"https://strengejacke.github.io/ggeffects/articles/ggeffects.html","id":"labelling-the-data","dir":"Articles","previous_headings":"","what":"Labelling the data","title":"ggeffects: Marginal Effects and Adjusted Predictions of Regression Models","text":"ggeffects makes use sjlabelled-package supports labelled data. data fitted models labelled, value variable label attributes usually copied model frame stored model object. ggeffects provides various getter-functions access labels, returned character vector can used ggplot’s lab()- scale_*()-functions. get_title() - generic title plot, based model family, like “predicted values” “predicted probabilities” get_x_title() - variable label first model term terms. get_y_title() - variable label response. get_legend_title() - variable label second model term terms. get_x_labels() - value labels first model term terms. get_legend_labels() - value labels second model term terms. data frame returned ggpredict(), ggemmeans() ggeffect() must used argument one function calls.","code":"get_x_title(mydf) #> [1] \"average number of hours of care per week\" get_y_title(mydf) #> [1] \"Negative impact with 7 items\"  ggplot(mydf, aes(x, predicted, colour = group)) +   geom_line() +   facet_wrap(~facet) +   labs(     x = get_x_title(mydf),     y = get_y_title(mydf),     colour = get_legend_title(mydf)   )"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"hypothesis-testing-for-categorical-predictors","dir":"Articles","previous_headings":"","what":"Hypothesis testing for categorical predictors","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"reason compute adjusted predictions (estimated marginal means) help understanding relationship predictors outcome regression model. particular complex models, example, complex interaction terms, often easier understand associations looking adjusted predictions instead raw table regression coefficients. next step, often follows , see statistically significant differences. , example, differences groups, .e. levels categorical predictors whether trends differ significantly . ggeffects package provides function, hypothesis_test(), exactly : testing differences adjusted predictions statistical significance. usually called contrasts (pairwise) comparisons. vignette shows examples use hypothesis_test() function test wheter differences predictions statistically significant. Note: alias hypothesis_test() test_predictions(). can use either two function names.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"within-episode-do-levels-differ","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors","what":"Within episode, do levels differ?","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"start toy example, linear model two categorical predictors. interaction involved now. display simple table regression coefficients, created model_parameters() parameters package.","code":"library(ggeffects) library(parameters) library(ggplot2)  set.seed(123) n <- 200 d <- data.frame(   outcome = rnorm(n),   grp = as.factor(sample(c(\"treatment\", \"control\"), n, TRUE)),   episode = as.factor(sample(1:3, n, TRUE)),   sex = as.factor(sample(c(\"female\", \"male\"), n, TRUE, prob = c(0.4, 0.6))) ) model1 <- lm(outcome ~ grp + episode, data = d) model_parameters(model1) #> Parameter       | Coefficient |   SE |        95% CI | t(196) |     p #> --------------------------------------------------------------------- #> (Intercept)     |       -0.08 | 0.13 | [-0.33, 0.18] |  -0.60 | 0.552 #> grp [treatment] |       -0.17 | 0.13 | [-0.44, 0.09] |  -1.30 | 0.197 #> episode [2]     |        0.36 | 0.16 | [ 0.03, 0.68] |   2.18 | 0.031 #> episode [3]     |        0.10 | 0.16 | [-0.22, 0.42] |   0.62 | 0.538"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"predictions","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Within episode, do levels differ?","what":"Predictions","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"Let us look adjusted predictions.  now see , instance, predicted outcome espisode = 2 0.28.","code":"mydf <- ggpredict(model1, \"episode\") mydf #> # Predicted values of outcome #>  #> episode | Predicted |      95% CI #> --------------------------------- #> 1       |     -0.08 | -0.33, 0.18 #> 2       |      0.28 |  0.02, 0.54 #> 3       |      0.02 | -0.24, 0.28 #>  #> Adjusted for: #> * grp = control  plot(mydf)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"pairwise-comparisons","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Within episode, do levels differ?","what":"Pairwise comparisons","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"now ask whether predicted outcome episode = 1 significantly different predicted outcome episode = 2.  , use hypothesis_test() function. function, like ggpredict(), accepts model object first argument, followed focal predictors interest, .e. variables model contrasts pairwise comparisons calculated. default, focal terms categorical, pairwise comparison performed. can specify hypothesis tests well, using test argument (defaults \"pairwise\", see ?hypothesis_test). now, go simpler example contrasts pairwise comparisons. quantity interest, contrast episode 1-2, see value -0.36, exactly difference predicted outcome episode = 1 (-0.08) episode = 2 (0.28). related p-value 0.031, indicating difference predicted values outcome two levels factor episode indeed statistically significant. Since terms argument hypothesis_test() works way ggpredict(), can directly pass “representative values” via argument (details, see vignette). example, also specify levels episode directly, simplify output: simple example, contrasts episode = 2 episode = 3 episode = 1 equals coefficients regression table (applies p-values), coefficients refer difference related parameter episode reference level, episode = 1. avoid specifying arguments used call ggpredict() , can also pass objects returned ggpredict() directly hypothesis_test().","code":"hypothesis_test(model1, \"episode\") # argument `test` defaults to \"pairwise\" #> # Pairwise comparisons #>  #> episode | Contrast |       95% CI |     p #> ----------------------------------------- #> 1-2     |    -0.36 | -0.68, -0.03 | 0.031 #> 1-3     |    -0.10 | -0.42,  0.22 | 0.538 #> 2-3     |     0.26 | -0.06,  0.58 | 0.112 # alternative syntax: # test_predictions(model1, \"episode [1:2]\")  hypothesis_test(model1, \"episode [1:2]\") #> # Pairwise comparisons #>  #> episode | Contrast |       95% CI |     p #> ----------------------------------------- #> 1-2     |    -0.36 | -0.68, -0.03 | 0.031 pred <- ggpredict(model1, \"episode\") hypothesis_test(pred) #> # Pairwise comparisons #>  #> episode | Contrast |       95% CI |     p #> ----------------------------------------- #> 1-2     |    -0.36 | -0.68, -0.03 | 0.031 #> 1-3     |    -0.10 | -0.42,  0.22 | 0.538 #> 2-3     |     0.26 | -0.06,  0.58 | 0.112"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"does-same-level-of-episode-differ-between-groups","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors","what":"Does same level of episode differ between groups?","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"next example includes pairwise comparison interaction two categorical predictors.","code":"model2 <- lm(outcome ~ grp * episode, data = d) model_parameters(model2) #> Parameter                     | Coefficient |   SE |        95% CI | t(194) |     p #> ----------------------------------------------------------------------------------- #> (Intercept)                   |        0.03 | 0.15 | [-0.27, 0.33] |   0.18 | 0.853 #> grp [treatment]               |       -0.42 | 0.23 | [-0.88, 0.04] |  -1.80 | 0.074 #> episode [2]                   |        0.20 | 0.22 | [-0.23, 0.63] |   0.94 | 0.350 #> episode [3]                   |       -0.07 | 0.22 | [-0.51, 0.37] |  -0.32 | 0.750 #> grp [treatment] × episode [2] |        0.36 | 0.33 | [-0.29, 1.02] |   1.09 | 0.277 #> grp [treatment] × episode [3] |        0.37 | 0.32 | [-0.27, 1.00] |   1.14 | 0.254"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"predictions-1","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Does same level of episode differ between groups?","what":"Predictions","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"First, look predicted values outcome combinations involved interaction term.","code":"mydf <- ggpredict(model2, c(\"episode\", \"grp\")) mydf #> # Predicted values of outcome #>  #> grp: control #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |      0.03 | -0.27,  0.33 #> 2       |      0.23 | -0.08,  0.54 #> 3       |     -0.04 | -0.36,  0.28 #>  #> grp: treatment #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |     -0.39 | -0.74, -0.04 #> 2       |      0.18 | -0.18,  0.53 #> 3       |     -0.09 | -0.39,  0.21  plot(mydf)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"pairwise-comparisons-1","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Does same level of episode differ between groups?","what":"Pairwise comparisons","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"now ask whether predicted outcome episode = 2 significantly different depending level grp? words, groups treatment control differ episode = 2?  , answer question, calculate pairwise comparisons, .e. comparison (test differences) combinations focal predictors. focal predictors ’re interested two variables used interaction. quantity interest, contrast groups treatment control episode = 2 0.06. find comparison row 8 output. can see, hypothesis_test() returns pairwise comparisons possible combinations factor levels focal variables. ’re interested specific comparison, two options simplify output: directly formulate comparison test. achieve , first need create overview adjusted predictions, get ggpredict() hypothesis_test(test = NULL). pass specific values levels terms argument, ggpredict().","code":"# we want \"episode = 2-2\" and \"grp = control-treatment\" hypothesis_test(model2, c(\"episode\", \"grp\")) #> # Pairwise comparisons #>  #> episode |                 grp | Contrast |       95% CI |     p #> --------------------------------------------------------------- #> 1-2     |     control-control |    -0.20 | -0.63,  0.23 | 0.350 #> 1-3     |     control-control |     0.07 | -0.37,  0.51 | 0.750 #> 1-1     |   control-treatment |     0.42 | -0.04,  0.88 | 0.074 #> 1-2     |   control-treatment |    -0.15 | -0.61,  0.32 | 0.529 #> 1-3     |   control-treatment |     0.12 | -0.30,  0.54 | 0.573 #> 2-3     |     control-control |     0.27 | -0.17,  0.72 | 0.225 #> 2-1     |   control-treatment |     0.62 |  0.16,  1.09 | 0.009 #> 2-2     |   control-treatment |     0.06 | -0.41,  0.52 | 0.816 #> 2-3     |   control-treatment |     0.32 | -0.10,  0.75 | 0.137 #> 3-1     |   control-treatment |     0.35 | -0.13,  0.82 | 0.150 #> 3-2     |   control-treatment |    -0.22 | -0.70,  0.26 | 0.368 #> 3-3     |   control-treatment |     0.05 | -0.39,  0.49 | 0.821 #> 1-2     | treatment-treatment |    -0.57 | -1.06, -0.07 | 0.026 #> 1-3     | treatment-treatment |    -0.30 | -0.76,  0.16 | 0.203 #> 2-3     | treatment-treatment |     0.27 | -0.19,  0.73 | 0.254"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"option-1-directly-specify-the-comparison","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Does same level of episode differ between groups? > Pairwise comparisons","what":"Option 1: Directly specify the comparison","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"output, row considered one coefficient interest. groups want include comparison rows two (grp = control episode = 2) five (grp = treatment episode = 2), “quantities interest” b2 b5. null hypothesis want test whether predictions equal, .e. test = \"b2 = b5\". can now calculate desired comparison directly: reason specific way specifying test argument hypothesis_test() small, convenient wrapper around predictions() slopes() great marginaleffects package. Thus, test just passed hypothesis argument functions.","code":"# adjusted predictions, formatted table ggpredict(model2, c(\"episode\", \"grp\")) #> # Predicted values of outcome #>  #> grp: control #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |      0.03 | -0.27,  0.33 #> 2       |      0.23 | -0.08,  0.54 #> 3       |     -0.04 | -0.36,  0.28 #>  #> grp: treatment #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |     -0.39 | -0.74, -0.04 #> 2       |      0.18 | -0.18,  0.53 #> 3       |     -0.09 | -0.39,  0.21  # adjusted predictions, compact table hypothesis_test(model2, c(\"episode\", \"grp\"), test = NULL) #> episode |       grp | Predicted |       95% CI |     p #> ------------------------------------------------------ #> 1       |   control |      0.03 | -0.27,  0.33 | 0.853 #> 2       |   control |      0.23 | -0.08,  0.54 | 0.139 #> 3       |   control |     -0.04 | -0.36,  0.28 | 0.793 #> 1       | treatment |     -0.39 | -0.74, -0.04 | 0.028 #> 2       | treatment |      0.18 | -0.18,  0.53 | 0.328 #> 3       | treatment |     -0.09 | -0.39,  0.21 | 0.540 # compute specific contrast directly hypothesis_test(model2, c(\"episode\", \"grp\"), test = \"b2 = b5\") #> Hypothesis | Contrast |      95% CI |     p #> ------------------------------------------- #> b2=b5      |     0.06 | -0.41, 0.52 | 0.816 #>  #> Tested hypothesis: episode[2],grp[control] = episode[2],grp[treatment]"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"option-2-specify-values-or-levels","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Does same level of episode differ between groups? > Pairwise comparisons","what":"Option 2: Specify values or levels","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":", using representative values terms argument, can also simplify output using alternative syntax: equivalent example, directly specified comparison ’re interested . However, test argument might provide flexibility case want complex comparisons. See examples .","code":"# return pairwise comparisons for specific values, in # this case for episode = 2 in both groups hypothesis_test(model2, c(\"episode [2]\", \"grp\")) #> # Pairwise comparisons #>  #> episode |               grp | Contrast |      95% CI |     p #> ------------------------------------------------------------ #> 2-2     | control-treatment |     0.06 | -0.41, 0.52 | 0.816"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"do-different-episode-levels-differ-between-groups","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors","what":"Do different episode levels differ between groups?","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"can repeat steps shown test combination group levels differences.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"pairwise-comparisons-2","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors > Do different episode levels differ between groups?","what":"Pairwise comparisons","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"instance, now ask whether predicted outcome episode = 1 treatment group significantly different predicted outcome episode = 3 control group.  contrast interested episode = 1 treatment group episode = 3 control group. predicted values rows three four (c.f. table predicted values), thus test whether \"b4 = b3\". Another way produce pairwise comparison, can reduce table predicted values providing specific values levels terms argument: episode = 1 treatment group episode = 3 control group refer now rows two three, thus also can obtain desired comparison way:","code":"hypothesis_test(model2, c(\"episode\", \"grp\"), test = \"b4 = b3\") #> Hypothesis | Contrast |      95% CI |     p #> ------------------------------------------- #> b4=b3      |    -0.35 | -0.82, 0.13 | 0.150 #>  #> Tested hypothesis: episode[1],grp[treatment] = episode[3],grp[control] ggpredict(model2, c(\"episode [1,3]\", \"grp\")) #> # Predicted values of outcome #>  #> grp: control #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |      0.03 | -0.27,  0.33 #> 3       |     -0.04 | -0.36,  0.28 #>  #> grp: treatment #>  #> episode | Predicted |       95% CI #> ---------------------------------- #> 1       |     -0.39 | -0.74, -0.04 #> 3       |     -0.09 | -0.39,  0.21 pred <- ggpredict(model2, c(\"episode [1,3]\", \"grp\")) hypothesis_test(pred, test = \"b3 = b2\") #> Hypothesis | Contrast |      95% CI |     p #> ------------------------------------------- #> b3=b2      |    -0.35 | -0.82, 0.13 | 0.150 #>  #> Tested hypothesis: episode[1],grp[treatment] = episode[3],grp[control]"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"does-difference-between-two-levels-of-episode-in-the-control-group-differ-from-difference-of-same-two-levels-in-the-treatment-group","dir":"Articles","previous_headings":"Hypothesis testing for categorical predictors","what":"Does difference between two levels of episode in the control group differ from difference of same two levels in the treatment group?","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"test argument also allows us compare difference--differences. example, difference two episode levels one group significantly different difference two episode levels group?  reminder, look table predictions : first difference episode levels 1 2 control group refer rows one two table (b1 b2). difference episode levels treatment group refer difference rows four five (b4 b5). Thus, b1 - b2 b4 - b5, null hypothesis two differences equal: test = \"(b1 - b2) = (b4 - b5)\". Let’s replicate step--step: Predicted value outcome episode = 1 control group 0.03. Predicted value outcome episode = 2 control group 0.23. first difference -0.2 Predicted value outcome episode = 1 treatment group -0.39. Predicted value outcome episode = 2 treatment group 0.18. second difference -0.57 quantity interest difference two differences, 0.36. difference statistically significant (p = 0.277).","code":"hypothesis_test(model2, c(\"episode\", \"grp\"), test = NULL) #> episode |       grp | Predicted |       95% CI |     p #> ------------------------------------------------------ #> 1       |   control |      0.03 | -0.27,  0.33 | 0.853 #> 2       |   control |      0.23 | -0.08,  0.54 | 0.139 #> 3       |   control |     -0.04 | -0.36,  0.28 | 0.793 #> 1       | treatment |     -0.39 | -0.74, -0.04 | 0.028 #> 2       | treatment |      0.18 | -0.18,  0.53 | 0.328 #> 3       | treatment |     -0.09 | -0.39,  0.21 | 0.540 hypothesis_test(model2, c(\"episode\", \"grp\"), test = \"(b1 - b2) = (b4 - b5)\") #> Hypothesis      | Contrast |      95% CI |     p #> ------------------------------------------------ #> (b1-b2)=(b4-b5) |     0.36 | -0.29, 1.02 | 0.277 #>  #> Tested hypothesis: (episode[1],grp[control] - episode[2],grp[control]) = (episode[1],grp[treatment] - episode[2],grp[treatment])"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_1.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"Conclusion","title":"Significance Testing of Differences Between Predictions I: Contrasts and Pairwise Comparisons","text":"Thanks great marginaleffects package, now possible powerful function ggeffects allows perform next logical step calculating adjusted predictions conduct hypothesis tests contrasts pairwise comparisons. current implementation hypothesis_test() already covers many common use cases testing contrasts pairwise comparison, still might need sophisticated comparisons. case, recommend using marginaleffects package directly. related recommended readings vignettes Comparisons Hypothesis Tests, Equivalence Tests, Custom Contrasts. Go next vignette: Significance Testing Differences Predictions II: Comparisons Slopes, Floodlight Spotlight Analysis (Johnson-Neyman Intervals)","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"hypothesis-testing-for-slopes-of-numeric-predictors","dir":"Articles","previous_headings":"","what":"Hypothesis testing for slopes of numeric predictors","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"numeric focal terms, possible conduct hypothesis testing slopes, linear trend focal terms. Let’s start simple example . can already see coefficient table slope Sepal.Length 0.35. thus find increase predicted values outcome focal variable, Sepal.Length increases one unit. Consequently, case simple slope, see result hypothesis test linar trend Sepal.Length:","code":"library(ggeffects) library(parameters) data(iris) m <- lm(Sepal.Width ~ Sepal.Length + Species, data = iris) model_parameters(m) #> Parameter            | Coefficient |   SE |         95% CI | t(146) |      p #> ---------------------------------------------------------------------------- #> (Intercept)          |        1.68 | 0.24 | [ 1.21,  2.14] |   7.12 | < .001 #> Sepal Length         |        0.35 | 0.05 | [ 0.26,  0.44] |   7.56 | < .001 #> Species [versicolor] |       -0.98 | 0.07 | [-1.13, -0.84] | -13.64 | < .001 #> Species [virginica]  |       -1.01 | 0.09 | [-1.19, -0.82] | -10.80 | < .001 ggpredict(m, \"Sepal.Length [4,5,6,7]\") #> # Predicted values of Sepal.Width #>  #> Sepal.Length | Predicted |     95% CI #> ------------------------------------- #>            4 |      3.08 | 2.95, 3.20 #>            5 |      3.43 | 3.35, 3.51 #>            6 |      3.78 | 3.65, 3.90 #>            7 |      4.13 | 3.93, 4.33 #>  #> Adjusted for: #> * Species = setosa hypothesis_test(m, \"Sepal.Length\") #> # Linear trend for Sepal.Length #>  #> Slope |     95% CI |      p #> --------------------------- #> 0.35  | 0.26, 0.44 | < .001"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"is-the-linear-trend-of-sepal-length-significant-for-the-different-levels-of-species","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors","what":"Is the linear trend of Sepal.Length significant for the different levels of Species?","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"Let’s move complex example interaction numeric categorical variable.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"predictions","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant for the different levels of Species?","what":"Predictions","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"","code":"m <- lm(Sepal.Width ~ Sepal.Length * Species, data = iris) pred <- ggpredict(m, c(\"Sepal.Length\", \"Species\")) plot(pred)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"slopes-by-group","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant for the different levels of Species?","what":"Slopes by group","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"can see slope Sepal.Length different within group Species.  Since don’t want pairwise comparisons, set test = NULL. case, interaction terms included, linear trend (slope) numeric focal predictor, Sepal.Length, tested level Species. can see, three slopes significant, .e. “significant” linear trends.","code":"hypothesis_test(m, c(\"Sepal.Length\", \"Species\"), test = NULL) #> # Linear trend for Sepal.Length #>  #> Species    | Slope |     95% CI |      p #> ---------------------------------------- #> setosa     |  0.80 | 0.58, 1.02 | < .001 #> versicolor |  0.32 | 0.17, 0.47 | < .001 #> virginica  |  0.23 | 0.11, 0.35 | < .001"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"pairwise-comparisons","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant for the different levels of Species?","what":"Pairwise comparisons","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"Next question whether linear trends differ significantly , .e. test differences slopes, pairwise comparison slopes. , use default test, \"pairwise\". linear trend Sepal.Length within setosa significantly different linear trend versicolor also virginica. difference slopes virginica versicolor statistically significant (p = 0.367).","code":"hypothesis_test(m, c(\"Sepal.Length\", \"Species\")) #> # Linear trend for Sepal.Length #>  #> Species              | Contrast |      95% CI |      p #> ------------------------------------------------------ #> setosa-versicolor    |     0.48 |  0.21, 0.74 | < .001 #> setosa-virginica     |     0.57 |  0.32, 0.82 | < .001 #> versicolor-virginica |     0.09 | -0.10, 0.28 | 0.367"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"is-the-difference-linear-trends-of-sepal-length-in-between-two-groups-of-species-significantly-different-from-the-difference-of-two-linear-trends-between-two-other-groups","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors","what":"Is the difference linear trends of Sepal.Length in between two groups of Species significantly different from the difference of two linear trends between two other groups?","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"Similar example categorical predictors, can also test difference--differences example. instance, difference slopes Sepal.Length setosa versicolor different slope-difference groups setosa vigninica? difference--differences ’re interested indicated purple arrow plot.  Let’s look different slopes separately first, .e. slopes Sepal.Length levels Species: first difference slopes ’re interested one setosa (0.8) versicolor (0.32), .e. b1 - b2 (=0.48). second difference levels setosa (0.8) virginica (0.23), b1 - b3 (=0.57). test null hypothesis (b1 - b2) = (b1 - b3). difference two differences -0.09 statistically significant (p = 0.367).","code":"hypothesis_test(m, c(\"Sepal.Length\", \"Species\"), test = NULL) #> # Linear trend for Sepal.Length #>  #> Species    | Slope |     95% CI |      p #> ---------------------------------------- #> setosa     |  0.80 | 0.58, 1.02 | < .001 #> versicolor |  0.32 | 0.17, 0.47 | < .001 #> virginica  |  0.23 | 0.11, 0.35 | < .001 hypothesis_test(m, c(\"Sepal.Length\", \"Species\"), test = \"(b1 - b2) = (b1 - b3)\") #> Hypothesis      | Contrast |      95% CI |     p #> ------------------------------------------------ #> (b1-b2)=(b1-b3) |    -0.09 | -0.28, 0.10 | 0.367 #>  #> Tested hypothesis: (Species[setosa] - Species[versicolor]) = (Species[setosa] - Species[virginica])"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"is-the-linear-trend-of-sepal-length-significant-at-different-values-of-another-numeric-predictor","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors","what":"Is the linear trend of Sepal.Length significant at different values of another numeric predictor?","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"two numeric terms interaction, comparison becomes difficult, find meaningful (representative) values moderator, associations predictor outcome tested. longer distinct categories moderator variable.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"spotlight-analysis-floodlight-analysis-and-johnson-neyman-intervals","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant at different values of another numeric predictor?","what":"Spotlight analysis, floodlight analysis and Johnson-Neyman intervals","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"last examples show interactions two numeric predictors. case interaction terms, adjusted predictions usually shown representative values. numeric variable specified second third interaction term, representative values (see values_at()) typically mean +/- SD. sometimes also called “spotlight analysis” (Spiller et al. 2013). next example, Petal.Width second interaction term, thus see predicted values Sepal.Width (outcome) Petal.Length three different, representative values Petal.Width: Mean (1.2), 1 SD mean (1.96) 1 SD mean (0.44).","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"predictions-1","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant at different values of another numeric predictor?","what":"Predictions","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"hypothesis_test(), three values (mean, +1 SD -1 SD) work way Petal.Width categorical predictor three levels. First, want see value Petal.Width slopes Petal.Length significant. pairwise comparison , hence set test = NULL.","code":"m <- lm(Sepal.Width ~ Petal.Length * Petal.Width, data = iris) pred <- ggpredict(m, c(\"Petal.Length\", \"Petal.Width\")) plot(pred) hypothesis_test(pred, test = NULL) #> # Linear trend for Petal.Length #>  #> Petal.Width | Slope |       95% CI |      p #> ------------------------------------------- #> 0.44        | -0.28 | -0.39, -0.16 | < .001 #> 1.20        | -0.11 | -0.23,  0.01 | 0.075  #> 1.96        |  0.06 | -0.09,  0.20 | 0.438 # same as: # hypothesis_test(m, c(\"Petal.Length\", \"Petal.Width\"), test = NULL)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"pairwise-comparisons-1","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant at different values of another numeric predictor?","what":"Pairwise comparisons","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"results pairwise comparison shown . tell us linear trends (slopes) significantly different , .e. slope green line significantly different slope red line, .","code":"hypothesis_test(pred) #> # Linear trend for Petal.Length #>  #> Petal.Width | Contrast |       95% CI |      p #> ---------------------------------------------- #> 0.44-1.2    |    -0.17 | -0.21, -0.12 | < .001 #> 0.44-1.96   |    -0.33 | -0.43, -0.24 | < .001 #> 1.2-1.96    |    -0.17 | -0.21, -0.12 | < .001"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"floodlight-analysis-and-johnson-neyman-intervals","dir":"Articles","previous_headings":"Hypothesis testing for slopes of numeric predictors > Is the linear trend of Sepal.Length significant at different values of another numeric predictor?","what":"Floodlight analysis and Johnson-Neyman intervals","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"Another way handle models two numeric variables interaction use -called floodlight analysis, spotlight analysis values moderator variable, implemented johnson_neyman() function creates Johnson-Neyman intervals. intervals indicate values moderator slope predictor significant (cf. Johnson et al. 1950, McCabe et al. 2018). Let’s look example. first plot predicted values Income Murder nine different values Illiteracy (colors default palette show lines).  ’s difficult say values Illiteracy, association Murder Income might statistically signifiant. still can use hypothesis_test(): can seen, results might indicate lower upper tails Illiteracy, .e. Illiteracy roughly smaller 0.8 larger 2.6, association Murder Income statistically signifiant. However, test can simplified using johnson_neyman() function: Furthermore, possible create spotlight-plot.  avoid misleading interpretations plot, speak “positive” “negative” associations, respectively, “clear” associations (instead “significant” “non-significant”). prevent considering non-significant range values moderator “accepting null hypothesis”. results spotlight analysis suggest values 0.79 2.67 significantly different zero, values . can plot predictions values see differences. red green line represent values Illiteracy find clear positive resp. negative associations Murder Income, find clear (positive negative) association blue line.  Go next vignette: Significance Testing Differences Predictions III: Contrasts Comparisons Generalized Linear Models","code":"states <- as.data.frame(state.x77) states$HSGrad <- states$`HS Grad` m_mod <- lm(Income ~ HSGrad + Murder * Illiteracy, data = states)  myfun <- seq(0.5, 3, length.out = 9) pr <- ggpredict(m_mod, c(\"Murder\", \"Illiteracy [myfun]\")) plot(pr) hypothesis_test(pr, test = NULL) #> # Linear trend for Murder #>  #> Illiteracy |   Slope |          95% CI |     p #> ---------------------------------------------- #> 0.50       |   82.08 |   18.70, 145.47 | 0.012 #> 0.81       |   51.76 |   -1.09, 104.61 | 0.055 #> 1.12       |   21.43 |  -29.44,  72.30 | 0.401 #> 1.44       |   -8.89 |  -67.20,  49.42 | 0.760 #> 1.75       |  -39.22 | -111.56,  33.12 | 0.281 #> 2.06       |  -69.54 | -159.45,  20.37 | 0.126 #> 2.38       |  -99.87 | -209.20,   9.47 | 0.072 #> 2.69       | -130.19 | -259.96,  -0.42 | 0.049 #> 3.00       | -160.52 | -311.34,  -9.69 | 0.038 johnson_neyman(pr) #> The association between `Murder` and `Income` is positive for values of #> `Illiteracy` lower than 0.79 and negative for values higher than 2.67. #> Inside the interval of [0.79, 2.67], there were no clear associations. plot(johnson_neyman(pr)) #> The association between `Murder` and `Income` is positive for values of `Illiteracy` lower than 0.80 and negative for values higher than 2.67. Inside the interval of [0.80, 2.67], there were no clear associations. pr <- ggpredict(m_mod, c(\"Murder\", \"Illiteracy [0.7, 1.5, 2.8]\")) plot(pr, grid = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_2.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Significance Testing of Differences Between Predictions II: Comparisons of Slopes, Floodlight and Spotlight Analysis (Johnson-Neyman Intervals)","text":"Johnson, P.O. & Fay, L.C. (1950). Johnson-Neyman technique, theory application. Psychometrika, 15, 349-367. doi: 10.1007/BF02288864 McCabe CJ, Kim DS, King KM. (2018). Improving Present Practices Visual Display Interactions. Advances Methods Practices Psychological Science, 1(2):147-165. doi:10.1177/2515245917746792 Spiller, S. ., Fitzsimons, G. J., Lynch, J. G., & McClelland, G. H. (2013). Spotlights, Floodlights, Magic Number Zero: Simple Effects Tests Moderated Regression. Journal Marketing Research, 50(2), 277–288. doi:10.1509/jmr.12.0420","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_3.html","id":"contrasts-and-comparisons-for-glm---logistic-regression-example","dir":"Articles","previous_headings":"","what":"Contrasts and comparisons for GLM - logistic regression example","title":"Significance Testing of Differences Between Predictions III: Contrasts and Comparisons for Generalized Linear Models","text":"Lastly, show example non-Gaussian models. GLM models (non-Gaussian) link-functions, ggpredict() always returns predcted values response scale. example, predicted values logistic regression models shown probabilities. Let’s look simple example","code":"library(ggeffects) set.seed(1234) dat <- data.frame(   outcome = rbinom(n = 100, size = 1, prob = 0.35),   x1 = as.factor(sample(1:3, size = 100, TRUE, prob = c(0.5, 0.2, 0.3))),   x2 = rnorm(n = 100, mean = 10, sd = 7) )  m <- glm(outcome ~ x1 + x2, data = dat, family = binomial()) ggpredict(m, \"x1\") #> # Predicted probabilities of outcome #>  #> x1 | Predicted |     95% CI #> --------------------------- #> 1  |      0.24 | 0.14, 0.39 #> 2  |      0.16 | 0.06, 0.37 #> 3  |      0.34 | 0.19, 0.54 #>  #> Adjusted for: #> * x2 = 10.29"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_3.html","id":"contrasts-and-comparisons-for-categorical-focal-terms","dir":"Articles","previous_headings":"Contrasts and comparisons for GLM - logistic regression example","what":"Contrasts and comparisons for categorical focal terms","title":"Significance Testing of Differences Between Predictions III: Contrasts and Comparisons for Generalized Linear Models","text":"Contrasts comparisons - like predictions (see ) - default response scale, .e. ’re represented difference probabilities (percentage points). difference predicted probability x1 = 1 (24.4%) x1 = 2 (16.1%) roughly 8.3% points. difference statistically significant (p = 0.397). scale argument hypothesis_test() can used return contrasts comparisons differen scale. example, transform contrasts odds ratios, can use scale = \"exp\". Contrasts comparisons can also represented link-scale, case log-odds. , use scale = \"link\".","code":"p <- ggpredict(m, \"x1\") hypothesis_test(p) #> # Pairwise comparisons #>  #> x1  | Contrast |      95% CI |     p #> ------------------------------------ #> 1-2 |     0.08 | -0.11, 0.27 | 0.397 #> 1-3 |    -0.10 | -0.32, 0.11 | 0.359 #> 2-3 |    -0.18 | -0.41, 0.05 | 0.119 #>  #> Contrasts are presented as probabilities. hypothesis_test(p, scale = \"exp\") #> # Pairwise comparisons #>  #> x1  | Contrast |     95% CI |     p #> ----------------------------------- #> 1-2 |     1.09 | 0.90, 1.32 | 0.397 #> 1-3 |     0.90 | 0.73, 1.12 | 0.359 #> 2-3 |     0.83 | 0.66, 1.05 | 0.119 #>  #> Contrasts are presented on the exponentiated scale. hypothesis_test(p, scale = \"link\") #> # Pairwise comparisons #>  #> x1  | Contrast |      95% CI |     p #> ------------------------------------ #> 1-2 |     0.52 | -0.76, 1.80 | 0.427 #> 1-3 |    -0.49 | -1.52, 0.54 | 0.350 #> 2-3 |    -1.01 | -2.36, 0.34 | 0.142 #>  #> Contrasts are presented as log-odds."},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_comparisons_3.html","id":"contrasts-and-comparisons-for-numerical-focal-terms","dir":"Articles","previous_headings":"Contrasts and comparisons for GLM - logistic regression example","what":"Contrasts and comparisons for numerical focal terms","title":"Significance Testing of Differences Between Predictions III: Contrasts and Comparisons for Generalized Linear Models","text":"numeric focal variables, slopes (linear trends) estimated, transformed scales (like scale = \"exp\") supported. However, scale = \"link\" can used return untransformed contrasts comparisons link-scale. aware whether back-transformation use, affects resulting p-values. detailed overview transformations can found vignette.","code":"hypothesis_test(m, \"x2\", scale = \"link\") #> # Linear trend for x2 #>  #> Slope |      95% CI |     p #> --------------------------- #> -0.06 | -0.12, 0.01 | 0.093 #>  #> Slopes are presented as log-odds."},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"adjusted-predictions-and-marginal-effects-at-specific-values-or-levels","dir":"Articles","previous_headings":"","what":"Adjusted predictions and marginal effects at specific values or levels","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"vignettes shows calculate adjusted predictions specific values levels terms interest. recommended read general introduction first, haven’t done yet. terms-argument defines model terms (.e. focal variables) interest, model term can limited certain values. allows compute plot marginal effects (grouping) terms specific values , define values main effect interest. several options define values: character vector, specifying names focal terms. preferred probably flexible way specify focal terms. list, element named vector, specifying focal terms values. “classical” R way specify focal terms. formula, e.g. terms = ~ x + z, internally converted character vector. probably least flexible way, specify representative values focal terms. data frame representig “data grid” “reference grid”. Predictions made combinations variables data frame. terms specified character vector, values always placed square brackets directly term name can vary model term. following examples show specify values terms-argument. Concrete values separated comma: terms = \"c172code [1,3]\". factors, also use factor levels, e.g. terms = \"Species [setosa,versicolor]\". terms named list, specified like : terms = list(c172code = c(1, 3)) terms = list(c172code = c(1, 3), Species = c(\"setosa\", \"versicolor\")). data frame, : Ranges specified colon: terms = c(\"c12hour [30:80]\", \"c172code [1,3]\"). plot values 30 80 variable c12hour. default, step size 1, .e. [1:4] create range 1, 2, 3, 4. can choose different step sizes , e.g. [1:4 =.5]. named list, terms = list(c12hour = 30:80) terms = list(c12hour = seq(1, 4, 0.5)). Convenient shortcuts calculate common values like mean +/- 1 SD (terms = \"c12hour [meansd]\"), quartiles (terms = \"c12hour [quart]\") minumum maximum values (terms = \"c12hour [minmax]\"). See values_at() different options. function name. function applied unique values indicated variable, e.g. terms = \"hp [exp]\". can also define functions, pass name terms-values, e.g. terms = \"hp [own_function]\". variable name. values variable used define terms-values, e.g. first, vector defined: v = c(1000, 2000, 3000) , terms = \"income [v]\". first variable specified terms numeric vector, specific values given, “pretty range” calculated (see pretty_range()), avoid memory allocation problems vectors many unique values. select values, use []-tag, e.g. terms = \"mpg []\". numeric vector specified second third variable term (.e. vector represents grouping structure), representative values (see values_at()) chosen, typically mean +/- SD. create pretty range smaller larger default range (.e. specific values given), use n-tag, e.g. terms = \"age [n=5]\" terms = \"age [n = 12]\". Larger values n return larger range predicted values. Especially useful plotting group levels random effects many levels, sample-option, e.g. terms = \"Subject [sample=9]\", sample nine values possible values variable Subject.","code":"terms <- data.frame(   c172code = c(1, 3, 1, 3),   Species = c(\"setosa\", \"setosa\", \"versicolor\", \"versicolor\"),   stringsAsFactors = FALSE ) terms #>   c172code    Species #> 1        1     setosa #> 2        3     setosa #> 3        1 versicolor #> 4        3 versicolor"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"specific-values-and-value-range","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Specific values and value range","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"variables , instance, log-transformed, ggeffects automatically back-transforms predictions original scale response predictors, making predictions directly interpretable. However, sometimes might useful define value ranges. situation, specify range terms-argument. default, step size range 1, like 50, 51, 52, .... need different step size, use =<stepsize> inside brackets, e.g. \"hp [50:60 =.5]\". create range 50 60, .5er steps.","code":"library(ggeffects) library(ggplot2) data(efc, package = \"ggeffects\") fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  mydf <- ggpredict(fit, terms = c(\"c12hour [30:80]\", \"c172code [1,3]\")) mydf #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>      30 |     68.58 | 65.41, 71.76 #>      38 |     66.56 | 63.39, 69.73 #>      47 |     64.28 | 61.08, 67.48 #>      55 |     62.25 | 59.00, 65.50 #>      63 |     60.23 | 56.90, 63.55 #>      80 |     55.92 | 52.38, 59.46 #>  #> c172code: high level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>      30 |     67.15 | 64.03, 70.26 #>      38 |     65.12 | 62.05, 68.19 #>      47 |     62.84 | 59.80, 65.88 #>      55 |     60.81 | 57.77, 63.86 #>      63 |     58.79 | 55.72, 61.86 #>      80 |     54.48 | 51.28, 57.69 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #> * c161sex =  1.76 ggplot(mydf, aes(x, predicted, colour = group)) + geom_line() data(mtcars) mpg_model <- lm(mpg ~ log(hp), data = mtcars)  # x-values and predictions based on the full range of the original \"hp\"-values ggpredict(mpg_model, \"hp\") #> # Predicted values of mpg #>  #>  hp | Predicted |       95% CI #> ------------------------------ #>  50 |     30.53 | 27.84, 33.22 #>  85 |     24.82 | 23.21, 26.42 #> 120 |     21.11 | 19.91, 22.30 #> 155 |     18.35 | 17.11, 19.59 #> 195 |     15.88 | 14.36, 17.41 #> 230 |     14.10 | 12.29, 15.92 #> 265 |     12.58 | 10.48, 14.68 #> 335 |     10.06 |  7.45, 12.66  # x-values and predictions based on \"hp\"-values ranging from 50 to 150 ggpredict(mpg_model, \"hp [50:150]\") #> # Predicted values of mpg #>  #>  hp | Predicted |       95% CI #> ------------------------------ #>  50 |     30.53 | 27.84, 33.22 #>  63 |     28.04 | 25.86, 30.23 #>  75 |     26.17 | 24.33, 28.00 #>  87 |     24.57 | 23.00, 26.13 #> 100 |     23.07 | 21.71, 24.43 #> 113 |     21.75 | 20.52, 22.99 #> 125 |     20.67 | 19.49, 21.84 #> 150 |     18.71 | 17.49, 19.92 # range for x-values with .5-steps ggpredict(mpg_model, \"hp [50:60 by=.5]\") #> # Predicted values of mpg #>  #>    hp | Predicted |       95% CI #> -------------------------------- #> 50.00 |     30.53 | 27.84, 33.22 #> 51.50 |     30.21 | 27.59, 32.84 #> 52.50 |     30.01 | 27.42, 32.59 #> 53.50 |     29.80 | 27.26, 32.34 #> 55.00 |     29.50 | 27.02, 31.98 #> 56.50 |     29.22 | 26.79, 31.64 #> 57.50 |     29.03 | 26.64, 31.41 #> 60.00 |     28.57 | 26.28, 30.86"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"choosing-representative-values","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Choosing representative values","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"Especially situations two continuous variables interaction terms, “grouping” variable continuous, helpful select representative values grouping variable - else, predictions made many groups, longer helpful interpreting marginal effects. can use \"minmax\": minimum maximum values (lower upper bounds) variable used. \"meansd\": uses mean value well one standard deviation mean value. \"zeromax\": similar \"minmax\" option, however, 0 always used minimum value. may useful predictors don’t empirical zero-value. \"terciles\" calculates uses terciles (lower, middle upper), including minimum maximum value. \"terciles2\" calculates uses terciles (lower, middle upper), excluding minimum maximum value. \"quart\" calculates uses quartiles (lower, median upper), including minimum maximum value. \"quart2\" calculates uses quartiles (lower, median upper), excluding minimum maximum value. \"fivenum\" calculates Tukey’s five-number-summary (minimum, lower-hinge, median, upper-hinge, maximum). \"\" takes values vector.","code":"data(efc, package = \"ggeffects\") # short variable label, for plot attr(efc$c12hour, \"label\") <- \"hours of care\" fit <- lm(barthtot ~ c12hour * c161sex + neg_c_7, data = efc)  mydf <- ggpredict(fit, terms = c(\"c161sex\", \"c12hour [meansd]\")) plot(mydf) mydf <- ggpredict(fit, terms = c(\"c161sex\", \"c12hour [quart]\")) plot(mydf)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"transforming-values-with-functions","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Transforming values with functions","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"brackets terms-argument also accept name valid function, (back-)transform predicted values. example, define custom function get original values focal predictor, multiplied 2. Using list, terms argument example look like : terms = list(hp = hp_double(seq(100, 700, 7))).","code":"# x-values and predictions based on \"hp\"-values, multiplied by 2 hp_double <- function(x) 2 * x ggpredict(mpg_model, \"hp [hp_double]\") #> # Predicted values of mpg #>  #>     hp | Predicted |       95% CI #> --------------------------------- #> 104.00 |     22.65 | 21.34, 23.96 #> 132.00 |     20.08 | 18.91, 21.25 #> 186.00 |     16.39 | 14.94, 17.84 #> 210.00 |     15.08 | 13.43, 16.73 #> 226.00 |     14.29 | 12.51, 16.08 #> 300.00 |     11.24 |  8.88, 13.61 #> 410.00 |      7.88 |  4.81, 10.95 #> 670.00 |      2.59 | -1.63,  6.82"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"using-values-from-a-variable-vector","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Using values from a variable (vector)","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"Using list, terms argument example look like : terms = list(hp = val).","code":"val <- c(100, 200, 300) ggpredict(mpg_model, \"hp [val]\") #> # Predicted values of mpg #>  #>  hp | Predicted |       95% CI #> ------------------------------ #> 100 |     23.07 | 21.71, 24.43 #> 200 |     15.61 | 14.04, 17.17 #> 300 |     11.24 |  8.88, 13.61"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"pretty-value-ranges","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Pretty value ranges","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"section intended show examples plotted output differs, depending value range used. transformations, like polynomial spline terms, also quadratic cubic terms, result many predicted values. situation, predictions models lead memory allocation problems. ggpredict() “prettifies” certain value ranges default, least model types (like mixed models). see difference “curvilinear” trend, use quadratic term standardized variable.","code":"library(datawizard) library(lme4) data(efc, package = \"ggeffects\")  efc$c12hour <- standardize(efc$c12hour) efc$e15relat <- to_factor(efc$e15relat)  m <- lmer(   barthtot ~ c12hour + I(c12hour^2) + neg_c_7 + c160age + c172code + (1 | e15relat),    data = efc )  me <- ggpredict(m, terms = \"c12hour\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"turn-off-prettifying","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels > Pretty value ranges","what":"Turn off “prettifying”","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"said , ggpredict() “prettifies” vector, resulting smaller set unique values. less memory consuming may needed especially complex models. can turn automatic “prettifying” adding \"\"-shortcut terms-argument.  results smooth plot, values term interest taken account.","code":"me <- ggpredict(m, terms = \"c12hour [all]\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"using-different-ranges-for-prettifying","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels > Pretty value ranges","what":"Using different ranges for prettifying","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"modify “prettifying”, add \"n\"-shortcut terms-argument. allows select feasible range values smaller (hence less memory consuming) \"terms = ... []\", still produces smoother plots default prettyfing.","code":"me <- ggpredict(m, terms = \"c12hour [n=2]\") plot(me) me <- ggpredict(m, terms = \"c12hour [n=10]\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"marginal-effects-conditioned-on-specific-values-of-the-covariates","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Marginal effects conditioned on specific values of the covariates","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"default, typical-argument determines function applied covariates hold terms constant values. default, mean-value, options (like median mode) possible well. Use condition-argument define values covariates held constant. condition requires named vector, name indicating covariate.","code":"data(mtcars) mpg_model <- lm(mpg ~ log(hp) + disp, data = mtcars)  # \"disp\" is hold constant at its mean ggpredict(mpg_model, \"hp\") #> # Predicted values of mpg #>  #>  hp | Predicted |       95% CI #> ------------------------------ #>  50 |     25.84 | 21.86, 29.82 #>  85 |     22.70 | 20.67, 24.72 #> 120 |     20.65 | 19.55, 21.76 #> 155 |     19.13 | 17.91, 20.35 #> 195 |     17.77 | 15.91, 19.64 #> 230 |     16.79 | 14.36, 19.23 #> 265 |     15.95 | 13.00, 18.91 #> 335 |     14.56 | 10.73, 18.40 #>  #> Adjusted for: #> * disp = 230.72  # \"disp\" is hold constant at value 200 ggpredict(mpg_model, \"hp\", condition = c(disp = 200)) #> # Predicted values of mpg #>  #>  hp | Predicted |       95% CI #> ------------------------------ #>  50 |     26.53 | 22.91, 30.15 #>  85 |     23.38 | 21.66, 25.11 #> 120 |     21.34 | 20.27, 22.41 #> 155 |     19.82 | 18.34, 21.30 #> 195 |     18.46 | 16.25, 20.67 #> 230 |     17.48 | 14.68, 20.28 #> 265 |     16.64 | 13.31, 19.97 #> 335 |     15.25 | 11.03, 19.47"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html","id":"marginal-effects-for-each-level-of-random-effects","dir":"Articles","previous_headings":"Adjusted predictions and marginal effects at specific values or levels","what":"Marginal effects for each level of random effects","title":"Introduction: Adjusted Predictions and Marginal Effects at Specific Values","text":"Marginal effects can also calculated group level mixed models. Simply add name related random effects term terms-argument, set type = \"random\". following example, fit linear mixed model first simply plot marginal effetcs, conditioned random effects.  Changing type type = \"random\" still returns population-level predictions default. major difference type = \"fixed\" type = \"random\" uncertainty variance parameters. leads larger confidence intervals marginal effects type = \"random\".  compute marginal effects grouping level, add related random term terms-argument. case, confidence intervals calculated, marginal effects conditioned group level random effects.  Marginal effects, conditioned random effects, can also calculated specific levels . Add related values brackets variable name terms-argument.  group factor many levels, can also take random sample possible levels plot marginal effects subsample group levels. , use term = \"<groupfactor> [sample=n]\".","code":"library(lme4) data(efc, package = \"ggeffects\") efc$e15relat <- to_factor(efc$e15relat) m <- lmer(neg_c_7 ~ c12hour + c160age + c161sex + (1 | e15relat), data = efc) me <- ggpredict(m, terms = \"c12hour\") plot(me) me <- ggpredict(m, terms = \"c12hour\", type = \"random\") plot(me) me <- ggpredict(m, terms = c(\"c12hour\", \"e15relat\"), type = \"random\") plot(me) me <- ggpredict(m, terms = c(\"c12hour\", \"e15relat [child,sibling]\"), type = \"random\") plot(me) data(\"sleepstudy\") m <- lmer(Reaction ~ Days + (1 + Days | Subject), data = sleepstudy) me <- ggpredict(m, terms = c(\"Days\", \"Subject [sample=8]\"), type = \"random\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"marginal-effects-and-predictions","dir":"Articles","previous_headings":"","what":"Marginal effects and predictions","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"common language across fields regarding unique meaning “marginal effects”. Thus, wording throughout package may vary. generic description ggeffects , : ggeffects allows us interpret statistical model making predictions generated model one holds non-focal variables constant varies focal variable(s). following, examples shown make clear actually calculated returned package’s functions ggpredict(), ggemmeans() ggeffect(), differs functions software packages calculate marginal effects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"an-example-with-a-simple-linear-model","dir":"Articles","previous_headings":"Marginal effects and predictions","what":"An example with a simple linear model","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"First, fit s simple linear model look coefficient predictor, Sepal.Width. basic example, coefficient see slope regression line:  simple linear model, slope regression line always value predictor, Sepal.Width. can check generating predictions model. “Predictions” returned ggeffects essentially interpretations regression coefficients terms comparison. can compare much outcome (Sepal.Length) changes average, focal term (case: Sepal.Width) varies: example, average value Sepal.Length observations value , say, 2 Sepal.Width, compared observations 3 Sepal.Width? ggeffects returns predictions representative values focal term(s), hence see many predicted values (including confidence intervals) output different values focal term(s). now look differences two predicted values, see identical: Furthermore, difference predicted values differ 1 focal term (Sepal.Width), equals regression coefficient. interpretation regression coefficient can seen average difference outcome, “comparing two individuals differ one predictor [difference 1 Sepal.Width case], levels predictors.” (Gelman, Hill, Vehtari 2020, page 494). don’t predictors example, don’t go deeper details . Thus, association - effect - Sepal.Length Sepal.Width every value Sepal.Width. means, simple linear models, regression coefficient also marginal effect: marginal effect time average marginal effect, average, effect Sepal.Width Sepal.Length -0.2234: Sepal.Width changes 1, value Sepal.Length changes -0.2234 average.","code":"data(iris) model1 <- lm(Sepal.Length ~ Sepal.Width, data = iris) coef(model1)[\"Sepal.Width\"] #> Sepal.Width  #>  -0.2233611 library(ggplot2) ggplot(iris, aes(x = Sepal.Width, y = Sepal.Length)) +   geom_point() +   geom_abline(intercept = coef(model1)[\"(Intercept)\"],               slope = coef(model1)[\"Sepal.Width\"]) library(ggeffects) pr <- ggpredict(model1, \"Sepal.Width\") pr #> # Predicted values of Sepal.Length #>  #> Sepal.Width | Predicted |     95% CI #> ------------------------------------ #>        2.00 |      6.08 | 5.73, 6.43 #>        2.20 |      6.03 | 5.74, 6.33 #>        2.60 |      5.95 | 5.75, 6.14 #>        3.00 |      5.86 | 5.72, 5.99 #>        3.20 |      5.81 | 5.67, 5.95 #>        3.40 |      5.77 | 5.60, 5.94 #>        3.80 |      5.68 | 5.41, 5.94 #>        4.40 |      5.54 | 5.11, 5.98 # Difference between predicted values for Sepal.Width = 2 and 3 pr <- ggpredict(model1, \"Sepal.Width [2,3]\") round(diff(pr$predicted), 4) #> [1] -0.2234  # Difference between predicted values for Sepal.Width = 3 and 4 pr <- ggpredict(model1, \"Sepal.Width [4,5]\") round(diff(pr$predicted), 4) #> [1] -0.2234 library(margins) margins(model1) #>  Sepal.Width #>      -0.2234"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"an-example-with-a-simple-logistic-regression-model","dir":"Articles","previous_headings":"Marginal effects and predictions","what":"An example with a simple logistic regression model","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"next example, simulate data logistic regression model. regression coefficient x (logit-scale) 2.641. However, logistic regression, “slope” constant across values x, non-linear transformations . becomes clearer looking predicted probabilities:  can see, differences case logistic regression models compared linear regression model: longer predicted average difference mean outcome, rather predicted probability outcome 1 given value x. Due non-linear transformation, slope differs different values x, thus, “marginal effect” “association” (terms probabilities) constant across values x. regression coefficient linear models already response scale, hence (average) marginal effect equals regression coefficient, different scales logistic regression models: coefficients shown summary() logit-scale (scale linear predictor); exponentiating coefficient (.e. exp(coef(model2))) returns odds ratio; predictions easy interpret terms probabilities, mentioned 1). First, let’s look average marginal effect x model: result indicates “contribution variable outcome scale”, .e. “change predicted probability outcome equals 1” (see vignettes margins package). average, unit-change x changes predicted probability outcome equals 1 15.4%. generally speaking: marginal effect represents difference (two) predictions (infinitesimal) change x (focal term). average marginal effect represents average slope predictor. words: average marginal effects one value per parameter (term), thus can considered “adjusted regression coefficient”, predicted values usually predict average outcome different values x - usually don’t just one coefficient latter case represents overall effect x. personally find less intuitive interpret average marginal effects, particular non-Gaussian models, harder understand average effect actually varying effects across range focal term. Instead, rather prefer look predictions different values focal term(s), ggeffects returns default: x = -2, predicted probability y = 1, estimated model, zero. x = 10, probability 100%. essence, ggpredict() returns, average marginal effects, rather predicted values different values x (possibly adjusted co-variates, also called non-focal terms). makes clear marginal effects require predictions: marginal effect difference two adjacent predicted values (close enough case non-linear relationship outcome focal variable).","code":"set.seed(123) y <- rbinom(300, 1, c(0.3, 0.7)) x <- rnorm(300, 2) y_1 <- y == 1 x[y_1] <- x[y_1] + rnorm(sum(y_1), 3)  d <- data.frame(x, y) model2 <- glm(y ~ x, family = binomial(), data = d)  coef(model2)[\"x\"] #>        x  #> 2.640768 plot(ggpredict(model2, \"x [all]\"), show_ci = FALSE, show_data = TRUE) margins(model2) #>      x #>  0.154 ggpredict(model2, \"x\") #> # Predicted probabilities of y #>  #>  x | Predicted |     95% CI #> --------------------------- #> -2 |      0.00 | 0.00, 0.00 #>  0 |      0.00 | 0.00, 0.00 #>  2 |      0.03 | 0.01, 0.07 #>  4 |      0.84 | 0.73, 0.91 #>  6 |      1.00 | 0.99, 1.00 #>  8 |      1.00 | 1.00, 1.00 #> 10 |      1.00 | 1.00, 1.00"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"marginal-effects-average-marginal-effects-or-predictions","dir":"Articles","previous_headings":"","what":"Marginal effects, average marginal effects or predictions?","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"language used throughout package considers “marginal effects” adjusted predictions, .e. predicted values. Depending response scale, either predicted (mean) values, predicted probabilities, predicted (mean) count (count models) etc. Currently, ggeffects calculate average marginal effects. See last section summary different meanings definitions.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"estimated-marginal-means","dir":"Articles","previous_headings":"Marginal effects, average marginal effects or predictions?","what":"Estimated marginal means","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"Sometimes, term estimated marginal means used well, commonly used software packages likes SPSS, also prominent R package, emmeans. difference, instance, simple means “estimated marginal” means? “marginal”? idea behind marginal effects, estimated marginal means, estimated (predicted) average outcome value adjusted remaining co-variates. shall demonstrate another linear model. first simulate fake data, want see income affects well-. dataset also includes variable health, use later. now fit linear model, look regression coefficients: can see average well-15.5 points higher people middle income groups compared lower income groups. People higher income even average 33.11 points higher well-people lower income. can fairly easy calculate predicted average well-summing intercept coefficient middle high income. ggpredict() (ggemmeans() ggeffect()) also : example, “marginal effects” (estimated marginal means) equal simple average values well-different income groups: However, may conclude well-depending income, also factors, health status. health confounder impacts association income wellbeing. Now see effect income well-less pronounced take health status account. “adjustment” confounding variables can accounted calculating marginal effects (estimated marginal means). predicted average values wellbeing now longer simple group means, due adjustment: difference simple “means” “estimated marginal means”. latter “adjusted” means, based model adjusts covariates confounders. Thus, predicted means “marginalized” (.e. averaged) levels covariates. meant ggeffects “making predictions generated model one holds non-focal variables constant”. However, different way hold non-focal terms constant, ggpredict() differs ggemmeans() ggeffect() (described detail vignette).","code":"set.seed(123) wellbeing <- runif(300, 0, 100) income <- rep(NA, 300) health <- runif(300, 30, 80) health[wellbeing < 50] <- health[wellbeing < 50] - rnorm(sum(wellbeing < 50), 30, sd = 10)  income[wellbeing < 25] <- sample(1:3, sum(wellbeing < 25), replace = TRUE, prob = c(0.7, 0.2, 0.1)) income[wellbeing >= 25 & wellbeing < 50] <- sample(1:3, sum(wellbeing >= 25 & wellbeing < 50), replace = TRUE, prob = c(0.5, 0.3, 0.2)) income[wellbeing >= 50 & wellbeing < 75] <- sample(1:3, sum(wellbeing >= 50 & wellbeing < 75), replace = TRUE, prob = c(0.35, 0.35, 0.3)) income[wellbeing >= 75] <- sample(1:3, sum(wellbeing >= 75), replace = TRUE, prob = c(0.1, 0.2, 0.7))  income <- factor(income) levels(income) <- c(\"low\", \"middle\", \"high\") d <- data.frame(income, wellbeing, health) library(parameters) model3 <- lm(wellbeing ~ income, data = d)  model_parameters(model3) #> Parameter       | Coefficient |   SE |         95% CI | t(297) |      p #> ----------------------------------------------------------------------- #> (Intercept)     |       35.45 | 2.16 | [31.20, 39.70] |  16.42 | < .001 #> income [middle] |       15.50 | 3.50 | [ 8.61, 22.38] |   4.43 | < .001 #> income [high]   |       33.11 | 3.30 | [26.61, 39.60] |  10.03 | < .001 ggpredict(model3, \"income\") #> # Predicted values of wellbeing #>  #> income | Predicted |       95% CI #> --------------------------------- #> low    |     35.45 | 31.20, 39.70 #> middle |     50.95 | 45.52, 56.37 #> high   |     68.55 | 63.64, 73.47 aggregate(d$wellbeing, list(d$income), mean) #>   Group.1        x #> 1     low 35.44815 #> 2  middle 50.94551 #> 3    high 68.55464 model4 <- lm(wellbeing ~ income + health, data = d) compare_parameters(model3, model4) #> Parameter       |               model3 |               model4 #> ------------------------------------------------------------- #> (Intercept)     | 35.45 (31.20, 39.70) | 16.37 (11.08, 21.65) #> income (middle) | 15.50 ( 8.61, 22.38) | 11.41 ( 5.38, 17.45) #> income (high)   | 33.11 (26.61, 39.60) | 24.44 (18.54, 30.33) #> health          |                      |  0.58 ( 0.46,  0.69) #> ------------------------------------------------------------- #> Observations    |                  300 |                  300 ggpredict(model4, \"income\") #> # Predicted values of wellbeing #>  #> income | Predicted |       95% CI #> --------------------------------- #> low    |     39.26 | 35.49, 43.02 #> middle |     50.67 | 45.96, 55.37 #> high   |     63.69 | 59.32, 68.06 #>  #> Adjusted for: #> * health = 39.52"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"an-example-with-logistic-regression","dir":"Articles","previous_headings":"Marginal effects, average marginal effects or predictions?","what":"An example with logistic regression","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"can demonstrate aspect “adjusted predictions” seen linear model, logistic regression models. Therefore, generate fake data . Looking proportions table, see many female persons smoking compared male persons: case, “estimated” “predicted” means averages, predicted probabilities. According table, probability female smoking 75%, ’s 20% male persons. get values predicted probabilities, run logistic regression model: reference category sex male, can estimate average marginal effects female persons using margins(): interpretation like stated : change predicted probability outcome equals 1 female persons 0.55, .e. 55%. exactly difference predicted probabilities male female persons. Looking age distribution sample, might conclude model produces biased estimates, therefor biased predictions. Remember high odds ratio model, shown . Now include age possible confounder model. can see, female persons much older male persons. Smoking also associated age less likely people smoke children younger teenagers. Adjusting age reveals probability smoking actually higher male persons, female.","code":"smoking <- data.frame(   sex = factor(c(\"male\", \"female\", \"female\", \"male\", \"female\", \"female\",                  \"male\", \"female\", \"female\", \"male\", \"male\", \"female\",                  \"female\"),                levels = c(\"male\", \"female\")),   smoking = factor(c(\"no\", \"yes\", \"yes\", \"yes\", \"yes\", \"no\", \"no\", \"yes\",                      \"yes\", \"no\", \"no\", \"no\", \"yes\"),                    levels = c(\"no\", \"yes\")),   age = c(10, 45, 50, 40, 45, 12, 14, 55, 60, 10, 14, 50, 40) ) 100 * prop.table(table(smoking$sex, smoking$smoking), margin = 1) #>          #>          no yes #>   male   80  20 #>   female 25  75 model5 <- glm(smoking ~ sex, family = binomial(), data = smoking)  # Looking at the odds ratio for \"sex\" model_parameters(model5, exponentiate = TRUE) #> Parameter    | Odds Ratio |    SE |         95% CI |     z |     p #> ------------------------------------------------------------------ #> (Intercept)  |       0.25 |  0.28 | [0.01,   1.69] | -1.24 | 0.215 #> sex [female] |      12.00 | 16.61 | [1.03, 333.21] |  1.79 | 0.073  # Looking at the predicted probabilities for \"sex\" ggpredict(model5, \"sex\") #> # Predicted probabilities of smoking #>  #> sex    | Predicted |     95% CI #> ------------------------------- #> male   |      0.20 | 0.03, 0.69 #> female |      0.75 | 0.38, 0.94 margins(model5) #>  sexfemale #>       0.55 model6 <- glm(smoking ~ sex + age, family = binomial(), data = smoking)  # Looking at the odds ratio for \"sex\" compare_parameters(model5, model6, exponentiate = TRUE) #> Parameter    |               model5 |                  model6 #> ------------------------------------------------------------- #> (Intercept)  |  0.25 (0.03,   2.24) | 5.52e-03 (0.00,   2.98) #> sex (female) | 12.00 (0.80, 180.97) |     0.36 (0.00, 116.05) #> age          |                      |     1.18 (0.97,   1.45) #> ------------------------------------------------------------- #> Observations |                   13 |                      13  # Looking at the predicted probabilities for \"sex\" ggpredict(model6, \"sex\") #> # Predicted probabilities of smoking #>  #> sex    | Predicted |     95% CI #> ------------------------------- #> male   |      0.65 | 0.03, 0.99 #> female |      0.39 | 0.03, 0.94 #>  #> Adjusted for: #> * age = 34.23"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"conclusion-marginal-effects-conditional-effects-predictions","dir":"Articles","previous_headings":"","what":"Conclusion: Marginal effects, conditional effects, predictions…","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"ggpredict() holds non-focal terms constant mean value (continuous) reference level (factors). Thus, effects returned ggpredict() actually conditional effects (.e. conditioned certain (reference) levels factors). However, ggeffect() ggemmeans() return marginal effects, since effects “marginalized” (“averaged”) levels factors. short: ggpredict(), ggemmeans() ggeffect() help answer question: expect outcome x = 1 (specific value level)? marginal effects help answer question: effect 1 unit change x y? average marginal effects help answer question: average effect 1 unit change x y? Marginal effects measure association change predictors change outcome. effect, prediction. change, level. Adjusted predictions measure average value outcome specific values levels predictors. impression many different terms: conditional marginal effects, marginal effects (estimated) marginal means, effects predictions, … point, still definitely clear wording appropriate ggeffects. : Whenever “marginal effects” mentioned , model-based predictions different values levels focal variable(s), holding non-focal variables constant mean, reference level averaged factor levels. linear models, adjusted predictions marginal effects . non-Gaussian models, strictly speaking (usually defined econometrics), “marginal effects” estimated marginal means conditional effects adjusted predictions predicted values. However, ’m revising wording package documentation vignettes, avoid term “marginal effects” good possible…","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"further-readings","dir":"Articles","previous_headings":"","what":"Further readings","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"great R package published late 2021, marginaleffects. related website provides definitions following four quantities package can compute, definitely worth reading, many great articles: marginaleffects package R.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_marginal_effects.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction to Adjusted Predictions and Marginal Effects in R","text":"Gelman , Hill J, Vehtari (2020): “Regression Stories”. Cambridge.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_partial_residuals.html","id":"detecting-non-linear-relationship","dir":"Articles","previous_headings":"","what":"Detecting non-linear relationship","title":"Introduction: Adding Partial Residuals to Marginal Effects Plots","text":"Let’s look example non-linear relationship. missed pattern obvious looking raw data:  However, becomes obvious partial residuals:  even obvious, local polynomial regression line (loess) added plot. can achieved using show_residuals_line = TRUE.","code":"library(ggeffects) set.seed(1234) x <- rnorm(200) z <- rnorm(200) # quadratic relationship y <- 2 * x + x^2 + 4 * z + rnorm(200)  d <- data.frame(x, y, z) m <- lm(y ~ x + z, data = d)  pr <- ggpredict(m, \"x [all]\") plot(pr, show_data = TRUE) plot(pr, show_residuals = TRUE) plot(pr, show_residuals = TRUE, show_residuals_line = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_partial_residuals.html","id":"detecting-missed-interactions","dir":"Articles","previous_headings":"","what":"Detecting missed interactions","title":"Introduction: Adding Partial Residuals to Marginal Effects Plots","text":"another example, shows partial residuals plot suggests modeling interaction:  , recommended add loess-fit line residuals:  Modeling interaction clearly catches pattern data better.","code":"set.seed(1234) x <- rnorm(300, mean = 10) z <- rnorm(300) v <- rnorm(300) y <- (4 * z + 2) * x - 40 * z + 5 * v + rnorm(300, sd = 3)  d <- data.frame(x, y, z) m <- lm(y ~ x + z, data = d)  pr <- ggpredict(m, c(\"x\", \"z\"))  # raw data, no interaction plot(pr, show_data = TRUE) plot(pr, show_residuals = TRUE, grid = TRUE, show_residuals_line = TRUE) m <- lm(y ~ x * z, data = d) pr <- ggpredict(m, c(\"x\", \"z\")) plot(pr, show_residuals = TRUE, grid = TRUE, show_residuals_line = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_partial_residuals.html","id":"using-the-complete-range-of-values","dir":"Articles","previous_headings":"","what":"Using the complete range of values","title":"Introduction: Adding Partial Residuals to Marginal Effects Plots","text":"ggeffects usually “prettyfies” data tries find pretty sequence range focal predictor, avoid lengthy output, particularly continuous variables (see section pretty value ranges vignette). , however, might misleading cases creating residual plots. next example, sinus-curve pattern residuals, hidden default:  cases, recommended use -tag terms-argument.","code":"set.seed(1234) x <- seq(-100, 100, length.out = 1e3) z <- rnorm(1e3) y <- 5 * sin(x / 2) + x / 2 + 10 * z  m <- lm(y ~ x + z) pr <- ggpredict(m, \"x\")  plot(pr, residuals = TRUE) pr <- ggpredict(m, \"x [all]\") plot(pr, show_residuals = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_partial_residuals.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction: Adding Partial Residuals to Marginal Effects Plots","text":"Fox J, Weisberg S. Visualizing Fit Lack Fit Complex Regression Models Predictor Effect Plots Partial Residuals. Journal Statistical Software 2018;87. https://www.jstatsoft.org/article/view/v087i09","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"changing-plot-and-axis-titles","dir":"Articles","previous_headings":"","what":"Changing Plot and Axis Titles","title":"Introduction: Customize Plot Appearance","text":"simplest thing change titles plot, x- y-axis. can done ggplot2::labs():","code":"plot(dat) +   labs(     x = \"Number of forward gears\",     y = \"Miles/(US) gallon\",     title = \"Predicted mean miles per gallon\"   )"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"changing-the-legend-title","dir":"Articles","previous_headings":"","what":"Changing the Legend Title","title":"Introduction: Customize Plot Appearance","text":"legend-title can also changed using labs()-function. legend ggplot-objects refers aesthetic used grouping variable, default colour, .e. plot constructed following way:","code":"ggplot(data, aes(x = x, y = predicted, colour = group))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"plots-with-default-colors","dir":"Articles","previous_headings":"Changing the Legend Title","what":"Plots with Default Colors","title":"Introduction: Customize Plot Appearance","text":"Hence, using colour labs() changes legend-title:","code":"plot(dat) + labs(colour = \"Weight (1000 lbs)\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"black-and-white-plots","dir":"Articles","previous_headings":"Changing the Legend Title","what":"Black-and-White Plots","title":"Introduction: Customize Plot Appearance","text":"black--white plots, group-aesthetic mapped different linetypes, different colours. Thus, legend-title black--white plots can changed using linetype labs():","code":"plot(dat, colors = \"bw\") + labs(linetype = \"Weight (1000 lbs)\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"black-and-white-plots-with-categorical-predictor","dir":"Articles","previous_headings":"Changing the Legend Title","what":"Black-and-White Plots with Categorical Predictor","title":"Introduction: Customize Plot Appearance","text":"variable x-axis discrete black--white plot, group-aesthetic mapped different shapes, following code must used change legend title:","code":"plot(dat_categorical, colors = \"bw\") + labs(shape = \"Weight (1000 lbs)\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"changing-the-x-axis-appearance","dir":"Articles","previous_headings":"","what":"Changing the x-Axis Appearance","title":"Introduction: Customize Plot Appearance","text":"x-axis plots returned plot() always continuous, even discrete x-axis-variables. reason many users used plots connect data points lines, possible continuous x-axes. can using connect.lines-argument:","code":"plot(dat_categorical, connect.lines = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"categorical-predictors","dir":"Articles","previous_headings":"Changing the x-Axis Appearance","what":"Categorical Predictors","title":"Introduction: Customize Plot Appearance","text":"Since x-axis continuous (.e. ggplot2::scale_x_continuous()), can use scale_x_continuous() modify x-axis, change breaks, limits labels.","code":"plot(dat_categorical) +   scale_x_continuous(labels = c(\"four\", \"six\", \"eight\"), breaks = c(4, 6, 8))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"continuous-predictors","dir":"Articles","previous_headings":"Changing the x-Axis Appearance","what":"Continuous Predictors","title":"Introduction: Customize Plot Appearance","text":"continuous variables:","code":"plot(dat) + scale_x_continuous(breaks = 3:5, limits = c(2, 6))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"changing-the-y-axis-appearance","dir":"Articles","previous_headings":"","what":"Changing the y-Axis Appearance","title":"Introduction: Customize Plot Appearance","text":"Arguments ... passed ggplot::scale_y_continuous() (resp. ggplot::scale_y_log10(), log.y = TRUE), can control appearance y-axis putting arguments directly call plot():","code":"plot(dat_categorical, breaks = seq(12, 30, 2), limits = c(12, 30))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"changing-the-legend-labels","dir":"Articles","previous_headings":"","what":"Changing the Legend Labels","title":"Introduction: Customize Plot Appearance","text":"legend labels can also changed using scale_*()-function ggplot. Depending color-setting (see section Changing Legend Title), following functions can used change legend labels: scale_colour_manual() resp. scale_colour_brewer() scale_linetype_manual() scale_shape_manual() Since overwrite exising “color” scale, typically need provide values palette-argument, manuall set colors, linetypes shapes.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"plots-with-default-colors-1","dir":"Articles","previous_headings":"Changing the Legend Labels","what":"Plots with Default Colors","title":"Introduction: Customize Plot Appearance","text":"plots using default colors:","code":"plot(dat) +   scale_colour_brewer(palette = \"Set1\", labels = c(\"-1 SD\", \"Mean\", \"+1 SD\")) +   scale_fill_brewer(palette = \"Set1\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"black-and-white-plots-1","dir":"Articles","previous_headings":"Changing the Legend Labels","what":"Black-and-White Plots","title":"Introduction: Customize Plot Appearance","text":"black--white plots:","code":"plot(dat, colors = \"bw\") +   scale_linetype_manual(values = 15:17, labels = c(\"-1 SD\", \"Mean\", \"+1 SD\"))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotcustomize.html","id":"black-and-white-plots-with-categorical-predictor-1","dir":"Articles","previous_headings":"Changing the Legend Labels","what":"Black-and-White Plots with Categorical Predictor","title":"Introduction: Customize Plot Appearance","text":"black--white plots categorical x-axis:","code":"plot(dat_categorical, colors = \"bw\") +   scale_shape_manual(values = 1:3, labels = c(\"-1 SD\", \"Mean\", \"+1 SD\"))"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"plot-method","dir":"Articles","previous_headings":"","what":"plot()-method","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"vignettes demonstrates plot()-method ggeffects-package. recommended read general introduction first, haven’t done yet. don’t want write ggplot-code, ggeffects plot()-method convenient defaults, allows quickly creating ggplot-objects. plot() arguments tweak plot-appearance. instance, show_ci allows show hide confidence bands (error bars, discrete variables), facets allows create facets even just one grouping variable, colors allows quickly choose color-palettes, including black & white colored plots. Use show_data add raw data points plot. ggeffects supports labelled data plot()-method automatically sets titles, axis - legend-labels depending value variable labels data.","code":"library(ggeffects) data(efc, package = \"ggeffects\") efc$c172code <- datawizard::to_factor(efc$c172code) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"facet-by-group","dir":"Articles","previous_headings":"plot()-method","what":"Facet by Group","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, facets = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"no-facets-in-black-white","dir":"Articles","previous_headings":"plot()-method","what":"No Facets, in Black & White","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# don't use facets, b/w figure, w/o confidence bands plot(dat, colors = \"bw\", show_ci = FALSE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"add-data-points-to-plot","dir":"Articles","previous_headings":"plot()-method","what":"Add Data Points to Plot","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, show_data = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"automatic-facetting","dir":"Articles","previous_headings":"plot()-method","what":"Automatic Facetting","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# for three variables, automatic facetting dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\")) plot(dat)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"automatic-selection-of-error-bars-or-confidence-bands","dir":"Articles","previous_headings":"plot()-method","what":"Automatic Selection of Error Bars or Confidence Bands","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# categorical variables have errorbars dat <- ggpredict(fit, terms = c(\"c172code\", \"c161sex\")) plot(dat)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"connect-discrete-data-points-with-lines","dir":"Articles","previous_headings":"plot()-method","what":"Connect Discrete Data Points with Lines","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# point-geoms for discrete x-axis can be connected with lines plot(dat, connect_lines = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"create-panel-plots-for-more-than-three-terms","dir":"Articles","previous_headings":"plot()-method","what":"Create Panel Plots for more than three Terms","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"three grouping variable (.e. terms length four), one plot per panel (values fourth variable terms) created, single, integrated plot produced default. Use one_plot = FALSE return one plot per panel.","code":"# for four variables, automatic facetting and integrated panel dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\", \"neg_c_7\")) # use 'one.plot = FALSE' for returning multiple single plots plot(dat, one_plot = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"change-appearance-of-confidence-bands","dir":"Articles","previous_headings":"","what":"Change appearance of confidence bands","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"plots, confidence bands represented shaded area (ribbons), rather error bars (line), dashed dotted lines. Use ci_style = \"errorbar\", ci_style = \"dash\" ci_style = \"dot\" change style confidence bands.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"dashed-lines-for-confidence-intervals","dir":"Articles","previous_headings":"Change appearance of confidence bands","what":"Dashed Lines for Confidence Intervals","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# dashed lines for CI dat <- ggpredict(fit, terms = \"c12hour\") plot(dat, ci_style = \"dash\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"error-bars-for-continuous-variables","dir":"Articles","previous_headings":"Change appearance of confidence bands","what":"Error Bars for Continuous Variables","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"","code":"# facet by group dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, facets = TRUE, ci_style = \"errorbar\", dot_size = 1.5)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"dotted-error-bars","dir":"Articles","previous_headings":"Change appearance of confidence bands","what":"Dotted Error Bars","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"style error bars plots categorical x-axis can also changed. default, “error bars”, ci_style = \"dot\" ci_style = \"dashed\" works well","code":"dat <- ggpredict(fit, terms = \"c172code\") plot(dat, ci_style = \"dot\")"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"log-transform-y-axis-for-binomial-models","dir":"Articles","previous_headings":"","what":"Log-transform y-axis for binomial models","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"binomial models, y-axis indicates predicted probabilities event. case, error bars symmetrical.  can use log_y log-transform y-axis. plot()-method automatically choose axis breaks limits fit well value range log-scale.","code":"library(\"lme4\") m <- glm(   cbind(incidence, size - incidence) ~ period,   family = binomial,   data = lme4::cbpp )  dat <- ggpredict(m, \"period\")  # normal plot, asymmetrical error bars plot(dat) # plot with log-transformed y-axis plot(dat, log_y = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"control-y-axis-appearance","dir":"Articles","previous_headings":"","what":"Control y-axis appearance","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"Furthermore, arguments ... passed ggplot::scale_y_continuous() (resp. ggplot::scale_y_log10(), log_y = TRUE), can control appearance y-axis.","code":"# plot with log-transformed y-axis, modify breaks plot(   dat, log_y = TRUE,   breaks = c(0.05, 0.1, 0.15, 0.2, 0.25, 0.3),   limits = c(0.01, 0.3) )"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"survival-models","dir":"Articles","previous_headings":"","what":"Survival models","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"ggpredict() also supports coxph-models survival-package able either plot risk-scores (default), probabilities survival (type = \"survival\") cumulative hazards (type = \"cumulative_hazard\"). Since probabilities survival cumulative hazards changing across time, time-variable automatically used x-axis cases, terms-argument needs two variables.","code":"library(survival) data(\"lung2\") m <- coxph(Surv(time, status) ~ sex + age + ph.ecog, data = lung2)  # predicted risk-scores pr <- ggpredict(m, c(\"sex\", \"ph.ecog\")) plot(pr) # probability of survival pr <- ggpredict(m, c(\"sex\", \"ph.ecog\"), type = \"survival\") plot(pr) # cumulative hazards pr <- ggpredict(m, c(\"sex\", \"ph.ecog\"), type = \"cumulative_hazard\") plot(pr)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_plotmethod.html","id":"custom-color-palettes","dir":"Articles","previous_headings":"","what":"Custom color palettes","title":"Introduction: Plotting Adjusted Predictions and Marginal Effects","text":"ggeffects-package pre-defined color-palettes can used colors-argument. Use show_pals() see available palettes.  two examples showing use pre-defined colors:","code":"show_pals() dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, facets = TRUE, colors = \"circus\") dat <- ggpredict(fit, terms = c(\"c172code\", \"c12hour [quart]\")) plot(dat, colors = \"hero\", dodge = 0.4) # increase space between error bars"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"population-level-predictions-for-mixed-effects-models","dir":"Articles","previous_headings":"","what":"Population-level predictions for mixed effects models","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"Basically, type predictions, .e. whether account uncertainty random effects , can set type-argument. default, type = \"fixed\", means predictions population-level account random effect variances. Intervals confidence intervals predicted values.","code":"library(ggeffects) library(lme4) data(sleepstudy) m <- lmer(Reaction ~ Days + (1 + Days | Subject), data = sleepstudy)  pr <- ggpredict(m, \"Days\") pr #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    251.41 | 237.94, 264.87 #>    1 |    261.87 | 248.48, 275.27 #>    2 |    272.34 | 258.34, 286.34 #>    3 |    282.81 | 267.60, 298.02 #>    5 |    303.74 | 284.83, 322.65 #>    6 |    314.21 | 293.03, 335.39 #>    7 |    324.68 | 301.05, 348.31 #>    9 |    345.61 | 316.74, 374.48 #>  #> Adjusted for: #> * Subject = 0 (population-level) plot(pr)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"prediction-intervals","dir":"Articles","previous_headings":"Population-level predictions for mixed effects models","what":"Prediction intervals","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"type = \"random\", predicted values still population-level, conditioned random-effect variances (individual level predictions), means re.form = NULL calling predict(). may affect returned predicted values, depending whether REML = TRUE REML = FALSE used model fitting. Furthermore, type = \"random\", random-effect variances taken account, meaning intervals actually prediction intervals become larger. technically speaking, type = \"random\" accounts uncertainty fixed effects conditional estimates random-effect variances conditional modes (BLUPs). Predicted values population-level particular group (random effects) specified condition terms arguments. See examples (section Unit-level predictions (predictions level random effects)) details. random-effect variance mean random-effect variance. Calculation based proposal Johnson et al. 2014, also implemented functions like performance::r2() insight::get_variance() get r-squared values random-effect variances mixed models complex random effects structures. can seen, compared previous example type = \"fixed\", predicted values identical (population-level). However, standard errors, thus resulting confidence (prediction) intervals much larger .","code":"pr <- ggpredict(m, \"Days\", type = \"random\") pr #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    251.41 | 199.13, 303.68 #>    1 |    261.87 | 209.62, 314.13 #>    2 |    272.34 | 219.92, 324.75 #>    3 |    282.81 | 230.06, 335.56 #>    5 |    303.74 | 249.81, 357.68 #>    6 |    314.21 | 259.44, 368.98 #>    7 |    324.68 | 268.91, 380.44 #>    9 |    345.61 | 287.43, 403.79 #>  #> Adjusted for: #> * Subject = 0 (population-level) plot(pr)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"conditional-predictions-at-the-population-level","dir":"Articles","previous_headings":"Population-level predictions for mixed effects models","what":"Conditional predictions at the population-level","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"reason type = \"fixed\" type = \"random\" return predictions population-level ggpredict() returns predicted values response specific levels given model predictors, defined data frame passed newdata-argument (predict()). data frame requires data model terms, including random effect terms. requires choose certain levels values also random effect term, set terms zero NA (population-level). Since general rule, unit-level(s) (.e. level(s) random effect terms) choose order represent random effects structure data, using population-level seems clear consistent approach. get predicted values specific unit-level random effect term, simply define level condition-argument. Finally, possible obtain predicted values simulating model, predictions based simulate().","code":"ggpredict(m, \"Days\", type = \"random\", condition = c(Subject = 330)) #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    275.10 | 222.82, 327.37 #>    1 |    280.75 | 228.49, 333.01 #>    2 |    286.40 | 233.99, 338.82 #>    3 |    292.05 | 239.30, 344.80 #>    5 |    303.36 | 249.43, 357.29 #>    6 |    309.01 | 254.24, 363.79 #>    7 |    314.67 | 258.90, 370.43 #>    9 |    325.97 | 267.79, 384.15 ggpredict(m, \"Days\", type = \"simulate\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    251.28 | 201.42, 300.96 #>    1 |    261.64 | 211.63, 311.28 #>    2 |    272.32 | 222.69, 321.99 #>    3 |    282.89 | 233.78, 332.57 #>    5 |    303.77 | 254.06, 353.24 #>    6 |    314.52 | 264.09, 363.83 #>    7 |    324.57 | 274.06, 374.94 #>    9 |    345.71 | 295.71, 395.86"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"when-are-predictions-affected-by-type-fixed-and-type-random","dir":"Articles","previous_headings":"Population-level predictions for mixed effects models","what":"When are predictions affected by type = \"fixed\" and type = \"random\"?","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"type = \"fixed\", ggpredict() calls predict(..., re.form = NA). type = \"random\", predict(..., re.form = NULL) called. can lead different predictions, depending whether REML = TRUE REML = FALSE used model fitting. REML = FALSE, re.form = NA re.form = NULL identical, thus predictions affected type = \"fixed\" type = \"random\". However, REML = TRUE, re.form = NA re.form = NULL can return different predictions, also depending whether factors included model . following example shows case predictions affected type = \"fixed\" type = \"random\".","code":"library(glmmTMB) set.seed(123) sleepstudy$x <- as.factor(sample(1:3, nrow(sleepstudy), replace = TRUE)) # REML is FALSE m1 <- glmmTMB(Reaction ~ Days + x + (1 + Days | Subject), data = sleepstudy, REML = FALSE) # REML is TRUE m2 <- glmmTMB(Reaction ~ Days + x + (1 + Days | Subject), data = sleepstudy, REML = TRUE)  # predictions when REML is FALSE - no difference between type = \"fixed\" # and type = \"random\" in predictions, only for intervals ggpredict(m1, \"Days [1:3]\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    1 |    260.22 | 245.82, 274.63 #>    2 |    270.69 | 255.77, 285.61 #>    3 |    281.16 | 265.19, 297.12 #>  #> Adjusted for: #> *       x = 1 #> * Subject = NA (population-level) ggpredict(m1, \"Days [1:3]\", type = \"random\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    1 |    260.22 | 208.07, 312.37 #>    2 |    270.69 | 218.40, 322.99 #>    3 |    281.16 | 228.56, 333.76 #>  #> Adjusted for: #> *       x = 1 #> * Subject = NA (population-level)  # predictions when REML is TRUE - we now see a difference both # for intervals *and* predictions ggpredict(m2, \"Days [1:3]\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    1 |    254.63 | 246.25, 263.02 #>    2 |    265.07 | 257.33, 272.81 #>    3 |    275.50 | 268.22, 282.78 #>  #> Adjusted for: #> *       x = 1 #> * Subject = NA (population-level) ggpredict(m2, \"Days[1:3]\", type = \"random\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    1 |    260.23 | 207.65, 312.80 #>    2 |    270.69 | 217.97, 323.42 #>    3 |    281.16 | 228.11, 334.21 #>  #> Adjusted for: #> *       x = 1 #> * Subject = NA (population-level)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"to-summarize","dir":"Articles","previous_headings":"Population-level predictions for mixed effects models","what":"To summarize…","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"type = \"fixed\": predictions population-level, account random effect variances. Intervals confidence intervals predicted values. re.form = NA calling predict(). type = \"random\": predictions population-level, conditioned random effects (individual level predictions), means re.form = NULL calling predict(). Intervals prediction intervals. type = \"random\", interval = \"confidence\": predictions population-level, conditioned random effects (means re.form = NULL calling predict()), however, intervals confidence intervals.","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"population-level-predictions-for-gam-and-glmer-models","dir":"Articles","previous_headings":"","what":"Population-level predictions for gam and glmer models","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"output ggpredict() indicates grouping variable random effects set “population level” (adjustment), e.g. case lme4, following printed: Adjusted : * Subject = 0 (population-level) comparable model fitted mgcv::gam() print different message: Adjusted : * Subject = 308 reason correctly printed information adjustment random effects based insight::find_random(), returns NULL gams random effects defined via s(..., bs = \"re\"). However, predictions still correct, population-level predictions requested. ’s example:","code":"data(\"sleepstudy\", package = \"lme4\") # mixed model with lme4 m_lmer <- lme4::lmer(Reaction ~ poly(Days, 2) + (1 | Subject),   data = sleepstudy ) # equivalent model, random effects are defined via s(..., bs = \"re\") m_gam <- mgcv::gam(Reaction ~ poly(Days, 2) + s(Subject, bs = \"re\"),   family = gaussian(), data = sleepstudy, method = \"ML\" )  # predictions are identical ggpredict(m_gam, terms = \"Days\", exclude = \"s(Subject)\", newdata.guaranteed = TRUE) #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    255.45 | 235.12, 275.78 #>    1 |    263.22 | 244.71, 281.73 #>    2 |    271.67 | 253.70, 289.63 #>    3 |    280.78 | 262.75, 298.82 #>    5 |    301.05 | 282.84, 319.25 #>    6 |    312.19 | 294.15, 330.22 #>    7 |    324.00 | 306.03, 341.97 #>    9 |    349.65 | 329.33, 369.98 #>  #> Adjusted for: #> * Subject = 308  ggpredict(m_lmer, terms = \"Days\") #> # Predicted values of Reaction #>  #> Days | Predicted |         95% CI #> --------------------------------- #>    0 |    255.45 | 234.79, 276.10 #>    1 |    263.22 | 244.35, 282.09 #>    2 |    271.67 | 253.33, 290.00 #>    3 |    280.78 | 262.38, 299.19 #>    5 |    301.05 | 282.48, 319.61 #>    6 |    312.19 | 293.78, 330.59 #>    7 |    324.00 | 305.66, 342.34 #>    9 |    349.65 | 329.00, 370.31 #>  #> Adjusted for: #> * Subject = 0 (population-level)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"adjusted-predictions-for-zero-inflated-mixed-models","dir":"Articles","previous_headings":"","what":"Adjusted predictions for zero-inflated mixed models","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"zero-inflated mixed effects models, typically fitted glmmTMB GLMMadaptive packages, predicted values can conditioned fixed effects conditional model (type = \"fixed\") fixed effects zero-inflation component (type = \"zero_inflated\") fixed effects conditional model (population-level), taking random-effect variances account (type = \"random\") fixed effects zero-inflation component (population-level), taking random-effect variances account (type = \"zi_random\") model parameters (type = \"simulate\") Similar mixed models without zero-inflation component, type = \"fixed\" type = \"random\" glmmTMB-models (zero-inflation) return predictions population-level, latter option accounts uncertainty random effects. short, predict(..., type = \"link\") called (however, predicted values back-transformed response scale). type = \"zero_inflated\", predicted response value expected value mu*(1-p) without conditioning random effects. Since zero inflation conditional model working “opposite directions”, higher expected value zero inflation means lower response, higher value conditional model means higher response. possible calculate predicted values predict(..., type = \"response\"), standard errors confidence intervals can derived directly predict()-function. Thus, confidence intervals type = \"zero_inflated\" based quantiles simulated draws multivariate normal distribution (see also Brooks et al. 2017, pp.391-392 details). type = \"zi_random\", predicted response value expected value mu*(1-p), accounting random-effect variances. Intervals calculated way type = \"zero_inflated\", except mean random effect variance considered thus prediction intervals rather confidence intervals returned. Finally, possible obtain predicted values simulating model, predictions based simulate() (see Brooks et al. 2017, pp.392-393 details). achieve , use type = \"simulate\".","code":"library(glmmTMB) data(Salamanders) m <- glmmTMB(   count ~ spp + mined + (1 | site),   ziformula = ~ spp + mined,   family = truncated_poisson,   data = Salamanders ) ggpredict(m, \"spp\") #> # Predicted counts of count #>  #> spp   | Predicted |     95% CI #> ------------------------------ #> GP    |      0.94 | 0.62, 1.40 #> PR    |      0.56 | 0.30, 1.02 #> DM    |      1.17 | 0.80, 1.70 #> EC-A  |      0.77 | 0.48, 1.23 #> EC-L  |      1.79 | 1.25, 2.55 #> DES-L |      1.71 | 1.20, 2.44 #> DF    |      0.98 | 0.67, 1.44 #>  #> Adjusted for: #> * mined = yes #> *  site = NA (population-level)  ggpredict(m, \"spp\", type = \"random\") #> # Predicted counts of count #>  #> spp   | Predicted |      95% CI #> ------------------------------- #> GP    |      0.94 | 0.13,  6.92 #> PR    |      0.56 | 0.07,  4.32 #> DM    |      1.17 | 0.16,  8.61 #> EC-A  |      0.77 | 0.10,  5.77 #> EC-L  |      1.79 | 0.24, 13.09 #> DES-L |      1.71 | 0.23, 12.56 #> DF    |      0.98 | 0.13,  7.22 #>  #> Adjusted for: #> * mined = yes #> *  site = NA (population-level) ggpredict(m, \"spp\", type = \"zero_inflated\") #> # Predicted counts of count #>  #> spp   | Predicted |     95% CI #> ------------------------------ #> GP    |      0.23 | 0.13, 0.32 #> PR    |      0.04 | 0.02, 0.06 #> DM    |      0.36 | 0.21, 0.50 #> EC-A  |      0.08 | 0.05, 0.11 #> EC-L  |      0.45 | 0.23, 0.67 #> DES-L |      0.53 | 0.29, 0.77 #> DF    |      0.33 | 0.20, 0.45 #>  #> Adjusted for: #> * mined = yes #> *  site = NA (population-level) ggpredict(m, \"spp\", type = \"zi_random\") #> # Predicted counts of count #>  #> spp   | Predicted |     95% CI #> ------------------------------ #> GP    |      0.23 | 0.02, 2.23 #> PR    |      0.04 | 0.00, 0.41 #> DM    |      0.36 | 0.03, 3.47 #> EC-A  |      0.08 | 0.01, 0.80 #> EC-L  |      0.45 | 0.03, 4.65 #> DES-L |      0.53 | 0.04, 5.43 #> DF    |      0.33 | 0.03, 3.24 #>  #> Adjusted for: #> * mined = yes #> *  site = NA (population-level) ggpredict(m, \"spp\", type = \"simulate\") #> # Predicted counts of count #>  #> spp   | Predicted |     95% CI #> ------------------------------ #> GP    |      1.10 | 0.00, 4.11 #> PR    |      0.29 | 0.00, 2.28 #> DM    |      1.51 | 0.00, 5.28 #> EC-A  |      0.53 | 0.00, 3.02 #> EC-L  |      2.19 | 0.00, 7.12 #> DES-L |      2.27 | 0.00, 7.04 #> DF    |      1.33 | 0.00, 4.67"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"unit-level-predictions-predictions-for-each-level-of-random-effects","dir":"Articles","previous_headings":"","what":"Unit-level predictions (predictions for each level of random effects)","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"Adjusted predictions can also calculated group level (unit-level) mixed models. Simply add name related random effects term terms-argument, set type = \"random\". following example, fit linear mixed model first simply plot adjusted predictions, conditioned random-effect variances.  Changing type type = \"random\" still returns population-level predictions default. Recall major difference type = \"fixed\" type = \"random\" uncertainty variance parameters. leads larger confidence intervals (.e. prediction intervals) adjusted predictions type = \"random\".  compute adjusted predictions grouping level, add related random term terms-argument. case, prediction intervals calculated predictions conditioned unit-level random effects.  predictions unit-levels (random effects) interest, can useful calculate confidence instead prediction intervals (.e. ignore uncertainty variance parameters return regular confidence intervals), particular, hypothesis_test() used contrasts comparisons unit-levels (aka group levels). case, set interval = \"confidence\" (see examples ). Adjusted predictions, conditioned random effects, can also calculated specific unit-levels . Add related values brackets variable name terms-argument.  …including prediction intervals…  complex plot scenario term (c12hour) certain values two terms (c161sex, c160age) specific unit-levels random effects (e15relat), four variables terms-argument.  group factor many levels, can also take random sample possible levels plot adjusted predictions subsample unit-levels. , use term = \"<groupfactor> [sample=n]\".  can also add observed data points group using show_data = TRUE.","code":"library(sjlabelled) data(efc) efc$e15relat <- as_label(efc$e15relat) m <- lmer(neg_c_7 ~ c12hour + c160age + c161sex + (1 | e15relat), data = efc) me <- ggpredict(m, terms = \"c12hour\") plot(me) me <- ggpredict(m, terms = \"c12hour\", type = \"random\") plot(me) me <- ggpredict(m, terms = c(\"c12hour\", \"e15relat\"), type = \"random\") plot(me, show_ci = FALSE) me <- ggpredict(m, terms = c(\"c12hour\", \"e15relat [child,sibling]\"), type = \"random\") plot(me, show_ci = FALSE) plot(me) me <- ggpredict(   m,   terms = c(\"c12hour\", \"c161sex\", \"c160age\", \"e15relat [child,sibling]\"),   type = \"random\" ) plot(me) set.seed(123) m <- lmer(Reaction ~ Days + (1 + Days | Subject), data = sleepstudy) me <- ggpredict(m, terms = c(\"Days\", \"Subject [sample=7]\"), type = \"random\") plot(me) plot(me, show_data = TRUE, show_ci = FALSE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"prediction-and-confidence-intervals","dir":"Articles","previous_headings":"Unit-level predictions (predictions for each level of random effects)","what":"Prediction and confidence intervals","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"unit-levels interest, setting type = \"random\" obligatory. However, sometimes can useful confidence instead prediction intervals, e.g. pairwise comparisons random effects. Confidence instead prediction intervals can calculated explicitly setting interval = \"confidence\", case random effects variances ignored.","code":"me <- ggpredict(   m,   terms = c(\"Days\", \"Subject [sample=7]\"),   type = \"random\",   interval = \"confidence\" ) plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/introduction_randomeffects.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction: Adjusted Predictions and Marginal Effects for Random Effects Models","text":"Brooks , Kristensen K, Benthem KJ van, Magnusson , Berg CW, Nielsen , et al. glmmTMB Balances Speed Flexibility Among Packages Zero-inflated Generalized Linear Mixed Modeling. R Journal. 2017;9: 378–400. Johnson PC, O’Hara RB. 2014. Extension Nakagawa & Schielzeth’s R2GLMM random slopes models. Methods Ecol Evol, 5: 944-946. (doi: 10.1111/2041-210X.12225)","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"prepating-the-data-and-defining-intersectional-strata","dir":"Articles","previous_headings":"","what":"1. Prepating the data and defining intersectional strata","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"First, load required packages prepare sample data set. use efc data ggeffects package, contains data family carers care elderly relatives. outcome interest quality life family carers (score ranging 0 25 points), different dimensions intersectionality groups gender (male/female), employment status (currently employed yes/) age (three groups: 40, 41 64 65 older). assume might health-related inequalities, .e. quality life differs depending characteristics define intersectional strata. include intersectional strata variables gender, employed age mixed model, define interacting random effects (excluding main effects interactions): (1 | gender:employed:age) (see also ). idea truly unique combinations model, similar create factor variable combinations manually: now choice either use strata variable group factor random effects, gender:employed:age. plotting predictions (see section 4), get clearer plots include three factors gender, employed age instead integrated strata factor.","code":"library(ggeffects)   # predictions and significance testing library(insight)     # extracting random effects variances library(datawizard)  # data wrangling and preparation library(parameters)  # model summaries library(performance) # model fit indices, ICC library(glmmTMB)     # multilevel modelling  # sample data set data(efc, package = \"ggeffects\")  efc <- efc |>   # numeric to factors, set labels as levels   to_factor(select = c(\"c161sex\", \"c172code\", \"c175empl\")) |>   # recode age into three groups   recode_values(     select = \"c160age\",     recode = list(`1` = \"min:40\", `2` = 41:64, `3` = \"65:max\")   ) |>   # rename variables   data_rename(     pattern = c(\"c161sex\", \"c160age\", \"quol_5\", \"c175empl\"),     replacement = c(\"gender\", \"age\", \"qol\", \"employed\")   ) |>   # age into factor, set levels, and change labels for education   data_modify(age = factor(age, labels = c(\"-40\", \"41-64\", \"65+\"))) efc$strata <- ifelse(   is.na(efc$employed) | is.na(efc$gender) | is.na(efc$age),   NA_character_,   paste0(efc$gender, \", \", efc$employed, \", \", efc$age) ) efc$strata <- factor(efc$strata) data_tabulate(efc$strata) #> efc$strata <categorical> #> # total N=908 valid N=900 #>  #> Value              |   N | Raw % | Valid % | Cumulative % #> -------------------+-----+-------+---------+------------- #> Female, no, -40    |  37 |  4.07 |    4.11 |         4.11 #> Female, no, 41-64  | 238 | 26.21 |   26.44 |        30.56 #> Female, no, 65+    | 135 | 14.87 |   15.00 |        45.56 #> Female, yes, -40   |  63 |  6.94 |    7.00 |        52.56 #> Female, yes, 41-64 | 210 | 23.13 |   23.33 |        75.89 #> Female, yes, 65+   |   3 |  0.33 |    0.33 |        76.22 #> Male, no, -40      |  15 |  1.65 |    1.67 |        77.89 #> Male, no, 41-64    |  42 |  4.63 |    4.67 |        82.56 #> Male, no, 65+      |  50 |  5.51 |    5.56 |        88.11 #> Male, yes, -40     |  34 |  3.74 |    3.78 |        91.89 #> Male, yes, 41-64   |  70 |  7.71 |    7.78 |        99.67 #> Male, yes, 65+     |   3 |  0.33 |    0.33 |       100.00 #> <NA>               |   8 |  0.88 |    <NA> |         <NA>"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"fitting-the-simple-intersectional-model","dir":"Articles","previous_headings":"","what":"2. Fitting the simple intersectional model","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"Intersectionality analysis aims recognizing effects belonging specific strata simultaneously. context MAIHDA framework, interest lies analysing variation strata regarding outcome interest. Thus, indicators define intersectional dimensions used interacting random effects (group factors) multilevel model (random-intercept model). start fitting linear mixed effects model, includes fixed effects, different intersectional dimensions: gender, employed age. purpose model quantify “discriminatory accuracy”, achieved calculating ICC (see performance::icc()) model. higher ICC, greater degree similarity within strata (regarding quality life) greater difference quality life intersectional strata. .e., higher ICC, better model discriminating individuals higher lower quality life score, opposed models lower ICC. now look model parameters ICC simple intersectional model. ICC value 4% rather low. Usually, indiates dimensions used define intersectional strata suggest larger social inequalities regarding quality life. ignore fact now, purpose demonstrating analysis approach rarely affected.","code":"# Quality of Life score ranges from 0 to 25 m_null <- glmmTMB(qol ~ 1 + (1 | gender:employed:age), data = efc)  # the above model is identical to: # m_null <- glmmTMB(qol ~ 1 + (1 | strata), data = efc) model_parameters(m_null) #> # Fixed Effects #>  #> Parameter   | Coefficient |   SE |         95% CI |     z |      p #> ------------------------------------------------------------------ #> (Intercept) |       14.91 | 0.40 | [14.13, 15.70] | 37.41 | < .001 #>  #> # Random Effects #>  #> Parameter                           | Coefficient |       95% CI #> ---------------------------------------------------------------- #> SD (Intercept: gender:employed:age) |        1.03 | [0.56, 1.89] #> SD (Residual)                       |        5.23 | [4.99, 5.48]  icc(m_null) #> # Intraclass Correlation Coefficient #>  #>     Adjusted ICC: 0.038 #>   Unadjusted ICC: 0.038"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"partially-adjusted-intersectional-model-and-pcv","dir":"Articles","previous_headings":"","what":"3. Partially-adjusted intersectional model and PCV","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"next step want find , intersectional dimension contributes possible inequalities, .e. group factors gender, employed age explains -stratum variance random effects. achieved fitting partially-adjusted intersectional models. “purpose partially adjusted model quantify degree different dimensions used construct intersectional strata contributed stratum variance seen previous model.” intersectional dimensions, multilevel model including dimension fixed effect fitted. can look ICCs partially-adjusted models, well proportional change -stratum variance, -called PCV coefficients. First, fit three models one dimension predictor. regression coefficients already give impression strong association single dimension outcome , taking -stratum variance accout. larger (absolute values) coefficients, higher degree dimension contributed -stratum variance. Looking summary tables , seems like gender dimension explains least -stratum variance, .e. gender seems characteristic contributes least potential social inequalities. age, turn, seems important characteristic regarding inequalities. Since fixed effects now take away proportion variance explained grouping factors (random effects), expect ICC models lower. Indeed, ICC correlates fixed effects coefficients, .e. larger coefficient (absolute values), lower ICC. Next, want quantify degree different dimensions contribute variance groups accurately. , calculate proportional change -stratum variance, PCV. coefficient explains much total proportion explained variance strata can explained single dimension define strata. PCV ranges 0 1, closer 1, particular dimension explains social inequalities. , see PCV line models’ ICC’s regression coefficients. see highest proportional change age, meaning - although gender education can contribute inequalities - age relevant predictor.","code":"m_gender <- glmmTMB(qol ~ gender + (1 | gender:employed:age), data = efc) m_employment <- glmmTMB(qol ~ employed + (1 | gender:employed:age), data = efc) m_age <- glmmTMB(qol ~ age + (1 | gender:employed:age), data = efc) compare_parameters(m_gender, m_employment, m_age) #> Parameter       |             m_gender |         m_employment |                m_age #> ------------------------------------------------------------------------------------ #> (Intercept)     | 15.55 (14.51, 16.60) | 14.23 (13.35, 15.12) | 16.25 (15.33, 17.17) #> gender (Female) | -1.18 (-2.54,  0.17) |                      |                      #> employed (yes)  |                      |  1.38 ( 0.07,  2.68) |                      #> age (41-64)     |                      |                      | -1.99 (-3.14, -0.84) #> age (65+)       |                      |                      | -2.55 (-3.88, -1.23) #> ------------------------------------------------------------------------------------ #> Observations    |                  895 |                  895 |                  895 icc(m_gender)$ICC_adjusted #> [1] 0.0258391 icc(m_employment)$ICC_adjusted #> [1] 0.02341415 icc(m_age)$ICC_adjusted #> [1] 0.004619145 # extract random effect variances from all models v_null <- get_variance(m_null) v_gender <- get_variance(m_gender) v_employment <- get_variance(m_employment) v_age <- get_variance(m_age)  # PCV (proportional change in between-stratum variance) # from null-model to gender-model (v_null$var.random - v_gender$var.random) / v_null$var.random #> [1] 0.3202532  # PCV from null-model to employment-model (v_null$var.random - v_employment$var.random) / v_null$var.random #> [1] 0.3859362  # PCV from null-model to age-model (v_null$var.random - v_age$var.random) / v_null$var.random #> [1] 0.8809464"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"predict-between-stratum-variance-and-test-for-significant-differences","dir":"Articles","previous_headings":"","what":"4. Predict between-stratum variance and test for significant differences","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"Finally, may want clearer picture different strata vary, combination characteristics defines highest maybe lowest risk group. , calculate adjusted predictions random effects. following code shows predicted average quality life scores different groups.  According results, employed male family carers, older 40 years, show average highest quality life. hand, unemployed female carers aged 65 older lowest quality life. can now calculate pairwise comparisons show differences groups statistically significant. Since combinations pairwise comparisons return 66 rows total, just show first ten rows demonstrating purpose. Note: models class glmmTMB, variance-covariance matrix conditional model part needs provided manually, .e. need set argument vcov = vcov(m_null)$cond. See discussion issue. can extract specific comparisons looking related row number output. E.g., want compare employed male carers age 40 younger employed female carers age group, row 22: alternative way extract specific comparisons using test argument (details, please see vignette). Therefor, need know index (row number) two estimated predictions, can read output set test = NULL: Employed male carers age 40 younger third row, b3. female counterpart row 4, b4. Now want test whether two equal, .e. test = \"b3 = b4\". expected, result identical. Finally, want modulate one factor compare groups within levels groups, can use argument. reduces output compares focal term(s) within levels remaining predictors.","code":"predictions <- ggpredict(   m_null,   c(\"gender\", \"employed\", \"age\"),   type = \"random\",   ci_level = NA ) plot(predictions) hypothesis_test(predictions, vcov = vcov(m_null)$cond)[1:10, ] #> # Pairwise comparisons #>  #> gender      | employed |       age | Contrast |       95% CI |      p #> --------------------------------------------------------------------- #> Male-Female |    no-no |   -40--40 |     0.07 | -0.16,  0.30 | 0.565  #> Male-Male   |   no-yes |   -40--40 |    -0.88 | -1.25, -0.50 | < .001 #> Male-Female |   no-yes |   -40--40 |    -0.79 | -1.07, -0.52 | < .001 #> Male-Male   |    no-no | -40-41-64 |     0.30 | -0.04,  0.64 | 0.080  #> Male-Female |    no-no | -40-41-64 |     1.49 |  0.86,  2.12 | < .001 #> Male-Male   |   no-yes | -40-41-64 |    -0.23 | -0.53,  0.08 | 0.147  #> Male-Female |   no-yes | -40-41-64 |     1.15 |  0.54,  1.75 | < .001 #> Male-Male   |    no-no |   -40-65+ |     0.83 |  0.27,  1.38 | 0.004  #> Male-Female |    no-no |   -40-65+ |     1.71 |  1.01,  2.41 | < .001 #> Male-Male   |   no-yes |   -40-65+ |    -0.10 | -0.43,  0.23 | 0.549 hypothesis_test(predictions, vcov = vcov(m_null)$cond)[22, ] #> # Pairwise comparisons #>  #> gender      | employed |     age | Contrast |      95% CI |     p #> ----------------------------------------------------------------- #> Male-Female |  yes-yes | -40--40 |     0.08 | -0.20, 0.37 | 0.557 hypothesis_test(predictions, test = NULL, vcov = vcov(m_null)$cond) #> gender | employed |   age | Predicted |       95% CI |      p #> ------------------------------------------------------------- #> Male   |       no |   -40 |     15.24 | 14.64, 15.84 | < .001 #> Female |       no |   -40 |     15.17 | 14.80, 15.54 | < .001 #> Male   |      yes |   -40 |     16.12 | 15.34, 16.90 | < .001 #> Female |      yes |   -40 |     16.04 | 15.54, 16.53 | < .001 #> Male   |       no | 41-64 |     14.94 | 14.63, 15.24 | < .001 #> Female |       no | 41-64 |     13.75 | 13.61, 13.90 | < .001 #> Male   |      yes | 41-64 |     15.47 | 15.16, 15.77 | < .001 #> Female |      yes | 41-64 |     14.10 | 13.97, 14.22 | < .001 #> Male   |       no |   65+ |     14.41 | 14.11, 14.72 | < .001 #> Female |       no |   65+ |     13.53 | 13.26, 13.80 | < .001 #> Male   |      yes |   65+ |     15.34 | 14.42, 16.27 | < .001 #> Female |      yes |   65+ |     14.85 | 14.17, 15.54 | < .001 hypothesis_test(predictions, test = \"b3 = b4\", vcov = vcov(m_null)$cond) #> Hypothesis | Contrast |      95% CI |     p #> ------------------------------------------- #> b3=b4      |     0.08 | -0.20, 0.37 | 0.557 #>  #> Tested hypothesis: gender[Male],employed[yes],age[-40] = #>   gender[Female],employed[yes],age[-40] # Compare levels of gender and employed for age groups hypothesis_test(predictions, by = \"age\", vcov = vcov(m_null)$cond) #> # Pairwise comparisons #>  #> gender        | employed |   age | Contrast |       95% CI |      p #> ------------------------------------------------------------------- #> Male-Female   |    no-no |   -40 |     0.07 | -0.16,  0.30 | 0.565  #> Male-Male     |   no-yes |   -40 |    -0.88 | -1.25, -0.50 | < .001 #> Male-Female   |   no-yes |   -40 |    -0.79 | -1.07, -0.52 | < .001 #> Female-Male   |   no-yes |   -40 |    -0.95 | -1.45, -0.44 | < .001 #> Female-Female |   no-yes |   -40 |    -0.86 | -1.12, -0.60 | < .001 #> Male-Female   |  yes-yes |   -40 |     0.08 | -0.20,  0.37 | 0.557  #> Male-Female   |    no-no | 41-64 |     1.18 |  0.89,  1.48 | < .001 #> Male-Male     |   no-yes | 41-64 |    -0.53 | -0.70, -0.36 | < .001 #> Male-Female   |   no-yes | 41-64 |     0.84 |  0.57,  1.11 | < .001 #> Female-Male   |   no-yes | 41-64 |    -1.71 | -2.09, -1.34 | < .001 #> Female-Female |   no-yes | 41-64 |    -0.34 | -0.37, -0.31 | < .001 #> Male-Female   |  yes-yes | 41-64 |     1.37 |  1.03,  1.71 | < .001 #> Male-Female   |    no-no |   65+ |     0.88 |  0.71,  1.05 | < .001 #> Male-Male     |   no-yes |   65+ |    -0.93 | -1.81, -0.05 | 0.039  #> Male-Female   |   no-yes |   65+ |    -0.44 | -0.92,  0.04 | 0.074  #> Female-Male   |   no-yes |   65+ |    -1.81 | -2.84, -0.78 | < .001 #> Female-Female |   no-yes |   65+ |    -1.32 | -1.97, -0.67 | < .001 #> Male-Female   |  yes-yes |   65+ |     0.49 | -0.04,  1.02 | 0.071  # Compare levels of gender for employed and age groups hypothesis_test(predictions, by = c(\"employed\", \"age\"), vcov = vcov(m_null)$cond) #> # Pairwise comparisons #>  #> gender      | employed |   age | Contrast |      95% CI |      p #> ---------------------------------------------------------------- #> Male-Female |       no |   -40 |     0.07 | -0.16, 0.30 | 0.565  #> Male-Female |      yes |   -40 |     0.08 | -0.20, 0.37 | 0.557  #> Male-Female |       no | 41-64 |     1.18 |  0.89, 1.48 | < .001 #> Male-Female |      yes | 41-64 |     1.37 |  1.03, 1.71 | < .001 #> Male-Female |       no |   65+ |     0.88 |  0.71, 1.05 | < .001 #> Male-Female |      yes |   65+ |     0.49 | -0.04, 1.02 | 0.071"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"conclusion","dir":"Articles","previous_headings":"","what":"5. Conclusion","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"Intersectional multilevel analysis individual heterogeneity, using MAIHDA framework, new approach social epidemiology, helps understand interaction social indicators regard social inequalities. approach requires application multilevel models, ICC PCV relevant coefficients. ggeffects package allows go beyond quantifying degree different intersectional dimensions contribute inequalities predicting average outcome group, thereby explicitly showing differences groups (strata). Furthermore, ggeffects possible compare differences groups test whether differences statistically significant , .e. whether find “evidence” social inequalities data certain groups (risk).","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_intersectionality.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Case Study: Intersectionality analysis using the MAIHDA framework","text":"Axelsson Fisk S, Mulinari S, Wemrell M, Leckie G, Perez Vicente R, Merlo J. Chronic Obstructive Pulmonary Disease Sweden: intersectional multilevel analysis individual heterogeneity discriminatory accuracy. SSM - Population Health (2018) 4:334-346. doi: 10.1016/j.ssmph.2018.03.005","code":""},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_logisticmixedmodel.html","id":"simple-logistic-mixed-effects-model","dir":"Articles","previous_headings":"","what":"Simple Logistic Mixed Effects Model","title":"Case Study: Logistic Mixed Effects Model with Interaction Term","text":"start fitting simple mixed effects model. discrete variable, marginal effects levels calculated default. continuous variables, pretty range values generated. See details value ranges vignette marginal effects specific values. logistic regression models, since ggeffects returns marginal effects response scale, predicted values predicted probabilities. Furthermore, mixed models, predicted values typically population level, group-specific. plot marginal effects, simply plot returned results use pipe.","code":"m1 <- glmer(   outcome ~ var_binom + var_cont + (1 | group),    data = dat,    family = binomial(link = \"logit\") ) ggpredict(m1, \"var_binom\") #> # Predicted probabilities of outcome #>  #> var_binom | Predicted |     95% CI #> ---------------------------------- #> 0         |      0.37 | 0.25, 0.51 #> 1         |      0.38 | 0.18, 0.62 #>  #> Adjusted for: #> * var_cont = -0.00 #> *    group = 0 (population-level)  ggpredict(m1, \"var_cont\") #> Data were 'prettified'. Consider using `terms=\"var_cont [all]\"` to get #>   smooth plots. #> # Predicted probabilities of outcome #>  #> var_cont | Predicted |     95% CI #> --------------------------------- #>    -2.50 |      0.34 | 0.13, 0.63 #>    -2.00 |      0.34 | 0.16, 0.59 #>    -1.00 |      0.36 | 0.21, 0.53 #>     0.00 |      0.37 | 0.25, 0.51 #>     0.50 |      0.38 | 0.25, 0.52 #>     1.00 |      0.38 | 0.24, 0.55 #>     2.00 |      0.40 | 0.20, 0.64 #>     3.50 |      0.42 | 0.13, 0.77 #>  #> Adjusted for: #> * var_binom = 0 #> *     group = 0 (population-level) #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. # save marginal effects in an object and plot me <- ggpredict(m1, \"var_binom\") plot(me) # plot using the pipe ggpredict(m1, \"var_cont\") %>% plot()"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_logisticmixedmodel.html","id":"logistic-mixed-effects-model-with-interaction-term","dir":"Articles","previous_headings":"","what":"Logistic Mixed Effects Model with Interaction Term","title":"Case Study: Logistic Mixed Effects Model with Interaction Term","text":"Next, fit model interaction binomial continuous variable. compute plot marginal effects interaction terms, simply specify terms, .e. names variables, character vector terms-argument. Since interaction var_binom var_cont, argument terms = c(\"var_binom\", \"var_cont\"). However, first variable terms-argument used predictor along x-axis. Marginal effects plotted specific values specific levels second variable. second variable factor, marginal effects level plotted. second variable continuous, representative values chosen (typically, mean +/- one SD, see marginal effects specific values).","code":"m2 <- glmer(   outcome ~ var_binom * var_cont + (1 | group),    data = dat,    family = binomial(link = \"logit\") ) ggpredict(m2, c(\"var_cont\", \"var_binom\")) %>% plot() #> Data were 'prettified'. Consider using `terms=\"var_cont [all]\"` to get #>   smooth plots. ggpredict(m2, c(\"var_binom\", \"var_cont\")) %>% plot()"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_logisticmixedmodel.html","id":"logistic-mixed-effects-model-with-quadratic-interaction-term","dir":"Articles","previous_headings":"","what":"Logistic Mixed Effects Model with quadratic Interaction Term","title":"Case Study: Logistic Mixed Effects Model with Interaction Term","text":"Now fit model interaction term, continuous variable modelled quadratic term. , ggeffect automatically plots high-order terms specified terms-argument. Hence, function call identical previous examples interaction terms, polynomial term included.  can see, ggeffects also returned message indicated plot may look smooth due involvement polynomial spline terms: Model contains splines polynomial terms. Consider using terms=\"var_cont []\" get smooth plots. See also package-vignette ‘Marginal Effects Specific Values’. mixed models, computing marginal effects spline polynomial terms may lead memory allocation problems. sure happen, add []-tag terms-argument, described message:  plot produces much smoother curves.","code":"m3 <- glmer(   outcome ~ var_binom * poly(var_cont, degree = 2, raw = TRUE) + (1 | group),    data = dat,    family = binomial(link = \"logit\") ) ggpredict(m3, c(\"var_cont\", \"var_binom\")) %>% plot() #> Model contains splines or polynomial terms. Consider using #>   `terms=\"var_cont [all]\"` to get smooth plots. See also package-vignette #>   'Marginal Effects at Specific Values'. ggpredict(m3, c(\"var_cont [all]\", \"var_binom\")) %>% plot()"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_logisticmixedmodel.html","id":"logistic-mixed-effects-model-with-three-way-interaction","dir":"Articles","previous_headings":"","what":"Logistic Mixed Effects Model with Three-Way Interaction","title":"Case Study: Logistic Mixed Effects Model with Interaction Term","text":"last model produce nice plots, sake demonstration, fit model three interaction terms, including polynomial spline terms. Since marginal effects var_cont levels var_cont2 var_binom, groups, also facets plot three “dimensions”. Three-way interactions plotted simply speficying terms question terms-argument.","code":"set.seed(321) dat <- data.frame(   outcome = rbinom(n = 100, size = 1, prob = 0.35),   var_binom = rbinom(n = 100, size = 1, prob = 0.5),   var_cont = rnorm(n = 100, mean = 10, sd = 7),   var_cont2 = rnorm(n = 100, mean = 5, sd = 2),   group = sample(letters[1:4], size = 100, replace = TRUE) )   m4 <- glmer(   outcome ~ var_binom * poly(var_cont, degree = 2) * ns(var_cont2, df = 3) + (1 | group),   data = dat,    family = binomial(link = \"logit\") ) ggpredict(m4, c(\"var_cont [all]\", \"var_cont2\", \"var_binom\")) %>% plot()"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_marginaleffects_pkg.html","id":"population-level-and-unit-level-predictions-comparison-between-marginaleffects-and-ggeffects","dir":"Articles","previous_headings":"","what":"Population-level and unit-level predictions: comparison between marginaleffects and ggeffects","title":"Case Study: Predictions for Mixed Models: Comparison of ggeffects and marginaleffects","text":"First, fit two example models.","code":"library(lme4)            # modelling library(ggeffects)       # predictions library(marginaleffects) # predictions library(ggplot2)         # plotting library(patchwork)       # plot layout  data(ChickWeight)  model1 <- lmer(   weight ~ 1 + Time + (1 + Time | Chick),   data = ChickWeight )  model2 <- lmer(   weight ~ 1 + Time + I(Time^2) + Diet + Time:Diet + I(Time^2):Diet +     (1 + Time + I(Time^2) | Chick),   data = ChickWeight )"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_marginaleffects_pkg.html","id":"unit-level-predictions","dir":"Articles","previous_headings":"Population-level and unit-level predictions: comparison between marginaleffects and ggeffects","what":"Unit-level predictions","title":"Case Study: Predictions for Mixed Models: Comparison of ggeffects and marginaleffects","text":"first two plots show unit-level predictions created marginaleffects package. can seen, predictions level random effects included.  ggeffects handles unit-level predictions slightly different (see vignette) - unit-level considered “group”, thus plot normally use colors color legend distinguish unit-levels. example, default color palette small plot unit-levels. reproduce plots marginaleffects package, need modify plot. simply provide vector sufficient amount color values hide legend.","code":"pred1 <- predictions(model1,   newdata = datagrid(     Chick = ChickWeight$Chick,     Time = 0:21   ) )  p1 <- ggplot(pred1, aes(Time, estimate, level = Chick)) +   geom_line() +   labs(y = \"Predicted weight\", x = \"Time\", title = \"Linear growth model\")  pred2 <- predictions(model2,   newdata = datagrid(     Chick = ChickWeight$Chick,     Time = 0:21   ) )  p2 <- ggplot(pred2, aes(Time, estimate, level = Chick)) +   geom_line() +   labs(y = \"Predicted weight\", x = \"Time\", title = \"Quadratic growth model\")  p1 + p2 pr <- ggpredict(model1, terms = c(\"Time\", \"Chick\"), type = \"random\") plot(pr) #> Error in `palette()`: #> Insufficient values in manual scale. 50 needed but only 9 provided. pr <- ggpredict(model1, terms = c(\"Time\", \"Chick\"), type = \"random\") p3 <- plot(pr, colors = rep(\"grey30\", 50), show_ci = FALSE, show_legend = FALSE)  pr <- ggpredict(model2, terms = c(\"Time\", \"Chick\"), type = \"random\") p4 <- plot(pr, colors = rep(\"grey30\", 50), show_ci = FALSE, show_legend = FALSE)  p3 + p4"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_marginaleffects_pkg.html","id":"unit-level-predictions-stratified-by-diet","dir":"Articles","previous_headings":"Population-level and unit-level predictions: comparison between marginaleffects and ggeffects","what":"Unit-level predictions stratified by Diet","title":"Case Study: Predictions for Mixed Models: Comparison of ggeffects and marginaleffects","text":"next plot shown marginaleffects case study. Unit-level predictions stratified Diet.  ggeffects default creates (theoretical) reference grid possible combinations data. ’s following plot looks different one . see predictions unit-levels panel Diet.  limit plot unit-levels actually present data, need set limit_range = TRUE.","code":"pred <- predictions(model2)  ggplot(pred, aes(Time, estimate, level = Chick)) +   geom_line() +   ylab(\"Predicted Weight\") +   facet_wrap(~Diet, labeller = label_both) pr <- ggpredict(model2, terms = c(\"Time\", \"Chick\", \"Diet\"), type = \"random\") plot(pr, colors = rep(\"grey30\", 50), show_ci = FALSE, show_legend = FALSE) pr <- ggpredict(model2, terms = c(\"Time\", \"Chick\", \"Diet\"), type = \"random\") plot(   pr,   colors = rep(\"grey30\", 50),   show_ci = FALSE,   show_legend = FALSE,   limit_range = TRUE )"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_marginaleffects_pkg.html","id":"population-level-predictions","dir":"Articles","previous_headings":"Population-level and unit-level predictions: comparison between marginaleffects and ggeffects","what":"Population-level predictions","title":"Case Study: Predictions for Mixed Models: Comparison of ggeffects and marginaleffects","text":"last example shows population-level predictions.  plot rather simple reproduce ggeffects. don’t need specify type argument, since type = \"fixed\" default returns population-level predictions.","code":"pred <- predictions(   model2,   newdata = datagrid(     Chick = NA,     Diet = 1:4,     Time = 0:21   ),   re.form = NA )  ggplot(pred, aes(x = Time, y = estimate, ymin = conf.low, ymax = conf.high)) +   geom_ribbon(alpha = 0.1, fill = \"red\") +   geom_line() +   facet_wrap(~Diet, labeller = label_both) +   labs(title = \"Population-level trajectories\") pr <- ggpredict(model2, terms = c(\"Time\", \"Diet\")) plot(pr, grid = TRUE)"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_robustestimation.html","id":"predictions-with-normal-standard-errors","dir":"Articles","previous_headings":"","what":"Predictions with normal standard errors","title":"Case Study: (Cluster) Robust Standard Errors","text":"example, use normal standard errors, returned predict(), compute confidence intervals.","code":"ggpredict(model, \"X1\") #> # Predicted values of y #>  #>    X1 | Predicted |       95% CI #> -------------------------------- #> -2.50 |     -1.54 | -2.42, -0.67 #> -2.00 |     -1.28 | -2.00, -0.55 #> -1.00 |     -0.74 | -1.19, -0.29 #> -0.50 |     -0.47 | -0.81, -0.13 #>  0.00 |     -0.20 | -0.50,  0.10 #>  0.50 |      0.07 | -0.27,  0.41 #>  1.00 |      0.34 | -0.10,  0.78 #>  2.50 |      1.14 |  0.28,  2.01 #>  #> Adjusted for: #> * X2 = -0.08 #> * X3 =  0.09 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. me <- ggpredict(model, \"X1\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_robustestimation.html","id":"predictions-with-hc-estimated-standard-errors","dir":"Articles","previous_headings":"","what":"Predictions with HC-estimated standard errors","title":"Case Study: (Cluster) Robust Standard Errors","text":"Now, use sandwich::vcovHC() estimate heteroskedasticity-consistent standard errors. , first function name, vcovHC(), must supplied vcov_fun-argument. sandwich::vcovHC(), turn, different types estimation. must specified vcov_type.","code":"ggpredict(model, \"X1\", vcov_fun = \"vcovHC\", vcov_type = \"HC0\") #> # Predicted values of y #>  #>    X1 | Predicted |       95% CI #> -------------------------------- #> -2.50 |     -1.54 | -2.41, -0.68 #> -2.00 |     -1.28 | -1.98, -0.57 #> -1.00 |     -0.74 | -1.14, -0.34 #> -0.50 |     -0.47 | -0.77, -0.17 #>  0.00 |     -0.20 | -0.49,  0.09 #>  0.50 |      0.07 | -0.31,  0.44 #>  1.00 |      0.34 | -0.17,  0.84 #>  2.50 |      1.14 |  0.15,  2.14 #>  #> Adjusted for: #> * X2 = -0.08 #> * X3 =  0.09 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. me <- ggpredict(model, \"X1\", vcov_fun = \"vcovHC\", vcov_type = \"HC0\") plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_robustestimation.html","id":"passing-a-function-to-vcov_fun","dir":"Articles","previous_headings":"","what":"Passing a function to vcov_fun","title":"Case Study: (Cluster) Robust Standard Errors","text":"Instead character strings, vcov_fun argument also accepts function returns variance-covariance matrix. arguments need passed functions provided list vcov_args argument. Thus, can rewrite code-chunk following way:","code":"ggpredict(   model,   \"X1\",   vcov_fun = sandwich::vcovHC,   vcov_args = list(type = \"HC0\") ) #> # Predicted values of y #>  #>    X1 | Predicted |       95% CI #> -------------------------------- #> -2.50 |     -1.54 | -2.41, -0.68 #> -2.00 |     -1.28 | -1.98, -0.57 #> -1.00 |     -0.74 | -1.14, -0.34 #> -0.50 |     -0.47 | -0.77, -0.17 #>  0.00 |     -0.20 | -0.49,  0.09 #>  0.50 |      0.07 | -0.31,  0.44 #>  1.00 |      0.34 | -0.17,  0.84 #>  2.50 |      1.14 |  0.15,  2.14 #>  #> Adjusted for: #> * X2 = -0.08 #> * X3 =  0.09 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows."},{"path":"https://strengejacke.github.io/ggeffects/articles/practical_robustestimation.html","id":"predictions-with-cluster-robust-standard-errors","dir":"Articles","previous_headings":"","what":"Predictions with cluster-robust standard errors","title":"Case Study: (Cluster) Robust Standard Errors","text":"last example shows define cluster-robust standard errors. based clubSandwich::vcovCR(). Thus, vcov_fun = \"vcovCR\" always required estimating cluster robust standard errors. clubSandwich::vcovCR() also different estimation types, must specified vcov_type. Furthermore, clubSandwich::vcovCR() requires cluster-argument, must specified vcov_args:","code":"ggpredict(   model, \"X1\", vcov_fun = \"vcovCR\", vcov_type = \"CR0\",   vcov_args = list(cluster = dat$cluster) ) #> # Predicted values of y #>  #>    X1 | Predicted |       95% CI #> -------------------------------- #> -2.50 |     -1.54 | -2.34, -0.75 #> -2.00 |     -1.28 | -1.97, -0.58 #> -1.00 |     -0.74 | -1.31, -0.17 #> -0.50 |     -0.47 | -1.04,  0.10 #>  0.00 |     -0.20 | -0.82,  0.41 #>  0.50 |      0.07 | -0.63,  0.76 #>  1.00 |      0.34 | -0.46,  1.13 #>  2.50 |      1.14 | -0.05,  2.33 #>  #> Adjusted for: #> * X2 = -0.08 #> * X3 =  0.09 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. me <- ggpredict(   model, \"X1\", vcov_fun = \"vcovCR\", vcov_type = \"CR0\",   vcov_args = list(cluster = dat$cluster) ) plot(me)"},{"path":"https://strengejacke.github.io/ggeffects/articles/technical_stata.html","id":"why-is-the-output-from-stata-different-from-the-output-from-ggeffect","dir":"Articles","previous_headings":"","what":"Why is the output from Stata different from the output from ggeffect?","title":"Technical Details: Different Output between Stata and ggeffects","text":"Stata’s equivalent marginal effects produced ggeffects margins-command. However, results always identical. models non-gaussian families, point estimates marginal effects identical, confidence intervals differ. explanation, difference. First, fit logistic regression model.","code":"library(magrittr) set.seed(5)  data <- data.frame(   outcome = rbinom(100, 1, 0.5),   var1 = rbinom(100, 1, 0.1),   var2 = rnorm(100, 10, 7) )  m <- glm(   outcome ~ var1 * var2,    data = data,    family = binomial(link = \"logit\") )"},{"path":[]},{"path":"https://strengejacke.github.io/ggeffects/articles/technical_stata.html","id":"the-stata-plot","dir":"Articles","previous_headings":"Why is the output from Stata different from the output from ggeffect? > Example with graphical output","what":"The Stata plot","title":"Technical Details: Different Output between Stata and ggeffects","text":"code Stata produce marginal effects plot. resulting image looks like .","code":"use data.dta, clear quietly logit outcome c.var1##c.var2 quietly margins, at(var2 = (-8(0.5)28) var1 = (0 1)) marginsplot"},{"path":"https://strengejacke.github.io/ggeffects/articles/technical_stata.html","id":"the-ggeffects-plot","dir":"Articles","previous_headings":"Why is the output from Stata different from the output from ggeffect? > Example with graphical output","what":"The ggeffects plot","title":"Technical Details: Different Output between Stata and ggeffects","text":"use ggeffects, plot slighlty differs.  can see, confidence intervals Stata plot outside plausible range [0, 1], means predicted uncertainty Stata output probability higher 1 lower 0, ggpredict() computes confidence intervals within possible range.","code":"library(ggeffects) ggpredict(m, c(\"var2\", \"var1\")) %>% plot()"},{"path":"https://strengejacke.github.io/ggeffects/articles/technical_stata.html","id":"conclusion","dir":"Articles","previous_headings":"Why is the output from Stata different from the output from ggeffect?","what":"Conclusion","title":"Technical Details: Different Output between Stata and ggeffects","text":"seems like Stata getting confidence intervals wrong. Predictions standard errors returned Stata (transformed) response scale. Obviously, confidence intervals computed estimate +/- 1.96 * standard error, may lead confidence intervals reasonable bounds (e.g. 1 0 predicted probabilities). transformed estimate (response scale) always 0 1, true transformed standard errors. However, adding subtracting approx. 2 * transformed SE transformed estimate longer ensure confidence intervals within correct range. precise way calculation calculate estimates, standard errors confidence intervals (untransformed) scale linear predictor back-transform.","code":""},{"path":"https://strengejacke.github.io/ggeffects/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel Lüdecke. Author, maintainer. Frederik Aust. Contributor. Sam Crawley. Contributor. Mattan S. Ben-Shachar. Contributor. Sean C. Anderson. Contributor.","code":""},{"path":"https://strengejacke.github.io/ggeffects/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lüdecke D (2018). “ggeffects: Tidy Data Frames Marginal Effects Regression Models.” Journal Open Source Software, 3(26), 772. doi:10.21105/joss.00772.","code":"@Article{,   title = {ggeffects: Tidy Data Frames of Marginal Effects from Regression Models.},   volume = {3},   doi = {10.21105/joss.00772},   number = {26},   journal = {Journal of Open Source Software},   author = {Daniel Lüdecke},   year = {2018},   pages = {772}, }"},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"ggeffects---estimated-marginal-means-and-adjusted-predictions-from-regression-models","dir":"","previous_headings":"","what":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"Lüdecke D (2018). ggeffects: Tidy Data Frames Marginal Effects Regression Models. Journal Open Source Software, 3(26), 772. doi: 10.21105/joss.00772","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"why-do-we-need-marginalconditional-effects-or-adjusted-predicted-values","dir":"","previous_headings":"","what":"Why do we need (marginal/conditional) effects or (adjusted) predicted values?","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"Results regression models typically presented tables easy understand. complex models include interaction quadratic / spline terms, tables numbers less helpful difficult interpret. cases, marginal effects adjusted predictions far easier understand. particular, visualization effects predictions allows intuitively get idea predictors outcome associated, even complex models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"aim-of-this-package","dir":"","previous_headings":"","what":"Aim of this package","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"ggeffects light-weight package aims easily calculating marginal effects adjusted predictions (: estimated marginal means) mean representative values covariates (see definitions ) statistical models, .e. predictions generated model one holds non-focal variables constant varies focal variable(s). Furthermore, possible compute contrasts pairwise comparisons, test predictions differences predictions statistical significance. achieved three core ideas describe philosophy function design: Functions type-safe always return data frame , consistent structure; simple, unique approach calculate marginal effects/adjusted predictions estimated marginal means many different models; package supports “labelled data” (Lüdecke 2018), allows human readable annotations graphical outputs. means, users need care expensive steps modeling visualize results. returned data frame ready use ggplot2-package, however, also plot()-method easily create publication-ready figures.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"can run ggeffects::install_latest() install latest development version r-universe.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"definition-of-marginal-effects","dir":"","previous_headings":"","what":"Definition of “marginal effects”","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"common language across fields regarding unique meaning “marginal effects”. Thus, wording throughout package may vary. Maybe “adjusted predictions” comes closest ggeffects actually . avoid confusion actually calculated returned package’s functions ggpredict(), ggemmeans() ggeffect(), recommended read vignette different terminology meanings.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"documentation-and-support","dir":"","previous_headings":"","what":"Documentation and Support","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"Please visit https://strengejacke.github.io/ggeffects/ documentation vignettes. questions functionality, may either contact via email also file issue.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"ggeffects-supports-many-different-models-and-is-easy-to-use","dir":"","previous_headings":"","what":"ggeffects supports many different models and is easy to use","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"Marginal effects adjusted predictions can calculated many different models. Currently supported model-objects : ‘averaging’, ‘bamlss’, ‘bayesx’, ‘betabin’, ‘betareg’, ‘bglmer’, ‘bigglm’, ‘biglm’, ‘blmer’, ‘bracl’, ‘brglm’, ‘brmsfit’, ‘brmultinom’, ‘cgam’, ‘cgamm’, ‘clm’, ‘clm2’, ‘clmm’, ‘coxph’, ‘feglm’, ‘fixest’, ‘flac’, ‘flic’, ‘gam’, ‘Gam’, ‘gamlss’, ‘gamm’, ‘gamm4’, ‘gee’, ‘geeglm’, ‘glimML’, ‘glm’, ‘glm.nb’, ‘glmer.nb’, ‘glmerMod’, ‘glmmPQL’, ‘glmmTMB’, ‘glmrob’, ‘glmRob’, ‘glmx’, ‘gls’, ‘hurdle’, ‘ivreg’, ‘lm’, ‘lm_robust’, ‘lme’, ‘lmerMod’, ‘lmrob’, ‘lmRob’, ‘logistf’, ‘logitr’, ‘lrm’, ‘mblogit’, ‘mclogit’, ‘MCMCglmm’, ‘merModLmerTest’, ‘MixMod’, ‘mixor’, ‘mlogit’, ‘multinom’, ‘negbin’, ‘nestedLogit’, ‘nlmerMod’, ‘ols’, ‘orm’, ‘phyloglm’, ‘phylolm’, ‘plm’, ‘polr’, ‘rlm’, ‘rlmerMod’, ‘rq’, ‘rqs’, ‘rqss’, ‘sdmTMB’, ‘speedglm’, ‘speedlm’, ‘stanreg’, ‘survreg’, ‘svyglm’, ‘svyglm.nb’, ‘tidymodels’, ‘tobit’, ‘truncreg’, ‘vgam’, ‘vglm’, ‘wblm’, ‘wbm’, ‘Zelig-relogit’, ‘zeroinfl’ ‘zerotrunc’. Support models varies function, .e. although ggpredict(), ggemmeans() ggeffect() support models, models supported exclusively one three functions. models listed might work well, currently tested. Interaction terms, splines polynomial terms also supported. main functions ggpredict(), ggemmeans() ggeffect(). generic plot()-method plot results using ggplot2.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"returned data frames always , consistent structure column names, ’s easy create ggplot-plots without need re-write function call. x predicted values x- y-axis. conf.low conf.high used ymin ymax aesthetics ribbons add confidence bands plot. group can used grouping-aesthetics, faceting. ggpredict() requires least one, four terms specified terms-argument. Predicted values response, along values first term calculated, optionally grouped terms specified terms.","code":""},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"adjusted-predictions-for-one-focal-predictor","dir":"","previous_headings":"Examples","what":"Adjusted predictions for one focal predictor","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"possible call ggplot look like :  However, also plot()-method. method uses convenient defaults, easily create suitable plot marginal effects.","code":"library(ggeffects) library(splines) data(efc) fit <- lm(barthtot ~ c12hour + bs(neg_c_7) * c161sex + e42dep, data = efc)  ggpredict(fit, terms = \"c12hour\") #> # Predicted values of barthtot #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       4 |     67.89 | 65.81, 69.96 #>      12 |     67.07 | 65.10, 69.05 #>      22 |     66.06 | 64.18, 67.94 #>      36 |     64.64 | 62.84, 66.45 #>      49 |     63.32 | 61.51, 65.14 #>      70 |     61.20 | 59.22, 63.17 #>     100 |     58.15 | 55.70, 60.60 #>     168 |     51.26 | 47.27, 55.26 #>  #> Adjusted for: #> * neg_c_7 = 11.83 #> * c161sex =  1.76 #> *  e42dep =  2.93 library(ggplot2) mydf <- ggpredict(fit, terms = \"c12hour\") ggplot(mydf, aes(x, predicted)) +   geom_line() +   geom_ribbon(aes(ymin = conf.low, ymax = conf.high), alpha = 0.1) mydf <- ggpredict(fit, terms = \"c12hour\") plot(mydf)"},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"adjusted-predictions-for-several-focal-predictors","dir":"","previous_headings":"Examples","what":"Adjusted predictions for several focal predictors","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"three variables, predictions can grouped faceted.  plot() works case, well:","code":"ggpredict(fit, terms = c(\"neg_c_7\", \"c161sex\", \"e42dep\")) #> # Predicted values of barthtot #>  #> c161sex: 1 #> e42dep: 1 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |    102.74 | 95.96, 109.52 #>      12 |    102.27 | 97.10, 107.44 #>      17 |     93.79 | 86.95, 100.64 #>      28 |    164.57 | 95.88, 233.27 #>  #> c161sex: 1 #> e42dep: 2 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     83.73 | 77.31,  90.15 #>      12 |     83.26 | 78.94,  87.59 #>      17 |     74.79 | 68.67,  80.90 #>      28 |    145.57 | 76.90, 214.23 #>  #> c161sex: 1 #> e42dep: 3 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     64.72 | 58.27,  71.17 #>      12 |     64.26 | 60.29,  68.22 #>      17 |     55.78 | 50.03,  61.53 #>      28 |    126.56 | 57.88, 195.24 #>  #> c161sex: 1 #> e42dep: 4 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     45.72 | 38.85,  52.58 #>      12 |     45.25 | 41.02,  49.48 #>      17 |     36.77 | 30.96,  42.59 #>      28 |    107.55 | 38.83, 176.28 #>  #> c161sex: 2 #> e42dep: 1 #>  #> neg_c_7 | Predicted |         95% CI #> ------------------------------------ #>       7 |    109.54 | 105.19, 113.88 #>      12 |     99.81 |  95.94, 103.68 #>      17 |     94.90 |  90.20,  99.60 #>      28 |     90.26 |  71.77, 108.76 #>  #> c161sex: 2 #> e42dep: 2 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     90.53 | 86.71,  94.35 #>      12 |     80.80 | 78.16,  83.44 #>      17 |     75.90 | 72.28,  79.51 #>      28 |     71.26 | 53.04,  89.47 #>  #> c161sex: 2 #> e42dep: 3 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     71.52 | 67.59,  75.46 #>      12 |     61.79 | 59.78,  63.80 #>      17 |     56.89 | 53.86,  59.92 #>      28 |     52.25 | 34.18,  70.32 #>  #> c161sex: 2 #> e42dep: 4 #>  #> neg_c_7 | Predicted |        95% CI #> ----------------------------------- #>       7 |     52.51 | 47.88,  57.15 #>      12 |     42.79 | 40.29,  45.29 #>      17 |     37.88 | 34.66,  41.11 #>      28 |     33.24 | 15.18,  51.31 #>  #> Adjusted for: #> * c12hour = 42.10  mydf <- ggpredict(fit, terms = c(\"neg_c_7\", \"c161sex\", \"e42dep\")) ggplot(mydf, aes(x = x, y = predicted, colour = group)) +   geom_line() +   facet_wrap(~facet) plot(mydf)"},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"contrasts-and-pairwise-comparisons","dir":"","previous_headings":"Examples","what":"Contrasts and pairwise comparisons","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"Next, example interaction term. want know whether two slopes significantly different .  can achieved hypothesis_test(). can conclude slopes (“linear trends”) barthtot different groups c161sex statistically significantly different . features explained detail package-vignettes.","code":"fit <- lm(neg_c_7 ~ c12hour + barthtot * c161sex + e42dep, data = efc) result <- ggpredict(fit, c(\"barthtot\", \"c161sex\")) plot(result) hypothesis_test(result) #> # Linear trend for barthtot #>  #> c161sex | Contrast |      95% CI |     p #> ---------------------------------------- #> 1-2     | 7.09e-03 | -0.01, 0.03 | 0.464"},{"path":"https://strengejacke.github.io/ggeffects/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Create Tidy Data Frames of Marginal Effects for ggplot from Model Outputs","text":"case want / cite package, please use citation('ggeffects') citation information: Lüdecke D (2018). ggeffects: Tidy Data Frames Marginal Effects Regression Models. Journal Open Source Software, 3(26), 772. doi: 10.21105/joss.00772","code":""},{"path":[]},{"path":"https://strengejacke.github.io/ggeffects/reference/collapse_by_group.html","id":null,"dir":"Reference","previous_headings":"","what":"Collapse raw data by random effect groups — collapse_by_group","title":"Collapse raw data by random effect groups — collapse_by_group","text":"function extracts raw data points (.e. data used fit model) \"averages\" (.e. \"collapses\") response variable levels grouping factor given collapse_by. works mixed models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/collapse_by_group.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Collapse raw data by random effect groups — collapse_by_group","text":"","code":"collapse_by_group(grid, model, collapse_by = NULL, residuals = FALSE)"},{"path":"https://strengejacke.github.io/ggeffects/reference/collapse_by_group.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Collapse raw data by random effect groups — collapse_by_group","text":"grid data frame representing data grid, object class ggeffects, returned ggpredict() others. model model compute partial residuals. data grid grid match predictors model. collapse_by Name (random effects) grouping factor. Data collapsed levels factor. residuals Logical, TRUE, collapsed partial residuals instead raw data levels grouping factor.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/collapse_by_group.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Collapse raw data by random effect groups — collapse_by_group","text":"data frame raw data points, averaged levels given grouping factor random effects. group level random effect saved column \"random\".","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/collapse_by_group.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Collapse raw data by random effect groups — collapse_by_group","text":"","code":"library(ggeffects) data(efc) efc$e15relat <- as.factor(efc$e15relat) efc$c161sex <- as.factor(efc$c161sex) levels(efc$c161sex) <- c(\"male\", \"female\") model <- lme4::lmer(neg_c_7 ~ c161sex + (1 | e15relat), data = efc) me <- ggpredict(model, terms = \"c161sex\") head(attributes(me)$rawdata) #>   response x group facet rowname #> 1       12 2     1     1       1 #> 2       20 2     1     1       2 #> 3       11 1     1     1       3 #> 4       10 1     1     1       4 #> 5       12 2     1     1       5 #> 6       19 1     1     1       6 collapse_by_group(me, model, \"e15relat\") #> Collapsing usually not informative across a continuous variable. #>     x group_col facet rowname random response #> 1   1         1     1     101      1       14 #> 2   2         1     1     102      1       12 #> 3   2         1     1     103      1       10 #> 4   2         1     1     106      1       14 #> 5   2         1     1     107      1       10 #> 6   1         1     1     108      1       10 #> 7   2         1     1      11      1       28 #> 8   2         1     1     111      1       12 #> 9   1         1     1     114      1        7 #> 10  2         1     1     118      1       16 #> 11  1         1     1     119      1       15 #> 12  2         1     1     120      1       15 #> 13  1         1     1     122      1       17 #> 14  2         1     1     123      1       17 #> 15  2         1     1     124      1       22 #> 16  1         1     1     126      1       14 #> 17  1         1     1     130      1       17 #> 18  2         1     1     131      1       17 #> 19  2         1     1     133      1       13 #> 20  1         1     1     139      1       10 #> 21  1         1     1      14      1       18 #> 22  2         1     1     140      1       12 #> 23  1         1     1     146      1       10 #> 24  2         1     1     148      1       12 #> 25  2         1     1     149      1       11 #> 26  2         1     1     155      1       12 #> 27  1         1     1     156      1       10 #> 28  1         1     1     159      1       12 #> 29  1         1     1     166      1       14 #> 30  2         1     1      17      1       11 #> 31  1         1     1     171      1        9 #> 32  2         1     1     173      1        8 #> 33  2         1     1     174      1       10 #> 34  2         1     1      18      1       11 #> 35  1         1     1     180      1       10 #> 36  2         1     1     183      1       15 #> 37  1         1     1     190      1       12 #> 38  2         1     1     191      1       17 #> 39  1         1     1     192      1       14 #> 40  2         1     1     194      1       12 #> 41  2         1     1     196      1        7 #> 42  2         1     1      20      1       17 #> 43  2         1     1     209      1       12 #> 44  2         1     1     215      1       16 #> 45  2         1     1      22      1        9 #> 46  2         1     1     233      1       10 #> 47  2         1     1     237      1       11 #> 48  2         1     1     253      1       14 #> 49  2         1     1     258      1       15 #> 50  2         1     1     259      1       11 #> 51  2         1     1      26      1       23 #> 52  2         1     1      28      1       11 #> 53  1         1     1       3      1       11 #> 54  1         1     1     302      1        9 #> 55  1         1     1     308      1        9 #> 56  2         1     1     309      1        9 #> 57  2         1     1     310      1        8 #> 58  2         1     1     315      1       12 #> 59  2         1     1     316      1       17 #> 60  2         1     1     318      1       14 #> 61  2         1     1      32      1        9 #> 62  2         1     1      34      1       20 #> 63  1         1     1      35      1        9 #> 64  2         1     1      36      1       10 #> 65  1         1     1     363      1        7 #> 66  2         1     1      37      1       19 #> 67  2         1     1     387      1        7 #> 68  2         1     1      39      1       17 #> 69  2         1     1     396      1       21 #> 70  2         1     1     399      1       15 #> 71  1         1     1       4      1       10 #> 72  1         1     1     400      1        9 #> 73  2         1     1     402      1       12 #> 74  2         1     1     413      1       10 #> 75  1         1     1     414      1       12 #> 76  2         1     1     418      1       11 #> 77  2         1     1      42      1       14 #> 78  2         1     1     423      1       16 #> 79  2         1     1     426      1       14 #> 80  2         1     1      43      1       14 #> 81  1         1     1     435      1       13 #> 82  2         1     1     439      1        9 #> 83  2         1     1      44      1       16 #> 84  1         1     1     448      1       12 #> 85  2         1     1      45      1       19 #> 86  2         1     1     450      1       15 #> 87  2         1     1     462      1       11 #> 88  1         1     1     465      1       13 #> 89  1         1     1      47      1       17 #> 90  1         1     1     477      1       12 #> 91  2         1     1      48      1       15 #> 92  2         1     1     481      1       20 #> 93  1         1     1     483      1        8 #> 94  2         1     1      49      1       16 #> 95  2         1     1     503      1        9 #> 96  1         1     1     508      1       18 #> 97  2         1     1      51      1       17 #> 98  2         1     1     516      1       22 #> 99  1         1     1     518      1       20 #> 100 1         1     1     519      1       19 #> 101 2         1     1      52      1       10 #> 102 2         1     1      53      1       14 #> 103 2         1     1      54      1       14 #> 104 2         1     1     543      1        9 #> 105 2         1     1     547      1        9 #> 106 1         1     1      55      1        9 #> 107 2         1     1     563      1       15 #> 108 1         1     1     568      1        8 #> 109 2         1     1     569      1       13 #> 110 2         1     1      57      1       25 #> 111 2         1     1     572      1       14 #> 112 2         1     1     578      1       15 #> 113 1         1     1     580      1       14 #> 114 2         1     1     584      1       13 #> 115 2         1     1      59      1       17 #> 116 2         1     1     590      1        7 #> 117 2         1     1     593      1       13 #> 118 1         1     1     595      1        7 #> 119 2         1     1      60      1       22 #> 120 2         1     1     613      1       14 #> 121 2         1     1      62      1       15 #> 122 2         1     1     632      1       11 #> 123 2         1     1     634      1       13 #> 124 2         1     1     640      1       13 #> 125 2         1     1     647      1       10 #> 126 2         1     1     649      1       11 #> 127 1         1     1     671      1       11 #> 128 2         1     1     674      1        9 #> 129 1         1     1     676      1       10 #> 130 1         1     1     677      1        9 #> 131 2         1     1     688      1       10 #> 132 1         1     1      69      1       14 #> 133 2         1     1     697      1       23 #> 134 2         1     1       7      1       15 #> 135 1         1     1      70      1       17 #> 136 2         1     1     703      1       18 #> 137 2         1     1     709      1       10 #> 138 2         1     1     718      1        8 #> 139 2         1     1     727      1       13 #> 140 2         1     1     737      1       10 #> 141 2         1     1      74      1       19 #> 142 2         1     1     745      1       12 #> 143 1         1     1     751      1        7 #> 144 2         1     1      76      1       10 #> 145 2         1     1     767      1       13 #> 146 2         1     1     769      1        8 #> 147 2         1     1     780      1       11 #> 148 2         1     1     793      1        9 #> 149 2         1     1      80      1       15 #> 150 2         1     1     804      1       15 #> 151 2         1     1      81      1        7 #> 152 2         1     1     810      1        9 #> 153 1         1     1      82      1       13 #> 154 2         1     1      83      1       12 #> 155 2         1     1     832      1       10 #> 156 2         1     1      87      1       15 #> 157 1         1     1     879      1       24 #> 158 2         1     1      88      1       15 #> 159 2         1     1     886      1       22 #> 160 2         1     1     889      1       11 #> 161 2         1     1     900      1       14 #> 162 2         1     1      91      1       10 #> 163 2         1     1      92      1       11 #> 164 1         1     1      93      1       14 #> 165 2         1     1      95      1       10 #> 166 2         1     1      97      1       12 #> 167 2         1     1      98      1       10 #> 168 2         1     1      99      1       11 #> 169 2         1     1       1      2       12 #> 170 2         1     1      10      2       10 #> 171 2         1     1     104      2        9 #> 172 2         1     1     105      2       13 #> 173 2         1     1     109      2       13 #> 174 2         1     1     110      2       13 #> 175 2         1     1     112      2       12 #> 176 2         1     1     113      2       18 #> 177 2         1     1     115      2       13 #> 178 2         1     1     116      2       14 #> 179 2         1     1     117      2       11 #> 180 1         1     1     121      2        9 #> 181 2         1     1     125      2       16 #> 182 2         1     1     127      2        9 #> 183 2         1     1     128      2       13 #> 184 2         1     1     129      2        9 #> 185 2         1     1      13      2       13 #> 186 2         1     1     132      2        9 #> 187 1         1     1     135      2       14 #> 188 1         1     1     136      2       12 #> 189 2         1     1     137      2       18 #> 190 2         1     1     143      2       14 #> 191 2         1     1      15      2       16 #> 192 2         1     1     150      2       14 #> 193 2         1     1     152      2       13 #> 194 2         1     1     154      2       12 #> 195 2         1     1     157      2        9 #> 196 2         1     1     158      2       15 #> 197 2         1     1      16      2       13 #> 198 2         1     1     162      2       16 #> 199 2         1     1     163      2       18 #> 200 2         1     1     168      2       14 #> 201 2         1     1     169      2       12 #> 202 1         1     1     170      2       10 #> 203 2         1     1     172      2       12 #> 204 2         1     1     175      2       11 #> 205 2         1     1     176      2       10 #> 206 2         1     1     177      2       11 #> 207 2         1     1     178      2       13 #> 208 2         1     1     179      2        7 #> 209 2         1     1     181      2       11 #> 210 2         1     1     185      2       16 #> 211 2         1     1     186      2       13 #> 212 1         1     1     188      2       20 #> 213 1         1     1     189      2        7 #> 214 1         1     1      19      2       13 #> 215 1         1     1     193      2       10 #> 216 2         1     1     195      2        9 #> 217 2         1     1     197      2       16 #> 218 2         1     1     198      2       13 #> 219 2         1     1     199      2       14 #> 220 2         1     1       2      2       20 #> 221 2         1     1     203      2        7 #> 222 2         1     1     204      2       15 #> 223 2         1     1     205      2        7 #> 224 2         1     1     206      2        9 #> 225 2         1     1     207      2       14 #> 226 2         1     1     208      2       11 #> 227 2         1     1      21      2       11 #> 228 2         1     1     210      2       11 #> 229 2         1     1     211      2       12 #> 230 2         1     1     212      2       18 #> 231 2         1     1     213      2        8 #> 232 2         1     1     214      2       13 #> 233 1         1     1     216      2        8 #> 234 2         1     1     217      2       13 #> 235 1         1     1     219      2       11 #> 236 1         1     1     221      2       12 #> 237 2         1     1     222      2       24 #> 238 2         1     1     223      2       11 #> 239 2         1     1     224      2       11 #> 240 2         1     1     225      2       13 #> 241 2         1     1     226      2        9 #> 242 1         1     1     227      2       13 #> 243 2         1     1      23      2        8 #> 244 2         1     1     230      2       16 #> 245 1         1     1     231      2       15 #> 246 1         1     1     232      2       20 #> 247 1         1     1     234      2       12 #> 248 2         1     1     235      2       12 #> 249 1         1     1     236      2       12 #> 250 2         1     1     238      2       10 #> 251 2         1     1     239      2        9 #> 252 2         1     1      24      2       14 #> 253 1         1     1     243      2       12 #> 254 2         1     1     244      2       10 #> 255 2         1     1     246      2       11 #> 256 2         1     1     249      2       11 #> 257 2         1     1      25      2       11 #> 258 2         1     1     250      2       11 #> 259 2         1     1     252      2       11 #> 260 2         1     1     255      2       12 #> 261 2         1     1     256      2       19 #> 262 2         1     1     257      2       12 #> 263 1         1     1     260      2       17 #> 264 2         1     1     261      2        8 #> 265 2         1     1     262      2       13 #> 266 1         1     1     263      2       11 #> 267 2         1     1     264      2       10 #> 268 2         1     1     265      2        8 #> 269 2         1     1     266      2       10 #> 270 2         1     1     267      2       19 #> 271 1         1     1     269      2       10 #> 272 1         1     1     270      2       18 #> 273 2         1     1     271      2        8 #> 274 1         1     1     272      2       11 #> 275 2         1     1     273      2        9 #> 276 1         1     1     274      2       10 #> 277 2         1     1     275      2       13 #> 278 1         1     1     276      2       11 #> 279 1         1     1     277      2        9 #> 280 2         1     1     281      2        9 #> 281 2         1     1     283      2        8 #> 282 2         1     1     286      2       10 #> 283 2         1     1     287      2       12 #> 284 1         1     1     288      2        9 #> 285 2         1     1     289      2       17 #> 286 2         1     1      29      2       15 #> 287 1         1     1     290      2       20 #> 288 2         1     1     291      2       12 #> 289 2         1     1     293      2        9 #> 290 2         1     1     294      2        7 #> 291 2         1     1     296      2        8 #> 292 1         1     1     297      2       14 #> 293 2         1     1      30      2       11 #> 294 2         1     1     301      2       16 #> 295 2         1     1     303      2       16 #> 296 2         1     1     307      2       16 #> 297 1         1     1      31      2       25 #> 298 2         1     1     311      2       15 #> 299 1         1     1     312      2       16 #> 300 1         1     1     313      2       19 #> 301 1         1     1     314      2        8 #> 302 1         1     1     319      2       11 #> 303 2         1     1     320      2        9 #> 304 1         1     1     323      2        8 #> 305 1         1     1     324      2       10 #> 306 1         1     1     325      2        8 #> 307 1         1     1     326      2       10 #> 308 2         1     1     327      2       15 #> 309 2         1     1     328      2       13 #> 310 1         1     1     331      2       10 #> 311 2         1     1     334      2       12 #> 312 1         1     1     336      2        8 #> 313 1         1     1     338      2        9 #> 314 2         1     1     339      2       16 #> 315 2         1     1     341      2        8 #> 316 2         1     1     342      2       13 #> 317 2         1     1     343      2        9 #> 318 2         1     1     344      2        7 #> 319 1         1     1     347      2        8 #> 320 2         1     1     349      2        7 #> 321 2         1     1     351      2        9 #> 322 2         1     1     352      2        7 #> 323 2         1     1     353      2       10 #> 324 1         1     1     354      2       10 #> 325 2         1     1     355      2       11 #> 326 2         1     1     356      2       18 #> 327 1         1     1     357      2        9 #> 328 2         1     1     360      2        8 #> 329 2         1     1     361      2       12 #> 330 2         1     1     362      2        9 #> 331 1         1     1     364      2       10 #> 332 1         1     1     366      2        7 #> 333 2         1     1     369      2       12 #> 334 1         1     1     372      2       10 #> 335 2         1     1     374      2       16 #> 336 2         1     1     377      2       10 #> 337 2         1     1     379      2        9 #> 338 2         1     1      38      2        8 #> 339 2         1     1     380      2       12 #> 340 1         1     1     381      2       18 #> 341 1         1     1     382      2       12 #> 342 2         1     1     384      2       17 #> 343 1         1     1     385      2        9 #> 344 2         1     1     389      2       12 #> 345 2         1     1     390      2       14 #> 346 2         1     1     391      2       15 #> 347 1         1     1     392      2       10 #> 348 1         1     1     394      2       17 #> 349 2         1     1     395      2       17 #> 350 1         1     1     397      2       17 #> 351 2         1     1     398      2       17 #> 352 2         1     1      40      2       16 #> 353 2         1     1     401      2       12 #> 354 2         1     1     403      2       22 #> 355 2         1     1     404      2       11 #> 356 2         1     1     405      2       14 #> 357 2         1     1     406      2       11 #> 358 2         1     1     407      2        9 #> 359 2         1     1     408      2        8 #> 360 2         1     1     409      2       12 #> 361 2         1     1      41      2       17 #> 362 2         1     1     410      2       13 #> 363 2         1     1     411      2       13 #> 364 2         1     1     419      2       17 #> 365 2         1     1     421      2       18 #> 366 2         1     1     422      2       10 #> 367 2         1     1     425      2       10 #> 368 2         1     1     428      2       11 #> 369 2         1     1     430      2       11 #> 370 2         1     1     432      2       15 #> 371 2         1     1     433      2       12 #> 372 2         1     1     434      2       10 #> 373 2         1     1     436      2       13 #> 374 1         1     1     438      2       12 #> 375 2         1     1     440      2       13 #> 376 2         1     1     441      2       10 #> 377 2         1     1     442      2       15 #> 378 2         1     1     444      2       11 #> 379 2         1     1     447      2       12 #> 380 2         1     1     449      2       14 #> 381 2         1     1     451      2        8 #> 382 2         1     1     452      2       10 #> 383 1         1     1     453      2        9 #> 384 2         1     1     456      2       18 #> 385 2         1     1     457      2        7 #> 386 2         1     1     458      2        7 #> 387 2         1     1     460      2       11 #> 388 2         1     1     463      2       11 #> 389 2         1     1     464      2       16 #> 390 2         1     1     466      2       14 #> 391 1         1     1     468      2        7 #> 392 2         1     1     469      2        9 #> 393 2         1     1     471      2       17 #> 394 1         1     1     472      2        7 #> 395 1         1     1     473      2       10 #> 396 2         1     1     474      2        9 #> 397 2         1     1     478      2       14 #> 398 2         1     1     482      2        7 #> 399 2         1     1     485      2       11 #> 400 2         1     1     486      2       10 #> 401 2         1     1     487      2       14 #> 402 1         1     1     488      2        7 #> 403 2         1     1     489      2        8 #> 404 2         1     1     490      2        8 #> 405 2         1     1     493      2       12 #> 406 2         1     1     495      2       14 #> 407 1         1     1     497      2        8 #> 408 1         1     1     498      2       11 #> 409 1         1     1     499      2       17 #> 410 2         1     1       5      2       12 #> 411 2         1     1     500      2       10 #> 412 2         1     1     501      2       22 #> 413 2         1     1     502      2        8 #> 414 1         1     1     505      2       11 #> 415 2         1     1     506      2       18 #> 416 1         1     1     507      2       16 #> 417 1         1     1     509      2       15 #> 418 2         1     1     510      2       19 #> 419 2         1     1     513      2       15 #> 420 2         1     1     514      2        7 #> 421 1         1     1     515      2        8 #> 422 1         1     1     517      2        8 #> 423 1         1     1     520      2       10 #> 424 2         1     1     525      2        7 #> 425 2         1     1     526      2       11 #> 426 2         1     1     528      2        8 #> 427 2         1     1     529      2       12 #> 428 2         1     1     530      2        9 #> 429 2         1     1     532      2        7 #> 430 2         1     1     533      2       12 #> 431 2         1     1     535      2        9 #> 432 2         1     1     536      2        8 #> 433 1         1     1     537      2       10 #> 434 2         1     1     540      2       12 #> 435 2         1     1     545      2        7 #> 436 2         1     1     546      2        8 #> 437 2         1     1     548      2       17 #> 438 2         1     1     549      2       17 #> 439 2         1     1     551      2        9 #> 440 1         1     1     552      2        9 #> 441 2         1     1     554      2        9 #> 442 1         1     1     556      2        8 #> 443 2         1     1     559      2       14 #> 444 2         1     1      56      2       12 #> 445 2         1     1     560      2       28 #> 446 1         1     1     562      2       11 #> 447 2         1     1     564      2        7 #> 448 2         1     1     565      2        9 #> 449 1         1     1     566      2        7 #> 450 1         1     1     567      2        7 #> 451 1         1     1     570      2       19 #> 452 1         1     1     571      2       15 #> 453 2         1     1     573      2       20 #> 454 2         1     1     574      2       20 #> 455 2         1     1     575      2       14 #> 456 2         1     1     576      2       10 #> 457 2         1     1     577      2       11 #> 458 2         1     1     581      2       11 #> 459 2         1     1     583      2       16 #> 460 2         1     1     586      2       17 #> 461 1         1     1     587      2       10 #> 462 2         1     1     589      2       11 #> 463 2         1     1     591      2        8 #> 464 2         1     1     592      2       15 #> 465 2         1     1     594      2       11 #> 466 1         1     1     596      2       18 #> 467 2         1     1     597      2       17 #> 468 2         1     1     598      2       12 #> 469 2         1     1     599      2       18 #> 470 1         1     1       6      2       19 #> 471 1         1     1     603      2       19 #> 472 2         1     1     604      2        7 #> 473 1         1     1     606      2       10 #> 474 2         1     1     608      2       17 #> 475 2         1     1     609      2       19 #> 476 2         1     1      61      2       13 #> 477 1         1     1     610      2        8 #> 478 2         1     1     611      2       12 #> 479 2         1     1     612      2       10 #> 480 2         1     1     614      2       10 #> 481 2         1     1     615      2       13 #> 482 1         1     1     623      2        8 #> 483 2         1     1     625      2       21 #> 484 2         1     1     627      2       11 #> 485 1         1     1     628      2       10 #> 486 2         1     1      63      2        7 #> 487 2         1     1     630      2       11 #> 488 2         1     1     631      2       10 #> 489 2         1     1     635      2       17 #> 490 2         1     1     636      2        9 #> 491 1         1     1     638      2        8 #> 492 1         1     1     639      2        9 #> 493 1         1     1      64      2       19 #> 494 2         1     1     643      2        9 #> 495 2         1     1     644      2       12 #> 496 2         1     1     645      2        8 #> 497 2         1     1     646      2       11 #> 498 2         1     1     648      2       11 #> 499 1         1     1      65      2       11 #> 500 2         1     1     651      2       10 #> 501 2         1     1     652      2       10 #> 502 2         1     1     654      2       13 #> 503 2         1     1     659      2        8 #> 504 2         1     1      66      2       15 #> 505 2         1     1     660      2       13 #> 506 2         1     1     662      2       12 #> 507 2         1     1     663      2       16 #> 508 2         1     1     665      2       10 #> 509 1         1     1     666      2       13 #> 510 1         1     1     667      2       10 #> 511 1         1     1     668      2        9 #> 512 1         1     1     669      2       10 #> 513 2         1     1      67      2       13 #> 514 1         1     1     672      2        9 #> 515 1         1     1     673      2       10 #> 516 2         1     1     678      2       10 #> 517 2         1     1     679      2        8 #> 518 2         1     1     680      2        7 #> 519 2         1     1     683      2        7 #> 520 2         1     1     685      2        8 #> 521 1         1     1     687      2        9 #> 522 2         1     1     690      2       11 #> 523 2         1     1     692      2       16 #> 524 2         1     1     693      2       12 #> 525 1         1     1     694      2       10 #> 526 1         1     1     698      2       10 #> 527 2         1     1     701      2       13 #> 528 2         1     1     702      2       12 #> 529 2         1     1     704      2        9 #> 530 2         1     1     705      2       12 #> 531 2         1     1     706      2       13 #> 532 2         1     1     715      2       11 #> 533 2         1     1     716      2       23 #> 534 2         1     1     719      2        7 #> 535 2         1     1      72      2       15 #> 536 2         1     1     720      2       15 #> 537 2         1     1     722      2       12 #> 538 1         1     1     723      2        9 #> 539 2         1     1     724      2       15 #> 540 2         1     1     725      2       17 #> 541 2         1     1     726      2       13 #> 542 2         1     1     729      2       20 #> 543 2         1     1      73      2       11 #> 544 2         1     1     731      2       11 #> 545 2         1     1     732      2       25 #> 546 2         1     1     734      2       12 #> 547 2         1     1     736      2       12 #> 548 2         1     1     738      2        8 #> 549 2         1     1     739      2       14 #> 550 2         1     1     740      2        8 #> 551 2         1     1     742      2        8 #> 552 2         1     1     743      2       15 #> 553 2         1     1     744      2       11 #> 554 2         1     1     746      2       10 #> 555 2         1     1     747      2        7 #> 556 2         1     1     748      2       10 #> 557 2         1     1      75      2       10 #> 558 1         1     1     750      2       14 #> 559 1         1     1     752      2        7 #> 560 2         1     1     753      2       14 #> 561 2         1     1     754      2       11 #> 562 2         1     1     755      2       11 #> 563 2         1     1     757      2        9 #> 564 2         1     1     759      2       15 #> 565 2         1     1     762      2       18 #> 566 2         1     1     764      2       15 #> 567 2         1     1      77      2       20 #> 568 2         1     1     770      2        9 #> 569 2         1     1     772      2        7 #> 570 2         1     1     776      2       13 #> 571 2         1     1     777      2       10 #> 572 2         1     1     778      2       11 #> 573 1         1     1     779      2       13 #> 574 2         1     1      78      2       10 #> 575 1         1     1     781      2        8 #> 576 2         1     1     782      2       12 #> 577 2         1     1     785      2       16 #> 578 2         1     1     788      2       12 #> 579 2         1     1      79      2       12 #> 580 2         1     1     794      2       13 #> 581 1         1     1     798      2       10 #> 582 2         1     1     799      2       10 #> 583 2         1     1     814      2       13 #> 584 2         1     1     818      2       12 #> 585 1         1     1     819      2        8 #> 586 1         1     1     821      2        7 #> 587 1         1     1     822      2       22 #> 588 2         1     1     823      2       18 #> 589 2         1     1     825      2       13 #> 590 1         1     1     826      2       15 #> 591 1         1     1     827      2       24 #> 592 1         1     1     828      2       11 #> 593 2         1     1     829      2       14 #> 594 2         1     1     830      2       12 #> 595 2         1     1     833      2        7 #> 596 2         1     1     836      2       12 #> 597 2         1     1     838      2        7 #> 598 2         1     1      84      2       16 #> 599 2         1     1     842      2       12 #> 600 2         1     1     843      2        9 #> 601 2         1     1     844      2       10 #> 602 2         1     1     845      2        8 #> 603 1         1     1     846      2        9 #> 604 2         1     1     847      2        7 #> 605 2         1     1     848      2        8 #> 606 2         1     1     849      2       10 #> 607 2         1     1      85      2       10 #> 608 2         1     1     859      2       14 #> 609 2         1     1      86      2       15 #> 610 2         1     1     862      2       10 #> 611 2         1     1     863      2       10 #> 612 1         1     1     864      2       11 #> 613 2         1     1     875      2        7 #> 614 2         1     1     876      2       13 #> 615 2         1     1     877      2       15 #> 616 2         1     1     878      2       11 #> 617 2         1     1     880      2        8 #> 618 2         1     1     881      2        9 #> 619 2         1     1     882      2        7 #> 620 2         1     1     883      2       10 #> 621 2         1     1     885      2       18 #> 622 2         1     1     888      2        9 #> 623 2         1     1     890      2       14 #> 624 2         1     1     891      2        7 #> 625 2         1     1     892      2        9 #> 626 2         1     1     893      2       17 #> 627 2         1     1     894      2       23 #> 628 2         1     1     895      2       12 #> 629 2         1     1     897      2       15 #> 630 1         1     1     899      2        8 #> 631 2         1     1       9      2       15 #> 632 2         1     1      90      2       11 #> 633 2         1     1     901      2       10 #> 634 2         1     1     902      2       10 #> 635 2         1     1     160      3       11 #> 636 1         1     1     229      3       12 #> 637 2         1     1     280      3        8 #> 638 2         1     1     284      3       11 #> 639 2         1     1     299      3       10 #> 640 2         1     1     359      3       13 #> 641 2         1     1     368      3       12 #> 642 1         1     1     416      3       11 #> 643 1         1     1     511      3       10 #> 644 2         1     1     521      3        7 #> 645 2         1     1     544      3        8 #> 646 2         1     1     601      3       13 #> 647 2         1     1     642      3       14 #> 648 1         1     1     686      3       11 #> 649 2         1     1     689      3       12 #> 650 2         1     1     708      3        7 #> 651 2         1     1     712      3       17 #> 652 2         1     1     714      3       14 #> 653 2         1     1     735      3       10 #> 654 1         1     1     756      3       11 #> 655 2         1     1     760      3        9 #> 656 2         1     1     784      3        9 #> 657 2         1     1     792      3       10 #> 658 2         1     1     805      3        9 #> 659 2         1     1     806      3       10 #> 660 2         1     1     807      3        8 #> 661 2         1     1     837      3       10 #> 662 1         1     1     887      3       18 #> 663 1         1     1     138      4        7 #> 664 2         1     1     151      4       11 #> 665 2         1     1     161      4       14 #> 666 2         1     1     164      4       11 #> 667 2         1     1     182      4       12 #> 668 2         1     1     202      4       20 #> 669 2         1     1     218      4       14 #> 670 2         1     1     228      4       20 #> 671 2         1     1     248      4        9 #> 672 2         1     1     295      4        8 #> 673 2         1     1     300      4        8 #> 674 2         1     1     305      4        8 #> 675 2         1     1      33      4       15 #> 676 2         1     1     330      4       10 #> 677 2         1     1     332      4       12 #> 678 2         1     1     337      4       16 #> 679 2         1     1     340      4        7 #> 680 2         1     1     345      4        9 #> 681 1         1     1     348      4       17 #> 682 2         1     1     365      4        8 #> 683 2         1     1     371      4        8 #> 684 2         1     1     373      4       18 #> 685 2         1     1     375      4       11 #> 686 2         1     1     376      4       15 #> 687 1         1     1     378      4        9 #> 688 2         1     1     386      4        8 #> 689 2         1     1     388      4       16 #> 690 2         1     1     420      4       10 #> 691 2         1     1     437      4       13 #> 692 2         1     1     445      4       14 #> 693 1         1     1     461      4        8 #> 694 2         1     1     467      4       14 #> 695 2         1     1     504      4       19 #> 696 2         1     1     512      4       13 #> 697 2         1     1     522      4       25 #> 698 2         1     1     527      4        9 #> 699 2         1     1     531      4       20 #> 700 2         1     1     538      4        8 #> 701 2         1     1     553      4       10 #> 702 2         1     1     555      4        7 #> 703 1         1     1     561      4       16 #> 704 2         1     1     582      4       13 #> 705 2         1     1     588      4       12 #> 706 2         1     1     602      4       10 #> 707 2         1     1     607      4       18 #> 708 1         1     1     618      4        8 #> 709 2         1     1     621      4       11 #> 710 2         1     1     622      4        7 #> 711 2         1     1     626      4        8 #> 712 2         1     1     633      4        9 #> 713 2         1     1     656      4        8 #> 714 2         1     1     657      4       12 #> 715 1         1     1     658      4        8 #> 716 2         1     1     675      4       13 #> 717 1         1     1      68      4       11 #> 718 2         1     1     684      4        9 #> 719 2         1     1     691      4        7 #> 720 2         1     1     696      4       12 #> 721 1         1     1     707      4        9 #> 722 2         1     1     713      4       11 #> 723 2         1     1     717      4       14 #> 724 2         1     1     728      4       10 #> 725 2         1     1     733      4       10 #> 726 2         1     1     741      4       18 #> 727 2         1     1     749      4       13 #> 728 2         1     1     768      4        8 #> 729 1         1     1     771      4        7 #> 730 2         1     1     773      4        9 #> 731 2         1     1     783      4        8 #> 732 2         1     1     786      4       11 #> 733 1         1     1     787      4       19 #> 734 2         1     1       8      4       11 #> 735 2         1     1     803      4       15 #> 736 2         1     1     813      4        9 #> 737 2         1     1     816      4       12 #> 738 2         1     1     834      4       10 #> 739 2         1     1     851      4        8 #> 740 2         1     1     852      4       10 #> 741 2         1     1     854      4        7 #> 742 2         1     1     855      4       11 #> 743 2         1     1     869      4       11 #> 744 2         1     1     884      4       15 #> 745 2         1     1     896      4       13 #> 746 1         1     1      94      4       10 #> 747 2         1     1      96      4       13 #> 748 2         1     1     251      5       12 #> 749 2         1     1     278      5        9 #> 750 2         1     1     282      5        8 #> 751 2         1     1     370      5        9 #> 752 2         1     1     383      5       13 #> 753 1         1     1     412      5        9 #> 754 2         1     1     443      5       18 #> 755 1         1     1     476      5        7 #> 756 2         1     1     492      5        8 #> 757 1         1     1     600      5       17 #> 758 2         1     1     664      5        8 #> 759 2         1     1     670      5       12 #> 760 1         1     1     700      5       18 #> 761 1         1     1     721      5        8 #> 762 2         1     1     758      5        7 #> 763 1         1     1     761      5        9 #> 764 2         1     1     790      5        9 #> 765 2         1     1     791      5       10 #> 766 2         1     1     824      5       16 #> 767 2         1     1     858      5       11 #> 768 2         1     1     860      5        7 #> 769 2         1     1     861      5        8 #> 770 2         1     1     873      5        9 #> 771 1         1     1     153      6       10 #> 772 1         1     1     200      6        8 #> 773 2         1     1     285      6        9 #> 774 2         1     1     322      6        9 #> 775 2         1     1     367      6        7 #> 776 2         1     1     427      6       11 #> 777 1         1     1     454      6        7 #> 778 1         1     1     455      6        8 #> 779 2         1     1     470      6        7 #> 780 2         1     1     534      6        9 #> 781 2         1     1     539      6       17 #> 782 2         1     1     542      6        9 #> 783 1         1     1     617      6        8 #> 784 2         1     1     629      6       10 #> 785 2         1     1     695      6        8 #> 786 2         1     1     699      6       10 #> 787 2         1     1     710      6        7 #> 788 2         1     1     774      6        8 #> 789 2         1     1     811      6        9 #> 790 2         1     1     815      6        9 #> 791 2         1     1     835      6       10 #> 792 2         1     1     872      6        8 #> 793 2         1     1     298      7        7 #> 794 1         1     1     417      7       13 #> 795 2         1     1     475      7        9 #> 796 2         1     1      50      7       19 #> 797 2         1     1     808      7        8 #> 798 2         1     1     809      7        9 #> 799 1         1     1     100      8       18 #> 800 2         1     1      12      8       18 #> 801 2         1     1     141      8       20 #> 802 2         1     1     142      8       12 #> 803 2         1     1     145      8       12 #> 804 2         1     1     165      8       11 #> 805 2         1     1     184      8       10 #> 806 1         1     1     220      8        8 #> 807 2         1     1     240      8       10 #> 808 1         1     1     241      8        8 #> 809 2         1     1     242      8       10 #> 810 2         1     1     245      8        9 #> 811 2         1     1     247      8        7 #> 812 2         1     1     254      8       12 #> 813 2         1     1     292      8        7 #> 814 2         1     1     304      8       13 #> 815 2         1     1     306      8       20 #> 816 2         1     1     317      8       12 #> 817 2         1     1     321      8       11 #> 818 1         1     1     329      8        8 #> 819 2         1     1     333      8       14 #> 820 2         1     1     335      8        7 #> 821 2         1     1     346      8        9 #> 822 2         1     1     350      8        8 #> 823 1         1     1     358      8       10 #> 824 2         1     1     393      8        9 #> 825 1         1     1     415      8        9 #> 826 2         1     1     424      8       10 #> 827 2         1     1     429      8       10 #> 828 2         1     1     431      8        8 #> 829 2         1     1     446      8       11 #> 830 2         1     1     459      8        7 #> 831 2         1     1     479      8        7 #> 832 2         1     1     480      8       10 #> 833 2         1     1     484      8        9 #> 834 1         1     1     491      8       10 #> 835 1         1     1     494      8       10 #> 836 1         1     1     496      8       11 #> 837 2         1     1     523      8        9 #> 838 2         1     1     524      8       11 #> 839 1         1     1     550      8        8 #> 840 2         1     1     557      8       27 #> 841 2         1     1     558      8       25 #> 842 2         1     1     579      8        7 #> 843 1         1     1     585      8       10 #> 844 1         1     1     605      8        8 #> 845 2         1     1     616      8        9 #> 846 1         1     1     619      8        9 #> 847 2         1     1     620      8       15 #> 848 1         1     1     624      8       11 #> 849 1         1     1     637      8        8 #> 850 2         1     1     641      8       14 #> 851 2         1     1     650      8       10 #> 852 2         1     1     653      8       12 #> 853 2         1     1     655      8        7 #> 854 2         1     1     661      8       10 #> 855 1         1     1     681      8        8 #> 856 1         1     1     682      8        7 #> 857 1         1     1      71      8        7 #> 858 2         1     1     711      8        8 #> 859 1         1     1     730      8       10 #> 860 2         1     1     763      8        8 #> 861 2         1     1     765      8        7 #> 862 1         1     1     766      8        8 #> 863 2         1     1     775      8        8 #> 864 1         1     1     789      8       12 #> 865 1         1     1     795      8        7 #> 866 1         1     1     796      8       11 #> 867 2         1     1     797      8       13 #> 868 2         1     1     800      8       13 #> 869 2         1     1     801      8        9 #> 870 2         1     1     802      8       14 #> 871 2         1     1     812      8        9 #> 872 2         1     1     817      8       14 #> 873 2         1     1     820      8       10 #> 874 2         1     1     831      8       11 #> 875 2         1     1     839      8        9 #> 876 1         1     1     840      8       16 #> 877 2         1     1     841      8       14 #> 878 2         1     1     850      8        9 #> 879 2         1     1     853      8       10 #> 880 2         1     1     856      8        8 #> 881 2         1     1     857      8       10 #> 882 2         1     1     865      8       11 #> 883 2         1     1     866      8        8 #> 884 2         1     1     867      8        8 #> 885 2         1     1     868      8        9 #> 886 2         1     1     870      8        7 #> 887 2         1     1     871      8        7 #> 888 2         1     1     874      8        9 #> 889 2         1     1      89      8       25 #> 890 2         1     1     898      8        8"},{"path":"https://strengejacke.github.io/ggeffects/reference/efc.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample dataset from the EUROFAMCARE project — efc","title":"Sample dataset from the EUROFAMCARE project — efc","text":"SPSS sample data set, imported sjlabelled::read_spss() function.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/efc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Sample dataset from the EUROFAMCARE project — efc","text":"","code":"# Attach EFC-data data(efc)  # Show structure str(efc) #> 'data.frame':\t908 obs. of  28 variables: #>  $ c12hour : num  16 148 70 168 168 16 161 110 28 40 ... #>   ..- attr(*, \"label\")= chr \"average number of hours of care per week\" #>  $ e15relat: num  2 2 1 1 2 2 1 4 2 2 ... #>   ..- attr(*, \"label\")= chr \"relationship to elder\" #>   ..- attr(*, \"labels\")= Named num [1:8] 1 2 3 4 5 6 7 8 #>   .. ..- attr(*, \"names\")= chr [1:8] \"spouse/partner\" \"child\" \"sibling\" \"daughter or son -in-law\" ... #>  $ e16sex  : num  2 2 2 2 2 2 1 2 2 2 ... #>   ..- attr(*, \"label\")= chr \"elder's gender\" #>   ..- attr(*, \"labels\")= Named num [1:2] 1 2 #>   .. ..- attr(*, \"names\")= chr [1:2] \"male\" \"female\" #>  $ e17age  : num  83 88 82 67 84 85 74 87 79 83 ... #>   ..- attr(*, \"label\")= chr \"elder' age\" #>  $ e42dep  : num  3 3 3 4 4 4 4 4 4 4 ... #>   ..- attr(*, \"label\")= chr \"elder's dependency\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"independent\" \"slightly dependent\" \"moderately dependent\" \"severely dependent\" #>  $ c82cop1 : num  3 3 2 4 3 2 4 3 3 3 ... #>   ..- attr(*, \"label\")= chr \"do you feel you cope well as caregiver?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\" #>  $ c83cop2 : num  2 3 2 1 2 2 2 2 2 2 ... #>   ..- attr(*, \"label\")= chr \"do you find caregiving too demanding?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c84cop3 : num  2 3 1 3 1 3 4 2 3 1 ... #>   ..- attr(*, \"label\")= chr \"does caregiving cause difficulties in your relationship with your friends?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c85cop4 : num  2 3 4 1 2 3 1 1 2 2 ... #>   ..- attr(*, \"label\")= chr \"does caregiving have negative effect on your physical health?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c86cop5 : num  1 4 1 1 2 3 1 1 2 1 ... #>   ..- attr(*, \"label\")= chr \"does caregiving cause difficulties in your relationship with your family?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c87cop6 : num  1 1 1 1 2 2 2 1 1 1 ... #>   ..- attr(*, \"label\")= chr \"does caregiving cause financial difficulties?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c88cop7 : num  2 3 1 1 1 2 4 2 3 1 ... #>   ..- attr(*, \"label\")= chr \"do you feel trapped in your role as caregiver?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"Never\" \"Sometimes\" \"Often\" \"Always\" #>  $ c89cop8 : num  3 2 4 2 4 1 1 3 1 1 ... #>   ..- attr(*, \"label\")= chr \"do you feel supported by friends/neighbours?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\" #>  $ c90cop9 : num  3 2 3 4 4 1 4 3 3 3 ... #>   ..- attr(*, \"label\")= chr \"do you feel caregiving worthwhile?\" #>   ..- attr(*, \"labels\")= Named num [1:4] 1 2 3 4 #>   .. ..- attr(*, \"names\")= chr [1:4] \"never\" \"sometimes\" \"often\" \"always\" #>  $ c160age : num  56 54 80 69 47 56 61 67 59 49 ... #>   ..- attr(*, \"label\")= chr \"carer' age\" #>  $ c161sex : num  2 2 1 1 2 1 2 2 2 2 ... #>   ..- attr(*, \"label\")= chr \"carer's gender\" #>   ..- attr(*, \"labels\")= Named num [1:2] 1 2 #>   .. ..- attr(*, \"names\")= chr [1:2] \"Male\" \"Female\" #>  $ c172code: num  2 2 1 2 2 2 2 2 NA 2 ... #>   ..- attr(*, \"label\")= chr \"carer's level of education\" #>   ..- attr(*, \"labels\")= Named num [1:3] 1 2 3 #>   .. ..- attr(*, \"names\")= chr [1:3] \"low level of education\" \"intermediate level of education\" \"high level of education\" #>  $ c175empl: num  1 1 0 0 0 1 0 0 0 0 ... #>   ..- attr(*, \"label\")= chr \"are you currently employed?\" #>   ..- attr(*, \"labels\")= Named num [1:2] 0 1 #>   .. ..- attr(*, \"names\")= chr [1:2] \"no\" \"yes\" #>  $ barthtot: num  75 75 35 0 25 60 5 35 15 0 ... #>   ..- attr(*, \"label\")= chr \"Total score BARTHEL INDEX\" #>  $ neg_c_7 : num  12 20 11 10 12 19 15 11 15 10 ... #>   ..- attr(*, \"label\")= chr \"Negative impact with 7 items\" #>  $ pos_v_4 : num  12 11 13 15 15 9 13 14 13 13 ... #>   ..- attr(*, \"label\")= chr \"Positive value with 4 items\" #>  $ quol_5  : num  14 10 7 12 19 8 20 20 8 15 ... #>   ..- attr(*, \"label\")= chr \"Quality of life 5 items\" #>  $ resttotn: num  0 4 0 2 2 1 0 0 0 1 ... #>   ..- attr(*, \"label\")= chr \"Job restrictions\" #>  $ tot_sc_e: num  4 0 1 0 1 3 0 1 2 1 ... #>   ..- attr(*, \"label\")= chr \"Services for elderly\" #>  $ n4pstu  : num  0 0 2 3 2 2 3 1 3 3 ... #>   ..- attr(*, \"label\")= chr \"Care level\" #>   ..- attr(*, \"labels\")= Named chr [1:5] \"0\" \"1\" \"2\" \"3\" ... #>   .. ..- attr(*, \"names\")= chr [1:5] \"No Care Level\" \"Care Level 1\" \"Care Level 2\" \"Care Level 3\" ... #>  $ nur_pst : num  NA NA 2 3 2 2 3 1 3 3 ... #>   ..- attr(*, \"label\")= chr \"Care level\" #>   ..- attr(*, \"labels\")= Named chr [1:3] \"1\" \"2\" \"3\" #>   .. ..- attr(*, \"names\")= chr [1:3] \"Care Level 1\" \"Care Level 2\" \"Care Level 3/3+\" #>  $ grp     : Factor w/ 8 levels \"spouse/partner\",..: 2 2 1 1 2 2 1 4 2 2 ... #>   ..- attr(*, \"label\")= chr \"relationship to elder\" #>  $ negc7d  : Factor w/ 2 levels \"0\",\"1\": 2 2 1 1 2 2 2 1 2 1 ... #>   ..- attr(*, \"label\")= chr \"Negative impact with 7 items\"  # show first rows head(efc) #>   c12hour e15relat e16sex e17age e42dep c82cop1 c83cop2 c84cop3 c85cop4 c86cop5 #> 1      16        2      2     83      3       3       2       2       2       1 #> 2     148        2      2     88      3       3       3       3       3       4 #> 3      70        1      2     82      3       2       2       1       4       1 #> 4     168        1      2     67      4       4       1       3       1       1 #> 5     168        2      2     84      4       3       2       1       2       2 #> 6      16        2      2     85      4       2       2       3       3       3 #>   c87cop6 c88cop7 c89cop8 c90cop9 c160age c161sex c172code c175empl barthtot #> 1       1       2       3       3      56       2        2        1       75 #> 2       1       3       2       2      54       2        2        1       75 #> 3       1       1       4       3      80       1        1        0       35 #> 4       1       1       2       4      69       1        2        0        0 #> 5       2       1       4       4      47       2        2        0       25 #> 6       2       2       1       1      56       1        2        1       60 #>   neg_c_7 pos_v_4 quol_5 resttotn tot_sc_e n4pstu nur_pst            grp negc7d #> 1      12      12     14        0        4      0      NA          child      1 #> 2      20      11     10        4        0      0      NA          child      1 #> 3      11      13      7        0        1      2       2 spouse/partner      0 #> 4      10      15     12        2        0      3       3 spouse/partner      0 #> 5      12      15     19        2        1      2       2          child      1 #> 6      19       9      8        1        3      2       2          child      1"},{"path":"https://strengejacke.github.io/ggeffects/reference/fish.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set — fish","title":"Sample data set — fish","text":"sample data set, used tests examples.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/get_title.html","id":null,"dir":"Reference","previous_headings":"","what":"Get titles and labels from data — get_title","title":"Get titles and labels from data — get_title","text":"Get variable value labels ggeffects-objects. Functions like ggpredict() ggeffect() save information variable names value labels additional attributes returned data frame. especially helpful labelled data (see sjlabelled), since labels can used set axis labels titles.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/get_title.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get titles and labels from data — get_title","text":"","code":"get_title(x, case = NULL)  get_x_title(x, case = NULL)  get_y_title(x, case = NULL)  get_legend_title(x, case = NULL)  get_legend_labels(x, case = NULL)  get_x_labels(x, case = NULL)  get_complete_df(x, case = NULL)"},{"path":"https://strengejacke.github.io/ggeffects/reference/get_title.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get titles and labels from data — get_title","text":"x object class ggeffects, returned ggeffects-function; get_complete_df(), must list ggeffects-objects. case Desired target case. Labels automatically converted specified character case. See ?sjlabelled::convert_case details argument.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/get_title.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get titles and labels from data — get_title","text":"titles labels character string, NULL, variables labels; get_complete_df() returns input list x single data frame, grouping variable indicates predicted values term.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/get_title.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get titles and labels from data — get_title","text":"","code":"library(ggeffects) library(ggplot2) data(efc, package = \"ggeffects\") efc$c172code <- datawizard::to_factor(efc$c172code) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c161sex\", \"c172code\"))  ggplot(mydf, aes(x = x, y = predicted, colour = group)) +   stat_smooth(method = \"lm\") +   facet_wrap(~facet, ncol = 2) +   labs(     x = get_x_title(mydf),     y = get_y_title(mydf),     colour = get_legend_title(mydf)   ) #> `geom_smooth()` using formula = 'y ~ x'   # adjusted predictions, a list of data frames (one data frame per term) eff <- ggeffect(fit) eff #> $c12hour #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.44 | 73.25, 77.63 #>      20 |     70.38 | 68.56, 72.19 #>      45 |     64.05 | 62.39, 65.70 #>      65 |     58.98 | 57.16, 60.81 #>      85 |     53.92 | 51.71, 56.12 #>     105 |     48.85 | 46.15, 51.55 #>     125 |     43.79 | 40.52, 47.06 #>     170 |     32.39 | 27.74, 37.05 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. #>  #> $neg_c_7 #> # Predicted values of Total score BARTHEL INDEX #>  #> neg_c_7 | Predicted |       95% CI #> ---------------------------------- #>       6 |     78.07 | 75.01, 81.14 #>       8 |     73.51 | 71.14, 75.88 #>      12 |     64.39 | 62.73, 66.04 #>      14 |     59.82 | 57.91, 61.73 #>      16 |     55.26 | 52.79, 57.73 #>      20 |     46.13 | 42.16, 50.10 #>      22 |     41.57 | 36.78, 46.36 #>      28 |     27.88 | 20.55, 35.22 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. #>  #> $c161sex #> # Predicted values of Total score BARTHEL INDEX #>  #> c161sex | Predicted |       95% CI #> ---------------------------------- #>       1 |     64.09 | 60.69, 67.49 #>       2 |     64.96 | 63.07, 66.86 #>  #>  #> $c172code #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code                        | Predicted |       95% CI #> ---------------------------------------------------------- #> low level of education          |     62.79 | 59.21, 66.38 #> intermediate level of education |     65.68 | 63.55, 67.81 #> high level of education         |     64.01 | 60.14, 67.88 #>  #>  #> attr(,\"class\") #> [1] \"ggalleffects\" \"list\"         #> attr(,\"model.name\") #> [1] \"fit\" get_complete_df(eff) #> # Predicted values of Total score BARTHEL INDEX #>  #> : c12hour #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.44 | 73.25, 77.63 #>      35 |     66.58 | 64.91, 68.25 #>      70 |     57.71 | 55.81, 59.62 #>     100 |     50.12 | 47.55, 52.69 #>     170 |     32.39 | 27.74, 37.05 #>  #> : c161sex #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       1 |     64.09 | 60.69, 67.49 #>       2 |     64.96 | 63.07, 66.86 #>  #> : c172code #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       1 |     62.79 | 59.21, 66.38 #>       2 |     65.68 | 63.55, 67.81 #>       3 |     64.01 | 60.14, 67.88 #>  #> : neg_c_7 #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       6 |     78.07 | 75.01, 81.14 #>      10 |     68.95 | 67.11, 70.79 #>      14 |     59.82 | 57.91, 61.73 #>      20 |     46.13 | 42.16, 50.10 #>      28 |     27.88 | 20.55, 35.22 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # adjusted predictions for education only, and get x-axis-labels mydat <- eff[[\"c172code\"]] ggplot(mydat, aes(x = x, y = predicted, group = group)) +   stat_summary(fun = sum, geom = \"line\") +   scale_x_discrete(labels = get_x_labels(mydat))"},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":null,"dir":"Reference","previous_headings":"","what":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"ggeffects package computes estimated marginal means (predicted values) response, margin specific values levels certain model terms, .e. generates predictions model holding non-focal variables constant varying focal variable(s). ggpredict() uses predict() generating predictions, ggeffect() computes marginal effects internally calling effects::Effect() ggemmeans() uses emmeans::emmeans(). ggaverage() uses marginaleffects::avg_predictions(). result returned consistent data frame.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"","code":"# S3 method for ggeffects as.data.frame(   x,   row.names = NULL,   optional = FALSE,   ...,   stringsAsFactors = FALSE,   terms_to_colnames = FALSE )  ggaverage(   model,   terms,   ci_level = 0.95,   typical = \"mean\",   condition = NULL,   back_transform = TRUE,   verbose = TRUE,   ... )  ggeffect(model, terms, ci_level = 0.95, verbose = TRUE, ci.lvl = ci_level, ...)  ggemmeans(   model,   terms,   ci_level = 0.95,   type = \"fixed\",   typical = \"mean\",   condition = NULL,   back_transform = TRUE,   interval = \"confidence\",   verbose = TRUE,   ci.lvl = ci_level,   back.transform = back_transform,   ... )  ggpredict(   model,   terms,   ci_level = 0.95,   type = \"fixed\",   typical = \"mean\",   condition = NULL,   back_transform = TRUE,   ppd = FALSE,   vcov_fun = NULL,   vcov_type = NULL,   vcov_args = NULL,   interval,   verbose = TRUE,   ci.lvl = ci_level,   back.transform = back_transform,   vcov.fun = vcov_fun,   vcov.type = vcov_type,   vcov.args = vcov_args,   ... )"},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"x object class ggeffects, returned ggpredict(), ggeffect() ggemmeans(). row.names NULL character vector giving row     names data frame.  Missing values allowed. optional logical. TRUE, setting row names     converting column names (syntactic names: see     make.names) optional.  Note R's     base package .data.frame() methods use     optional column names treatment, basically     meaning data.frame(*, check.names = !optional).     See also make.names argument matrix method. ... ggpredict(), arguments passed predict(); ggeffect(), arguments passed effects::Effect(); ggemmeans(), arguments passed emmeans::emmeans(); ggaverage(), arguments passed marginaleffects::avg_predictions().  type = \"simulate\", ... may also used set number simulation, e.g. nsim = 500. stringsAsFactors logical: character vector converted     factor? terms_to_colnames Logical, TRUE, standardized column names (like \"x\", \"group\" \"facet\") replaced variable names focal predictors specified terms. model fitted model object, list model objects. model supports common methods like predict(), family() model.frame() work. ggeffect(), model supported effects work, ggemmeans(), models supported emmeans work. terms Names terms model, predictions displayed (called focal terms). Can : character vector, specifying names focal terms. preferred probably flexible way specify focal terms, e.g. terms = \"x [40:60]\", calculate predictions values 40 60. list, element named vector, specifying focal terms values. \"classical\" R way specify focal terms, e.g. list(x = 40:60). formula, e.g. terms = ~ x + z, internally converted character vector. probably least flexible way, specify representative values focal terms. data frame representig \"data grid\" \"reference grid\". Predictions made combinations variables data frame. least one term required calculate effects certain terms, maximum length four terms, second fourth term indicate groups, .e. predictions first term grouped meaningful values levels remaining terms (see values_at()). terms missing NULL, adjusted predictions model term calculated (.e. model term used single focal term). also possible define specific values focal terms, adjusted predictions calculated (see 'Details'). remaining covariates specified terms held constant (see 'Details'). See also arguments condition typical. ci_level Numeric, level confidence intervals. ggpredict(), use ci_level = NA, confidence intervals calculated (instance, due computation time). Typically, confidence intervals based standard errors returned predict() function returned, assuming normal distribution (.e. +/- 1.96 * SE). See introduction vignette details. typical Character vector, naming function applied covariates (non-focal terms) effect \"averaged\". default \"mean\". Can \"mean\", \"weighted.mean\", \"median\", \"mode\" \"zero\", call corresponding R functions (except \"mode\", calls internal function compute common value); \"zero\" simply returns 0. default, covariate factor, \"mode\" applicable; values (including default, \"mean\") reference level returned. character vectors, mode returned. can use named vector apply different functions integer, numeric categorical covariates, e.g. typical = c(numeric = \"median\", factor = \"mode\"). typical \"weighted.mean\", weights model used. weights available, function falls back \"mean\". condition Named character vector, indicates covariates held constant specific values. Unlike typical, applies function covariates determine value used hold covariates constant, condition can used define exact values, instance condition = c(covariate1 = 20, covariate2 = 5). See 'Examples'. back_transform Logical, TRUE (default), predicted values log- log-log transformed responses back-transformed original response-scale. verbose Toggle messages warnings. ci.lvl, vcov.fun, vcov.type, vcov.args, back.transform Deprecated arguments. Please use ci_level, vcov_fun, vcov_type, vcov_args back_transform instead. type Character, indicating whether predictions conditioned specific model components . Consequently, options apply survival models, mixed effects models /models zero-inflation (Bayesian counter-parts); exeption type = \"simulate\", available model classes well (respond simulate()). Note: brmsfit-models zero-inflation component, type = \"zero_inflated\" type = \"zi_random\"; predicted values MixMod-models GLMMadaptive zero-inflation component always condition zero-inflation part model (see 'Details'). \"fixed\" (\"fe\" \"count\") Predicted values conditioned fixed effects conditional model (mixed models: predicted values population-level confidence intervals returned, .e. re.form = NA calling predict()). instance, models fitted zeroinfl pscl, return predicted mean count component (without zero-inflation). models zero-inflation component, type calls predict(..., type = \"link\") (however, predicted values back-transformed response scale). \"fixed_ppd\" applies ggpredict(), Bayesian models class stanreg brmsfit. Computes posterior predictive distribution. setting type = \"fixed\" combination ppd = TRUE. \"random\" (\"re\") applies mixed models, type = \"random\" condition zero-inflation component model. type = \"random\" still returns population-level predictions, however, conditioned random effects considering individual level predictions, .e. re.form = NULL calling predict(). may affect returned predicted values, depending whether REML = TRUE REML = FALSE used model fitting. Furthermore, unlike type = \"fixed\", intervals also consider uncertainty variance parameters (mean random effect variance, see Johnson et al. 2014 details) hence can considered prediction intervals. models zero-inflation component, type calls predict(..., type = \"link\") (however, predicted values back-transformed response scale). get predicted values level random effects groups, add name related random effect term terms-argument (details, see vignette). \"random_ppd\" applies ggpredict(), Bayesian models class stanreg brmsfit. Computes posterior predictive distribution. setting type = \"random\" combination ppd = TRUE. \"zero_inflated\" (\"fe.zi\" \"zi\") Predicted values conditioned fixed effects zero-inflation component. instance, models fitted zeroinfl pscl, return predicted response (mu*(1-p)) glmmTMB, return expected value mu*(1-p) without conditioning random effects (.e. random effect variances taken account confidence intervals). models zero-inflation component, type calls predict(..., type = \"response\"). See 'Details'. \"zi_random\" (\"re.zi\" \"zero_inflated_random\") Predicted values conditioned zero-inflation component take random effects uncertainty account. models fitted glmmTMB(), hurdle() zeroinfl(), return expected value mu*(1-p). glmmTMB, prediction intervals also consider uncertainty random effects variances. type calls predict(..., type = \"response\"). See 'Details'. \"zi_prob\" (\"zi.prob\") Predicted zero-inflation probability. glmmTMB models zero-inflation component, type calls predict(..., type = \"zlink\"); models pscl call predict(..., type = \"zero\") GLMMadaptive, predict(..., type = \"zero_part\") called. \"simulate\" (\"sim\") Predicted values confidence resp. prediction intervals based simulations, .e. calls simulate(). type prediction takes model uncertainty account, including random effects variances. Currently supported models objects class lm, glm, glmmTMB, wbm, MixMod merMod. See ... details number simulations. \"survival\" \"cumulative_hazard\" (\"surv\" \"cumhaz\") Applies coxph-objects survial-package calculates survival probability cumulative hazard event. interval Type interval calculation, can either \"confidence\" (default) \"prediction\". May abbreviated. Unlike confidence intervals, prediction intervals include residual variance (sigma^2) account uncertainty predicted values. mixed models, interval = \"prediction\" default type = \"random\". type = \"fixed\", default interval = \"confidence\". Note prediction intervals available models, models work insight::get_sigma(). ppd Logical, TRUE, predictions Stan-models based posterior predictive distribution rstantools::posterior_predict(). FALSE (default), predictions based posterior draws linear predictor rstantools::posterior_linpred(). vcov_fun Variance-covariance matrix used compute uncertainty estimates (e.g., confidence intervals based robust standard errors). argument accepts covariance matrix, function returns covariance matrix, string identifies function used compute covariance matrix. (variance-covariance) matrix function returns covariance matrix (e.g., stats::vcov()) string indicates name vcov*()-function sandwich clubSandwich packages, e.g. vcov_fun = \"vcovCL\", used compute (cluster) robust standard errors predictions. NULL, standard errors (confidence intervals) predictions based standard errors returned predict()-function. Note probably model objects work ggpredict() also supported sandwich clubSandwich packages. See details vignette. vcov_type Character vector, specifying estimation type robust covariance matrix estimation (see ?sandwich::vcovHC ?clubSandwich::vcovCR details). used vcov_fun character string indicating function packages. vcov_args List named vectors, used additional arguments passed vcov_fun.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"data frame (ggeffects class attribute) consistent data columns: \"x\": values first term terms, used x-position plots. \"predicted\": predicted values response, used y-position plots. \"std.error\": standard error predictions. Note standard errors always link-scale, back-transformed non-Gaussian models! \"conf.low\": lower bound confidence interval predicted values. \"conf.high\": upper bound confidence interval predicted values. \"group\": grouping level second term terms, used grouping-aesthetics plots. \"facet\": grouping level third term terms, used indicate facets plots. estimated marginal means (predicted values) always response scale! proportional odds logistic regression (see ?MASS::polr) resp. cumulative link models (e.g., see ?ordinal::clm), additional column \"response.level\" returned, indicates grouping predictions based level model's response. Note convenience reasons, columns intervals always named \"conf.low\" \"conf.high\", even though Bayesian models credible highest posterior density intervals returned. .data.frame() method objects class ggeffects, terms_to_colnames argument, use term names column names instead standardized names \"x\" etc.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"Supported Models list supported models can found package website. Support models varies function, .e. although ggpredict(), ggemmeans() ggeffect() support models, models supported exclusively one three functions. Difference ggpredict() ggeffect() ggemmeans() ggpredict() calls predict(), ggeffect() calls effects::Effect() ggemmeans() calls emmeans::emmeans() compute predicted values. Thus, effects returned ggpredict() can described conditional effects (.e. conditioned certain (reference) levels factors), ggemmeans() ggeffect() return marginal means, since effects \"marginalized\" (\"averaged\") levels factors (values character vectors). Therefore, ggpredict() ggeffect() resp. ggemmeans() differ factors character vectors held constant: ggpredict() uses reference level (\"lowest\" value case character vectors), ggeffect() ggemmeans() compute kind \"average\" value, represents proportions factor's category. Use condition set specific level factors ggemmeans(), factors averaged categories, held constant given level. Difference ggemmeans() ggaverage() Estimated marginal means, computed ggemmeans() ggeffect(), special case predictions, made perfectly balanced grid categorical predictors, numeric predictors held means, marginalized respect focal variables. ggaverage() calculates predicted values observation data multiple times, time fixing values levels focal terms takes average predicted values (aggregated/grouped focal terms). rule thumb approach better; depends characteristics sample population generalized. Consulting marginaleffects-website might help decide approach appropriate. apparent difference non-focal categorical predictors affect predicted values. ggpredict() condition certain level non-focal factors (usually, reference level), ggemmeans() \"average\" levels non-focal factors, ggaverage() average observations sample. See also vignette details examples. Marginal Effects Adjusted Predictions Specific Values Meaningful values focal terms can specified via terms argument. Specifying meaningful representative values string pattern preferred way ggeffects package. However, also possible use list() focal terms prefer \"classical\" R way, described vignette. Indicating levels square brackets allows selecting certain groups values resp. value ranges. term name start levels brackets must separated whitespace character, e.g. terms = c(\"age\", \"education [1,3]\"). Numeric ranges, separated colon, also allowed: terms = c(\"education\", \"age [30:60]\"). stepsize ranges can adjusted using , e.g. terms = \"age [30:60 =5]\". terms argument also supports shortcuts values argument values_at(). terms = \"age [meansd]\" return predictions values one standard deviation mean age, mean age one SD mean age. terms = \"age [quart2]\" calculate predictions value lower, median upper quartile age. Furthermore, possible specify function name. Values predictions transformed, e.g. terms = \"income [exp]\". useful model predictors transformed fitting model back-transformed original scale predictions. also possible define functions (see vignette). Instead function, also possible define name variable specific values, e.g. define vector v = c(1000, 2000, 3000) use terms = \"income [v]\". can take random sample size sample=n, e.g terms = \"income [sample=8]\", sample eight values possible values variable income. option especially useful plotting predictions certain levels random effects group levels, group factor many levels can completely plotted. details, see vignette. Finally, numeric vectors specific values given, \"pretty range\" calculated (see pretty_range()), avoid memory allocation problems vectors many unique values. numeric vector specified second third term (.e. vector represents grouping structure), representative values (see values_at()) chosen (unless values specified). values numeric vector used compute predictions, may use e.g. terms = \"age []\". See also package vignettes. create pretty range smaller larger default range (.e. specific values given), use n tag, e.g. terms=\"age [n=5]\" terms=\"age [n=12]\". Larger values n return larger range predicted values. Holding covariates constant values ggpredict(), data grid constructed, roughly comparable expand.grid() unique combinations model.frame(model)[, terms]. data grid (see data_grid()) newdata argument predict(). case, remaining covariates specified terms held constant: Numeric values set mean (unless changed condition typical argument), integer values set median, factors set reference level (may also changed condition) character vectors mode (common element). ggeffect() ggemmeans(), default, set remaining numeric covariates mean value, factors, kind \"average\" value, represents proportions factor's category, used. applies character vectors: ggemmeans() averages distribution unique values character vector, similar factors treated. Thus, non-focal categorical terms ggemmeans() ggeffect() conditioned \"weighted averages\" levels. ggemmeans(), use condition set specific level factors averaged categories, held constant given level. Finally, ggaverage() calculates average predicted values, averaged full sample aggregated (representative values ) focal terms. details, see vignette. Bayesian Regression Models ggpredict() also works Stan-models rstanarm brms-packages. predicted values median value drawn posterior samples. confidence intervals Stan-models Bayesian predictive intervals. default (.e. ppd = FALSE), predictions based rstantools::posterior_linpred() hence limitations: uncertainty error term taken account. recommendation use posterior predictive distribution (rstantools::posterior_predict()). Zero-Inflated Zero-Inflated Mixed Models brms Models class brmsfit always condition zero-inflation component, model component. Hence, type = \"zero_inflated\" type = \"zi_random\" brmsfit-models, predictions based draws posterior distribution, already account zero-inflation part model. Zero-Inflated Zero-Inflated Mixed Models glmmTMB model class glmmTMB, hurdle, zeroinfl zerotrunc, simulations multivariate normal distribution (see ?MASS::mvrnorm) drawn calculate mu*(1-p). Confidence intervals based quantiles results. type = \"zi_random\", prediction intervals also take uncertainty random-effect paramters account (see also Brooks et al. 2017, pp.391-392 details). alternative models fitted glmmTMB take model uncertainties account simulations based simulate(), used type = \"simulate\" (see Brooks et al. 2017, pp.392-393 details). MixMod-models GLMMadaptive Predicted values fixed effects component (type = \"fixed\" type = \"zero_inflated\") based predict(..., type = \"mean_subject\"), predicted values random effects components (type = \"random\" type = \"zi_random\") calculated predict(..., type = \"subject_specific\") (see ?GLMMadaptive::predict.MixMod details). latter option requires response variable defined newdata-argument predict(), set typical value (see values_at()).","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"Multinomial Models polr, clm models, generally speaking, models ordinal multinominal outcomes, additional column response.level, indicates level response variable predicted values associated. Printing Results print() method gives clean output (especially predictions groups), indicates values covariates held constant. Furthermore, print() method arguments digits n control number decimals lines printed. Limitations support models, example package MCMCglmm, rather experimental may fail certain models. encounter errors, please file issue Github.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"Brooks , Kristensen K, Benthem KJ van, Magnusson , Berg CW, Nielsen , et al. glmmTMB Balances Speed Flexibility Among Packages Zero-inflated Generalized Linear Mixed Modeling. R Journal. 2017;9: 378-400. Johnson PC, O'Hara RB. 2014. Extension Nakagawa & Schielzeth's R2GLMM random slopes models. Methods Ecol Evol, 5: 944-946.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/ggpredict.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Marginal effects, adjusted predictions and estimated marginal means from regression models — as.data.frame.ggeffects","text":"","code":"library(sjlabelled) #>  #> Attaching package: ‘sjlabelled’ #> The following object is masked from ‘package:ggplot2’: #>  #>     as_label #> The following objects are masked from ‘package:datawizard’: #>  #>     to_factor, to_numeric data(efc) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  ggpredict(fit, terms = \"c12hour\") #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.44 | 73.25, 77.63 #>      20 |     70.38 | 68.56, 72.19 #>      45 |     64.05 | 62.39, 65.70 #>      65 |     58.98 | 57.15, 60.80 #>      85 |     53.91 | 51.71, 56.12 #>     105 |     48.85 | 46.14, 51.55 #>     125 |     43.78 | 40.51, 47.05 #>     170 |     32.38 | 27.73, 37.04 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> *  c161sex =  1.76 #> * c172code =  1.97 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     76.18 | 72.81, 79.55 #>      30 |     68.58 | 65.41, 71.76 #>      55 |     62.25 | 59.00, 65.50 #>      85 |     54.65 | 51.03, 58.27 #>     115 |     47.05 | 42.85, 51.26 #>     170 |     33.12 | 27.50, 38.74 #>  #> c172code: intermediate level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.46 | 73.28, 77.65 #>      30 |     67.87 | 66.16, 69.57 #>      55 |     61.53 | 59.82, 63.25 #>      85 |     53.93 | 51.72, 56.14 #>     115 |     46.34 | 43.35, 49.32 #>     170 |     32.40 | 27.74, 37.07 #>  #> c172code: high level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.75 | 71.26, 78.23 #>      30 |     67.15 | 64.03, 70.26 #>      55 |     60.81 | 57.77, 63.86 #>      85 |     53.22 | 49.95, 56.48 #>     115 |     45.62 | 41.86, 49.37 #>     170 |     31.69 | 26.59, 36.78 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #> * c161sex =  1.76 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows. ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.39 | 71.03, 79.75 #>      45 |     63.99 | 59.72, 68.26 #>      85 |     53.86 | 49.22, 58.50 #>     170 |     32.33 | 25.94, 38.72 #>  #> c172code: low level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     76.43 | 72.88, 79.98 #>      45 |     65.03 | 61.67, 68.39 #>      85 |     54.90 | 51.15, 58.65 #>     170 |     33.37 | 27.69, 39.05 #>  #> c172code: intermediate level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.67 | 71.05, 78.29 #>      45 |     63.27 | 59.88, 66.67 #>      85 |     53.14 | 49.39, 56.89 #>     170 |     31.61 | 25.97, 37.25 #>  #> c172code: intermediate level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.71 | 73.31, 78.12 #>      45 |     64.32 | 62.41, 66.22 #>      85 |     54.18 | 51.81, 56.56 #>     170 |     32.65 | 27.94, 37.37 #>  #> c172code: high level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     73.95 | 69.35, 78.56 #>      45 |     62.56 | 58.22, 66.89 #>      85 |     52.42 | 47.89, 56.96 #>     170 |     30.89 | 24.84, 36.95 #>  #> c172code: high level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.00 | 71.40, 78.59 #>      45 |     63.60 | 60.45, 66.74 #>      85 |     53.46 | 50.12, 56.80 #>     170 |     31.93 | 26.82, 37.05 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # specified as formula ggpredict(fit, terms = ~ c12hour + c172code + c161sex) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.39 | 71.03, 79.75 #>      45 |     63.99 | 59.72, 68.26 #>      85 |     53.86 | 49.22, 58.50 #>     170 |     32.33 | 25.94, 38.72 #>  #> c172code: low level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     76.43 | 72.88, 79.98 #>      45 |     65.03 | 61.67, 68.39 #>      85 |     54.90 | 51.15, 58.65 #>     170 |     33.37 | 27.69, 39.05 #>  #> c172code: intermediate level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.67 | 71.05, 78.29 #>      45 |     63.27 | 59.88, 66.67 #>      85 |     53.14 | 49.39, 56.89 #>     170 |     31.61 | 25.97, 37.25 #>  #> c172code: intermediate level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.71 | 73.31, 78.12 #>      45 |     64.32 | 62.41, 66.22 #>      85 |     54.18 | 51.81, 56.56 #>     170 |     32.65 | 27.94, 37.37 #>  #> c172code: high level of education #> c161sex: [1] Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     73.95 | 69.35, 78.56 #>      45 |     62.56 | 58.22, 66.89 #>      85 |     52.42 | 47.89, 56.96 #>     170 |     30.89 | 24.84, 36.95 #>  #> c172code: high level of education #> c161sex: [2] Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     75.00 | 71.40, 78.59 #>      45 |     63.60 | 60.45, 66.74 #>      85 |     53.46 | 50.12, 56.80 #>     170 |     31.93 | 26.82, 37.05 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # only range of 40 to 60 for variable 'c12hour' ggpredict(fit, terms = \"c12hour [40:60]\") #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>      40 |     65.31 | 63.66, 66.96 #>      43 |     64.55 | 62.90, 66.20 #>      45 |     64.05 | 62.39, 65.70 #>      47 |     63.54 | 61.88, 65.20 #>      50 |     62.78 | 61.11, 64.45 #>      53 |     62.02 | 60.33, 63.71 #>      55 |     61.51 | 59.80, 63.22 #>      60 |     60.25 | 58.49, 62.01 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> *  c161sex =  1.76 #> * c172code =  1.97 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # terms as named list ggpredict(fit, terms = list(c12hour = 40:60)) #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>      40 |     65.31 | 63.66, 66.96 #>      43 |     64.55 | 62.90, 66.20 #>      45 |     64.05 | 62.39, 65.70 #>      47 |     63.54 | 61.88, 65.20 #>      50 |     62.78 | 61.11, 64.45 #>      53 |     62.02 | 60.33, 63.71 #>      55 |     61.51 | 59.80, 63.22 #>      60 |     60.25 | 58.49, 62.01 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> *  c161sex =  1.76 #> * c172code =  1.97 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # covariate \"neg_c_7\" is held constant at a value of 11.84 (its mean value). # To use a different value, use \"condition\" ggpredict(fit, terms = \"c12hour [40:60]\", condition = c(neg_c_7 = 20)) #> # Predicted values of Total score BARTHEL INDEX #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>      40 |     46.56 | 42.58, 50.55 #>      43 |     45.80 | 41.84, 49.76 #>      45 |     45.30 | 41.35, 49.24 #>      47 |     44.79 | 40.86, 48.72 #>      50 |     44.03 | 40.11, 47.94 #>      53 |     43.27 | 39.37, 47.17 #>      55 |     42.76 | 38.87, 46.65 #>      60 |     41.50 | 37.62, 45.37 #>  #> Adjusted for: #> *  c161sex = 1.76 #> * c172code = 1.97 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # to plot ggeffects-objects, you can use the 'plot()'-function. # the following examples show how to build your ggplot by hand.  # \\donttest{ # plot predicted values, remaining covariates held constant library(ggplot2) mydf <- ggpredict(fit, terms = \"c12hour\") ggplot(mydf, aes(x, predicted)) +   geom_line() +   geom_ribbon(aes(ymin = conf.low, ymax = conf.high), alpha = 0.1)   # three variables, so we can use facets and groups mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c161sex\", \"c172code\")) ggplot(mydf, aes(x = x, y = predicted, colour = group)) +   stat_smooth(method = \"lm\", se = FALSE) +   facet_wrap(~facet, ncol = 2) #> `geom_smooth()` using formula = 'y ~ x'   # select specific levels for grouping terms mydf <- ggpredict(fit, terms = c(\"c12hour\", \"c172code [1,3]\", \"c161sex\")) ggplot(mydf, aes(x = x, y = predicted, colour = group)) +   stat_smooth(method = \"lm\", se = FALSE) +   facet_wrap(~facet) +   labs(     y = get_y_title(mydf),     x = get_x_title(mydf),     colour = get_legend_title(mydf)   ) #> `geom_smooth()` using formula = 'y ~ x'   # level indication also works for factors with non-numeric levels # and in combination with numeric levels for other variables data(efc) efc$c172code <- sjlabelled::as_label(efc$c172code) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc) ggpredict(fit, terms = c(\"c12hour\",   \"c172code [low level of education, high level of education]\",   \"c161sex [1]\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.03 | 69.23, 78.83 #>      30 |     66.43 | 61.74, 71.13 #>      55 |     60.10 | 55.33, 64.88 #>      85 |     52.51 | 47.45, 57.56 #>     115 |     44.91 | 39.39, 50.43 #>     170 |     30.98 | 24.28, 37.68 #>  #> c172code: high level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     72.81 | 67.90, 77.72 #>      30 |     65.22 | 60.53, 69.90 #>      55 |     58.89 | 54.22, 63.55 #>      85 |     51.29 | 46.45, 56.13 #>     115 |     43.69 | 38.48, 48.90 #>     170 |     29.76 | 23.48, 36.05 #>  #> Adjusted for: #> * neg_c_7 = 11.84 #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # when \"terms\" is a named list ggpredict(fit, terms = list(   c12hour = seq(0, 170, 30),   c172code = c(\"low level of education\", \"high level of education\"),   c161sex = 1) ) #> # Predicted values of Total score BARTHEL INDEX #>  #> c172code: low level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     74.03 | 69.23, 78.83 #>      30 |     66.43 | 61.74, 71.13 #>      60 |     58.84 | 54.03, 63.64 #>      90 |     51.24 | 46.11, 56.36 #>     120 |     43.64 | 38.03, 49.26 #>     150 |     36.05 | 29.82, 42.28 #>  #> c172code: high level of education #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>       0 |     72.81 | 67.90, 77.72 #>      30 |     65.22 | 60.53, 69.90 #>      60 |     57.62 | 52.94, 62.29 #>      90 |     50.02 | 45.14, 54.91 #>     120 |     42.43 | 37.14, 47.72 #>     150 |     34.83 | 28.98, 40.67 #>  #> Adjusted for: #> * neg_c_7 = 11.84  # use categorical value on x-axis, use axis-labels, add error bars dat <- ggpredict(fit, terms = c(\"c172code\", \"c161sex\")) ggplot(dat, aes(x, predicted, colour = group)) +   geom_point(position = position_dodge(0.1)) +   geom_errorbar(     aes(ymin = conf.low, ymax = conf.high),     position = position_dodge(0.1)   ) +   scale_x_discrete(breaks = 1:3, labels = get_x_labels(dat))   # 3-way-interaction with 2 continuous variables data(efc) # make categorical efc$c161sex <- as_factor(efc$c161sex) fit <- lm(neg_c_7 ~ c12hour * barthtot * c161sex, data = efc) # select only levels 30, 50 and 70 from continuous variable Barthel-Index dat <- ggpredict(fit, terms = c(\"c12hour\", \"barthtot [30,50,70]\", \"c161sex\")) ggplot(dat, aes(x = x, y = predicted, colour = group)) +   stat_smooth(method = \"lm\", se = FALSE, fullrange = TRUE) +   facet_wrap(~facet) +   labs(     colour = get_legend_title(dat),     x = get_x_title(dat),     y = get_y_title(dat),     title = get_title(dat)   ) #> `geom_smooth()` using formula = 'y ~ x'   # or with ggeffects' plot-method plot(dat, ci = FALSE)  # }  # predictions for polynomial terms data(efc) fit <- glm(   tot_sc_e ~ c12hour + e42dep + e17age + I(e17age^2) + I(e17age^3),   data = efc,   family = poisson() ) ggeffect(fit, terms = \"e17age\") #> # Predicted counts of Services for elderly #>  #> e17age | Predicted |     95% CI #> ------------------------------- #>     64 |      1.37 | 1.04, 1.80 #>     70 |      0.94 | 0.84, 1.06 #>     74 |      0.90 | 0.80, 1.01 #>     78 |      0.94 | 0.85, 1.04 #>     84 |      1.04 | 0.94, 1.15 #>     90 |      1.01 | 0.88, 1.15 #>     94 |      0.82 | 0.65, 1.04 #>    104 |      0.17 | 0.04, 0.67 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows."},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":null,"dir":"Reference","previous_headings":"","what":"(Pairwise) comparisons between predictions — hypothesis_test","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"Function test differences adjusted predictions statistical significance. usually called contrasts (pairwise) comparisons. test_predictions() alias.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"","code":"hypothesis_test(model, ...)  test_predictions(model, ...)  # S3 method for default hypothesis_test(   model,   terms = NULL,   by = NULL,   test = \"pairwise\",   equivalence = NULL,   scale = \"response\",   p_adjust = NULL,   df = NULL,   ci_level = 0.95,   collapse_levels = FALSE,   verbose = TRUE,   ci.lvl = ci_level,   ... )  # S3 method for ggeffects hypothesis_test(   model,   by = NULL,   test = \"pairwise\",   equivalence = NULL,   scale = \"response\",   p_adjust = NULL,   df = NULL,   collapse_levels = FALSE,   verbose = TRUE,   ... )"},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"model fitted model object, object class ggeffects. ... Arguments passed data_grid() creating reference grid marginaleffects::predictions() resp. marginaleffects::slopes(). instance, arguments type transform can used back-transform comparisons contrasts different scales. vcov can used calculate heteroscedasticity-consistent standard errors contrasts. See examples bottom vignette details. Note different ways define heteroscedasticity-consistent variance-covariance matrix ggpredict() hypothesis_test() resp. johnson_neyman(). ggpredict(), arguments named vcov_fun vcov_args, whereas hypothesis_test() johnson_neyman(), argument vcov. See ?marginaleffects::slopes details. terms Character vector names focal terms model, contrasts comparisons displayed. least one term required, maximum length three terms. first focal term numeric, contrasts comparisons slopes numeric predictor computed (possibly grouped levels categorical focal predictors). Character vector specifying names predictors condition . Hypothesis test carried focal terms level variables. useful especially interaction terms, want test interaction within \"groups\". relevant categorical predictors. test Hypothesis test. default, pairwise-comparisons conducted. See section Introduction contrasts pairwise comparisons. equivalence ROPE's lower higher bounds. \"default\" vector length two (e.g., c(-0.1, 0.1)). \"default\", bayestestR::rope_range() used. Instead using equivalence argument, also possible call equivalence_test() method directly. requires parameters package loaded. using equivalence_test(), two columns information ROPE coverage decision H0 added. Furthermore, possible plot() results equivalence_test(). See bayestestR::equivalence_test() resp. parameters::equivalence_test.lm() details. scale Character string, indicating scale contrasts comparisons represented. Can one : \"response\" (default), return contrasts response scale (e.g. logistic regression, probabilities); \"link\" return contrasts scale linear predictors (e.g. logistic regression, log-odds); \"probability\" (\"probs\") returns contrasts probability scale, required model classes, like MASS::polr(); \"oddsratios\" return contrasts odds ratio scale (applies logistic regression models); \"irr\" return contrasts odds ratio scale (applies count models); transformation function like \"exp\" \"log\", return transformed (exponentiated respectively logarithmic) contrasts; note transformations applied response scale. Note: scale argument supported provided model, automaticaly changed supported scale-type (message printed verbose = TRUE). p_adjust Character vector, NULL, indicates method adjust p-values. See stats::p.adjust() stats::p.adjust.methods details. possible adjustment methods \"tukey\" \"sidak\", johnson_neyman(), \"fdr\" (\"bh\") \"esarey\" (short-cut \"es\") available options. caution necessary adjusting p-value multiple comparisons. See also section P-value adjustment . df Degrees freedom used compute p-values confidence intervals. NULL, degrees freedom extracted model using insight::get_df() type = \"wald\". ci_level Numeric, level confidence intervals. collapse_levels Logical, TRUE, term labels refer identical levels longer separated \"-\", instead collapsed unique term label (e.g., \"level -level \" becomes \"level \"). See 'Examples'. verbose Toggle messages warnings. ci.lvl Deprecated, please use ci_level.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"data frame containing predictions (e.g. test = NULL), contrasts pairwise comparisons adjusted predictions estimated marginal means.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"introduction-into-contrasts-and-pairwise-comparisons","dir":"Reference","previous_headings":"","what":"Introduction into contrasts and pairwise comparisons","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"many ways test contrasts pairwise comparisons. detailed introduction many (visual) examples shown vignette.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"p-value-adjustment-for-multiple-comparisons","dir":"Reference","previous_headings":"","what":"P-value adjustment for multiple comparisons","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"Note p-value adjustment methods supported p.adjust() (see also p.adjust.methods), row considered one set comparisons, matter test specified. , instance, hypothesis_test() returns eight rows predictions (test = NULL), p_adjust = \"bonferroni\", p-values adjusted way test pairwise comparisons (test = \"pairwise\") eight rows comparisons returned. methods \"tukey\" \"sidak\", rank adjustment done based number combinations levels focal predictors terms. Thus, latter two methods may useful certain tests , particular pairwise comparisons. johnson_neyman(), available adjustment methods \"fdr\" (\"bh\") (Benjamini & Hochberg (1995)) \"esarey\" (\"es\") (Esarey Sumner 2017). usually return similar results. major difference \"fdr\" can slightly faster stable edge cases, however, confidence intervals updated. p-values adjusted. \"esarey\" slower, confidence intervals updated well.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"Esarey, J., & Sumner, J. L. (2017). Marginal effects interaction models: Determining controlling false positive rate. Comparative Political Studies, 1–33. Advance online publication. doi: 10.1177/0010414017730080","code":""},{"path":[]},{"path":"https://strengejacke.github.io/ggeffects/reference/hypothesis_test.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"(Pairwise) comparisons between predictions — hypothesis_test","text":"","code":"if (FALSE) { # requireNamespace(\"marginaleffects\") && requireNamespace(\"parameters\") &&      interactive() # \\donttest{ data(efc) efc$c172code <- as.factor(efc$c172code) efc$c161sex <- as.factor(efc$c161sex) levels(efc$c161sex) <- c(\"male\", \"female\") m <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  # direct computation of comparisons hypothesis_test(m, \"c172code\")  # passing a `ggeffects` object pred <- ggpredict(m, \"c172code\") hypothesis_test(pred)  # test for slope hypothesis_test(m, \"c12hour\")  # interaction - contrasts by groups m <- lm(barthtot ~ c12hour + c161sex * c172code + neg_c_7, data = efc) hypothesis_test(m, c(\"c161sex\", \"c172code\"), test = NULL)  # interaction - pairwise comparisons by groups hypothesis_test(m, c(\"c161sex\", \"c172code\"))  # equivalence testing hypothesis_test(m, c(\"c161sex\", \"c172code\"), equivalence = c(-2.96, 2.96))  # equivalence testing, using the parameters package pr <- ggpredict(m, c(\"c161sex\", \"c172code\")) parameters::equivalence_test(pr)  # interaction - collapse unique levels hypothesis_test(m, c(\"c161sex\", \"c172code\"), collapse_levels = TRUE)  # p-value adjustment hypothesis_test(m, c(\"c161sex\", \"c172code\"), p_adjust = \"tukey\")  # not all comparisons, only by specific group levels hypothesis_test(m, \"c172code\", by = \"c161sex\")  # specific comparisons hypothesis_test(m, c(\"c161sex\", \"c172code\"), test = \"b2 = b1\")  # interaction - slope by groups m <- lm(barthtot ~ c12hour + neg_c_7 * c172code + c161sex, data = efc) hypothesis_test(m, c(\"neg_c_7\", \"c172code\")) # } }"},{"path":"https://strengejacke.github.io/ggeffects/reference/install_latest.html","id":null,"dir":"Reference","previous_headings":"","what":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","title":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","text":"function can used install latest package version ggeffects, either development version (R-universe/GitHub) current version CRAN.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/install_latest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","text":"","code":"install_latest(   source = c(\"development\", \"cran\"),   force = FALSE,   verbose = TRUE )"},{"path":"https://strengejacke.github.io/ggeffects/reference/install_latest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","text":"source Character. Either \"development\" \"cran\". \"cran\", ggeffects installed default CRAN mirror returned getOption(\"repos\")['CRAN']. \"development\" (default), ggeffects installed r-universe repository (https://strengejacke.r-universe.dev/). force Logical, FALSE, update installed newer version available. Use force=TRUE force installation, even version number locally installed package identical latest development-version. applies source=\"development\". verbose Toggle messages.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/install_latest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","text":"Invisible NULL.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/install_latest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update latest ggeffects-version from R-universe (GitHub) or CRAN — install_latest","text":"","code":"if (FALSE) { # install latest development-version of ggeffects from the # r-universe repository install_latest() }"},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":null,"dir":"Reference","previous_headings":"","what":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"Function conduct spotlight-analysis create -called Johnson-Neyman intervals. plot() method can used visualize results Johnson-Neyman test.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"","code":"johnson_neyman(x, precision = 500, p_adjust = NULL, ...)  spotlight_analysis(x, precision = 500, p_adjust = NULL, ...)  # S3 method for ggjohnson_neyman plot(   x,   colors = c(\"#f44336\", \"#2196F3\"),   show_association = TRUE,   show_rug = FALSE,   verbose = TRUE,   ... )"},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"x object class ggeffects, returned functions package. precision Number values used range moderator variable calculate Johnson-Neyman interval. argument passed pretty(..., n = precision). Usually, default value 500 sufficient. Increasing value result smoother plot accurate values interval bounds, can also slightly increase computation time. p_adjust Character vector, NULL, indicates method adjust p-values. See stats::p.adjust() stats::p.adjust.methods details. possible adjustment methods \"tukey\" \"sidak\", johnson_neyman(), \"fdr\" (\"bh\") \"esarey\" (short-cut \"es\") available options. caution necessary adjusting p-value multiple comparisons. See also section P-value adjustment . ... Arguments passed hypothesis_test() (probably marginaleffects::slopes()). See ?hypothesis_test details. colors Colors used plot. Must vector two color values. used show_association = TRUE. show_association Logical, TRUE, highlights range values moderator positively negtatively associated outcome. show_rug Logical, TRUE, adds rug raw data moderator variable plot. helps visualizing distribution. verbose Show/hide printed message plots.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"data frame including contrasts hypothesis_test() given interaction terms; plot(), returns Johnson-Neyman plot.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"Johnson-Neyman intervals help understand slopes significant context interactions regression models. Thus, interval useful model contains least one interaction term. function accepts results call ggpredict(), ggeffect() ggemmeans(). first last focal term used terms argument ggpredict() etc. must numeric. function test slopes first focal terms zero, different moderator values last focal term. Use plot() create plot results. avoid misleading interpretations plot, speak \"positive\" \"negative\" associations, respectively, \"clear\" associations (instead \"significant\" \"non-significant\"). prevent user considering non-significant range values moderator \"accepting null hypothesis\".","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"p-value-adjustment-for-multiple-comparisons","dir":"Reference","previous_headings":"","what":"P-value adjustment for multiple comparisons","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"Note p-value adjustment methods supported p.adjust() (see also p.adjust.methods), row considered one set comparisons, matter test specified. , instance, hypothesis_test() returns eight rows predictions (test = NULL), p_adjust = \"bonferroni\", p-values adjusted way test pairwise comparisons (test = \"pairwise\") eight rows comparisons returned. methods \"tukey\" \"sidak\", rank adjustment done based number combinations levels focal predictors terms. Thus, latter two methods may useful certain tests , particular pairwise comparisons. johnson_neyman(), available adjustment methods \"fdr\" (\"bh\") (Benjamini & Hochberg (1995)) \"esarey\" (\"es\") (Esarey Sumner 2017). usually return similar results. major difference \"fdr\" can slightly faster stable edge cases, however, confidence intervals updated. p-values adjusted. \"esarey\" slower, confidence intervals updated well.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"Bauer, D. J., & Curran, P. J. (2005). Probing interactions fixed multilevel regression: Inferential graphical techniques. Multivariate Behavioral Research, 40(3), 373-400. doi: 10.1207/s15327906mbr4003_5 Esarey, J., & Sumner, J. L. (2017). Marginal effects interaction models: Determining controlling false positive rate. Comparative Political Studies, 1–33. Advance online publication. doi: 10.1177/0010414017730080 Johnson, P.O. & Fay, L.C. (1950). Johnson-Neyman technique, theory application. Psychometrika, 15, 349-367. doi: 10.1007/BF02288864 McCabe CJ, Kim DS, King KM. Improving Present Practices Visual Display Interactions. Advances Methods Practices Psychological Science. 2018;1(2):147-165. doi:10.1177/2515245917746792 Spiller, S. ., Fitzsimons, G. J., Lynch, J. G., & McClelland, G. H. (2013). Spotlights, Floodlights, Magic Number Zero: Simple Effects Tests Moderated Regression. Journal Marketing Research, 50(2), 277–288. doi:10.1509/jmr.12.0420","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/johnson_neyman.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spotlight-analysis: Create Johnson-Neyman confidence intervals and plots — johnson_neyman","text":"","code":"# \\dontrun{ data(efc) efc$c172code <- as.factor(efc$c172code) m <- lm(neg_c_7 ~ c12hour * barthtot * c172code, data = efc)  pr <- ggpredict(m, c(\"c12hour\", \"barthtot\")) johnson_neyman(pr) #> The association between `c12hour` and `neg_c_7` is negative for values #>   of `barthtot` lower than 47. There were no clear associations for values #>   of `barthtot` higher than 47. plot(johnson_neyman(pr)) #> The association between `c12hour` and `neg_c_7` is negative for values #>   of `barthtot` lower than 47. There were no clear associations for values #>   of `barthtot` higher than 47.   pr <- ggpredict(m, c(\"c12hour\", \"c172code\", \"barthtot\")) johnson_neyman(pr) #> # Level `c172code = 1` #> The association between `c12hour` and `neg_c_7` is negative for values #>   of `barthtot` lower than 47. There were no clear associations for values #>   of `barthtot` higher than 47. #>  #> # Level `c172code = 2` #> The association between `c12hour` and `neg_c_7` is positive for values #>   of `barthtot` higher than 33.80. There were no clear associations for #>   values of `barthtot` lower than 33.80. #>  #> # Level `c172code = 3` #> There are no clear negative or positive associations between `c12hour` #>   and `neg_c_7` for any value of `barthtot`. plot(johnson_neyman(pr)) #> # Level `c172code = 1` #> The association between `c12hour` and `neg_c_7` is negative for values #>   of `barthtot` lower than 47. There were no clear associations for values #>   of `barthtot` higher than 47. #>  #> # Level `c172code = 2` #> The association between `c12hour` and `neg_c_7` is positive for values #>   of `barthtot` higher than 33.80. There were no clear associations for #>   values of `barthtot` lower than 33.80. #>  #> # Level `c172code = 3` #> There are no clear negative or positive associations between `c12hour` #>   and `neg_c_7` for any value of `barthtot`.   # robust standard errors if (requireNamespace(\"sandwich\")) {   johnson_neyman(pr, vcov = sandwich::vcovHC) } #> # Level `c172code = 1` #> The association between `c12hour` and `neg_c_7` is negative for values #>   of `barthtot` lower than 42.20. There were no clear associations for #>   values of `barthtot` higher than 42.20. #>  #> # Level `c172code = 2` #> The association between `c12hour` and `neg_c_7` is positive for values #>   of `barthtot` higher than 37.20. There were no clear associations for #>   values of `barthtot` lower than 37.20. #>  #> # Level `c172code = 3` #> There are no clear negative or positive associations between `c12hour` #>   and `neg_c_7` for any value of `barthtot`. # }"},{"path":"https://strengejacke.github.io/ggeffects/reference/lung2.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data set — lung2","title":"Sample data set — lung2","text":"sample data set, used tests examples survival models. dataset originally included survival package, convenience reasons also available package.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/new_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a data frame from all combinations of predictor values — new_data","title":"Create a data frame from all combinations of predictor values — new_data","text":"Create data frame \"newdata\"-argument contains combinations values terms questions. Similar expand.grid(). terms-argument accepts shortcuts representative values ggpredict().","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/new_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a data frame from all combinations of predictor values — new_data","text":"","code":"new_data(model, terms, typical = \"mean\", condition = NULL, ...)  data_grid(model, terms, typical = \"mean\", condition = NULL, ...)"},{"path":"https://strengejacke.github.io/ggeffects/reference/new_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a data frame from all combinations of predictor values — new_data","text":"model fitted model object. terms Character vector names terms model combinations values created. argument works way terms argument ggpredict(). See also vignette. typical Character vector, naming function applied covariates (non-focal terms) effect \"averaged\". default \"mean\". Can \"mean\", \"weighted.mean\", \"median\", \"mode\" \"zero\", call corresponding R functions (except \"mode\", calls internal function compute common value); \"zero\" simply returns 0. default, covariate factor, \"mode\" applicable; values (including default, \"mean\") reference level returned. character vectors, mode returned. can use named vector apply different functions integer, numeric categorical covariates, e.g. typical = c(numeric = \"median\", factor = \"mode\"). typical \"weighted.mean\", weights model used. weights available, function falls back \"mean\". condition Named character vector, indicates covariates held constant specific values. Unlike typical, applies function covariates determine value used hold covariates constant, condition can used define exact values, instance condition = c(covariate1 = 20, covariate2 = 5). See 'Examples'. ... Currently used.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/new_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a data frame from all combinations of predictor values — new_data","text":"data frame containing one row combination values supplied variables.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/new_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a data frame from all combinations of predictor values — new_data","text":"","code":"data(efc) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc) new_data(fit, c(\"c12hour [meansd]\", \"c161sex\")) #>   c12hour c161sex  neg_c_7 c172code #> 1    -8.3       1 11.83804 1.970552 #> 2    42.2       1 11.83804 1.970552 #> 3    92.7       1 11.83804 1.970552 #> 4    -8.3       2 11.83804 1.970552 #> 5    42.2       2 11.83804 1.970552 #> 6    92.7       2 11.83804 1.970552  nd <- new_data(fit, c(\"c12hour [meansd]\", \"c161sex\")) pr <- predict(fit, type = \"response\", newdata = nd) nd$predicted <- pr nd #>   c12hour c161sex  neg_c_7 c172code predicted #> 1    -8.3       1 11.83804 1.970552  76.75375 #> 2    42.2       1 11.83804 1.970552  63.96204 #> 3    92.7       1 11.83804 1.970552  51.17033 #> 4    -8.3       2 11.83804 1.970552  77.79518 #> 5    42.2       2 11.83804 1.970552  65.00347 #> 6    92.7       2 11.83804 1.970552  52.21175  # compare to ggpredict(fit, c(\"c12hour [meansd]\", \"c161sex\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> c161sex: Male #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>   -8.30 |     77.80 | 75.20, 80.39 #>   42.20 |     65.00 | 63.11, 66.90 #>   92.70 |     52.21 | 49.68, 54.74 #>  #> c161sex: Female #>  #> c12hour | Predicted |       95% CI #> ---------------------------------- #>   -8.30 |     76.75 | 73.02, 80.49 #>   42.20 |     63.96 | 60.57, 67.35 #>   92.70 |     51.17 | 47.30, 55.04 #>  #> Adjusted for: #> *  neg_c_7 = 11.84 #> * c172code =  1.97"},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot ggeffects-objects — plot","title":"Plot ggeffects-objects — plot","text":"generic plot-method ggeffects-objects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot ggeffects-objects — plot","text":"","code":"# S3 method for ggeffects plot(   x,   show_ci = TRUE,   ci_style = c(\"ribbon\", \"errorbar\", \"dash\", \"dot\"),   show_data = FALSE,   show_residuals = FALSE,   show_residuals_line = FALSE,   data_labels = FALSE,   limit_range = FALSE,   collapse_group = FALSE,   show_legend = TRUE,   show_title = TRUE,   show_x_title = TRUE,   show_y_title = TRUE,   case = NULL,   colors = NULL,   alpha = 0.15,   dot_alpha = 0.35,   jitter = NULL,   dodge = 0.25,   dot_size = NULL,   line_size = NULL,   use_theme = TRUE,   log_y = FALSE,   connect_lines = FALSE,   facets,   grid,   one_plot = TRUE,   verbose = TRUE,   ci = show_ci,   ci.style = ci_style,   rawdata = show_data,   add.data = show_data,   residuals = show_residuals,   residuals.line = show_residuals_line,   label.data = data_labels,   limit.range = limit_range,   collapse.group = collapse_group,   dot.alpha = dot_alpha,   dot.size = dot_size,   line.size = line_size,   connect.lines = connect_lines,   show.title = show_title,   show.x.title = show_x_title,   show.y.title = show_y_title,   use.theme = use_theme,   show.legend = show_legend,   one.plot = one_plot,   log.y = log_y,   ... )  theme_ggeffects(base_size = 11, base_family = \"\")  show_pals()"},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot ggeffects-objects — plot","text":"x object class ggeffects, returned functions package. show_ci Logical, TRUE, confidence bands (continuous variables x-axis) resp. error bars (factors x-axis) plotted. ci_style Character vector, indicating style confidence bands. May either \"ribbon\", \"errorbar\", \"dash\" \"dot\", plot ribbon, error bars, dashed dotted lines confidence bands. show_data Logical, TRUE, layer raw data response predictor x-axis, plotted point-geoms, added plot. show_residuals Logical, TRUE, layer partial residuals added plot. See vignette Effect Displays Partial Residuals. effects details partial residual plots. show_residuals_line Logical, TRUE, loess-fit line added partial residuals plot. applies residuals TRUE. data_labels Logical, TRUE row names data available, data points labelled related row name. limit_range Logical, TRUE, limits range prediction bands range data. collapse_group mixed effects models, name grouping variable random effects. collapse_group = TRUE, data points \"collapsed\" first random effect groups added plot. Else, collapse_group name group factor, data collapsed specific random effect. See collapse_by_group() details. show_legend Logical, shows hides plot legend. show_title Logical, shows hides plot title- show_x_title Logical, shows hides plot title x-axis. show_y_title Logical, shows hides plot title y-axis. case Desired target case. Labels automatically converted specified character case. See ?sjlabelled::convert_case details argument. colors Character vector color values hex-format, valid color value names (see demo(\"colors\")) name ggeffects-color-palette. Following options valid colors: specified, color brewer palette \"Set1\" used. \"gs\", greyscale used. \"bw\", plot black/white uses different line types distinguish groups. pre-defined color-palettes package can used, e.g. colors = \"metro\". See show_pals() show available palettes. Else specify color values names vector (e.g. colors = c(\"#f00000\", \"#00ff00\")). alpha Alpha value confidence bands. dot_alpha Alpha value data points, show_data = TRUE. jitter Numeric, 0 1. NULL show_data = TRUE, adds small amount random variation location data points dots, avoid overplotting. Hence points reflect exact values data. May also numeric vector length two, add different horizontal vertical jittering. binary outcomes, raw data jittered default avoid data points exceed axis limits. dodge Value offsetting shifting error bars, avoid overlapping. applies, factor plotted x-axis (cases, confidence bands replaced error bars automatically), ci_style = \"errorbars\". dot_size Numeric, size point geoms. line_size Numeric, size line geoms. use_theme Logical, TRUE, slightly tweaked version ggplot's minimal-theme, theme_ggeffects(), applied plot. FALSE, theme-modifications applied. log_y Logical, TRUE, y-axis scale log-transformed. might useful binomial models predicted probabilities y-axis. connect_lines Logical, TRUE plot point-geoms error bars (usually case x-axis discrete), points groups connected line. facets, grid Logical, defaults TRUE x column named facet, defaults FALSE x column. Set facets = TRUE wrap plot facets even grouping variables (see 'Examples'). grid alias facets. one_plot Logical, TRUE x panel column (.e. four terms used), single, integrated plot produced. verbose Logical, toggle warnings messages. ci, add.data, rawdata, residuals, residuals.line, label.data, limit.range, collapse.group, dot.alpha, dot.size, line.size, connect.lines, show.title, show.x.title, show.y.title, use.theme, one.plot, ci.style, show.legend, log.y Deprecated arguments. Use show_ci, show_data, show_residuals, show_residuals_line, data_labels, limit_range, collapse_group, dot_alpha, dot_size, line_size, connect_lines, show_title, show_x_title, show_y_title, use_theme, ci_style, show_legend, log_y one_plot instead. ... arguments passed ggplot::scale_y*(), control appearance y-axis. base_size Base font size. base_family Base font family.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot ggeffects-objects — plot","text":"ggplot2-object.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot ggeffects-objects — plot","text":"proportional odds logistic regression (see ?MASS::polr) cumulative link models general, plots automatically facetted response.level, indicates grouping predictions based level model's response.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Plot ggeffects-objects — plot","text":"Load library(ggplot2) use theme_set(theme_ggeffects()) set ggeffects-theme default plotting theme. can use plot-modifiers, e.g. sjPlot, like legend_style() font_size() without losing theme-modifications. pre-defined colour palettes package. Use show_pals() show available colour palettes.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"partial-residuals","dir":"Reference","previous_headings":"","what":"Partial Residuals","title":"Plot ggeffects-objects — plot","text":"generalized linear models (glms), residualized scores computed inv.link(link(Y) + r) Y predicted values response scale, r working residuals.  (generalized) linear mixed models, random effect also partialled .","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot ggeffects-objects — plot","text":"","code":"library(sjlabelled) data(efc) efc$c172code <- as_label(efc$c172code) fit <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc)  dat <- ggpredict(fit, terms = \"c12hour\") plot(dat)   # \\donttest{ # facet by group, use pre-defined color palette dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, facet = TRUE, colors = \"hero\")   # don't use facets, b/w figure, w/o confidence bands dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\")) plot(dat, colors = \"bw\", show_ci = FALSE)   # factor at x axis, plot exact data points and error bars dat <- ggpredict(fit, terms = c(\"c172code\", \"c161sex\")) plot(dat)   # for three variables, automatic facetting dat <- ggpredict(fit, terms = c(\"c12hour\", \"c172code\", \"c161sex\")) plot(dat)  # }  # show all color palettes show_pals()"},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":null,"dir":"Reference","previous_headings":"","what":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"function \"pools\" (.e. combines) multiple ggcomparisons objects, returned hypothesis_test(), similar fashion mice::pool().","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"","code":"pool_comparisons(x, ...)"},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"x list ggcomparisons objects, returned hypothesis_test(). ... Currently used.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"data frame pooled comparisons contrasts predictions.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"Averaging parameters follows Rubin's rules (Rubin, 1987, p. 76).","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"Rubin, D.B. (1987). Multiple Imputation Nonresponse Surveys. New York: John Wiley Sons.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_comparisons.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pool contrasts and comparisons from hypothesis_test() — pool_comparisons","text":"","code":"data(\"nhanes2\", package = \"mice\") imp <- mice::mice(nhanes2, printFlag = FALSE) comparisons <- lapply(1:5, function(i) {   m <- lm(bmi ~ age + hyp + chl, data = mice::complete(imp, action = i))   hypothesis_test(m, \"age\") }) pool_comparisons(comparisons) #> # Pairwise comparisons #>  #> age         | Contrast |       95% CI |      p #> ---------------------------------------------- #> 20-39-40-59 |     5.84 |  1.73,  9.96 | < .001 #> 20-39-60-99 |     7.22 |  2.40, 12.03 | < .001 #> 40-59-60-99 |     1.37 | -2.53,  5.28 | 0.404"},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":null,"dir":"Reference","previous_headings":"","what":"Pool Predictions or Estimated Marginal Means — pool_predictions","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"function \"pools\" (.e. combines) multiple ggeffects objects, similar fashion mice::pool().","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"","code":"pool_predictions(x, ...)"},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"x list ggeffects objects, returned ggpredict(), ggemmeans() ggeffect(). ... Currently used.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"data frame pooled predictions.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"Averaging parameters follows Rubin's rules (Rubin, 1987, p. 76).","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"Rubin, D.B. (1987). Multiple Imputation Nonresponse Surveys. New York: John Wiley Sons.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pool_predictions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pool Predictions or Estimated Marginal Means — pool_predictions","text":"","code":"# example for multiple imputed datasets data(\"nhanes2\", package = \"mice\") imp <- mice::mice(nhanes2, printFlag = FALSE) predictions <- lapply(1:5, function(i) {   m <- lm(bmi ~ age + hyp + chl, data = mice::complete(imp, action = i))   ggpredict(m, \"age\") }) pool_predictions(predictions) #> # Predicted values of bmi #>  #> age   | Predicted |       95% CI #> -------------------------------- #> 20-39 |     29.42 | 26.87, 31.97 #> 40-59 |     23.96 | 20.95, 26.98 #> 60-99 |     22.60 | 19.32, 25.89 #>  #> Adjusted for: #> * hyp =     no #> * chl = 194.64"},{"path":"https://strengejacke.github.io/ggeffects/reference/pretty_range.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a pretty sequence over a range of a vector — pretty_range","title":"Create a pretty sequence over a range of a vector — pretty_range","text":"Creates evenly spaced, pretty sequence numbers range vector.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pretty_range.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a pretty sequence over a range of a vector — pretty_range","text":"","code":"pretty_range(x, n = NULL, length = NULL)"},{"path":"https://strengejacke.github.io/ggeffects/reference/pretty_range.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a pretty sequence over a range of a vector — pretty_range","text":"x numeric vector. n Numeric value, indicating size many values used create pretty sequence. x large value range (> 100), n something 1 5. x rather small amount unique values, n something 10 20. n = NULL, pretty_range() automatically tries find pretty sequence. length Integer value, alternative n, defines number intervals returned.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pretty_range.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a pretty sequence over a range of a vector — pretty_range","text":"numeric vector range corresponding minimum maximum values x. x missing, function, pre-programmed n length returned. See examples.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/pretty_range.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a pretty sequence over a range of a vector — pretty_range","text":"","code":"data(iris) # pretty range for vectors with decimal points pretty_range(iris$Petal.Length) #>  [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5 6.0 6.5 7.0  # pretty range for large range, increasing by 50 pretty_range(1:1000) #>  [1]    0   50  100  150  200  250  300  350  400  450  500  550  600  650  700 #> [16]  750  800  850  900  950 1000  # increasing by 20 pretty_range(1:1000, n = 7) #>  [1]    0   20   40   60   80  100  120  140  160  180  200  220  240  260  280 #> [16]  300  320  340  360  380  400  420  440  460  480  500  520  540  560  580 #> [31]  600  620  640  660  680  700  720  740  760  780  800  820  840  860  880 #> [46]  900  920  940  960  980 1000  # return 10 intervals pretty_range(1:1000, length = 10) #>  [1]    0  100  200  300  400  500  600  700  800  900 1000  # same result pretty_range(1:1000, n = 2.5) #>  [1]    0  100  200  300  400  500  600  700  800  900 1000  # function factory range_n_5 <- pretty_range(n = 5) range_n_5(1:1000) #>  [1]    0   50  100  150  200  250  300  350  400  450  500  550  600  650  700 #> [16]  750  800  850  900  950 1000"},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":null,"dir":"Reference","previous_headings":"","what":"Print and format ggeffects-objects — format.ggeffects","title":"Print and format ggeffects-objects — format.ggeffects","text":"generic print-method ggeffects-objects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print and format ggeffects-objects — format.ggeffects","text":"","code":"# S3 method for ggeffects format(   x,   variable_labels = FALSE,   value_labels = FALSE,   group_name = FALSE,   row_header_separator = \", \",   digits = 2,   collapse_ci = FALSE,   collapse_tables = FALSE,   n,   ... )  # S3 method for ggeffects print(x, group_name = TRUE, digits = 2, verbose = TRUE, ...)  # S3 method for ggeffects print_html(x, group_name = TRUE, digits = 2, ...)"},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print and format ggeffects-objects — format.ggeffects","text":"x object class ggeffects, returned functions package. variable_labels Logical, TRUE variable labels used column headers. FALSE, variable names used. value_labels Logical, TRUE, value labels used values table output. FALSE, numeric values factor levels used. group_name Logical, TRUE, name focal terms used sub-headings table. FALSE, values focal terms used. row_header_separator Character, separator different subgroups table output. digits Number digits print. collapse_ci Logical, TRUE, columns predicted values confidence intervals collapsed one column, e.g. Predicted (95% CI). collapse_tables Logical, TRUE, tables combined one. tables split focal terms, rather added columns. works one focal term. n Number rows print per subgroup. NULL, default number rows printed, depending number subgroups. ... arguments passed format.ggeffects(), also passed insight::format_table() insight::format_value(). verbose Toggle messages.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print and format ggeffects-objects — format.ggeffects","text":"format() return formatted data frame, print()prints formatted data frame printed console. print_html() returns tinytable object, printed HTML, markdown LaTeX table (depending context print_html() called, see tinytable::tt() details).","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":"global-options-to-customize-tables-when-printing","dir":"Reference","previous_headings":"","what":"Global Options to Customize Tables when Printing","title":"Print and format ggeffects-objects — format.ggeffects","text":"verbose argument can used display silence messages warnings. Furthermore, options() can used set defaults print() print_html() method. following options available: ggeffects_ci_brackets: Define character vector length two, indicating opening closing parentheses encompass confidence intervals values, e.g. options(ggeffects_ci_brackets = c(\"[\", \"]\")). ggeffects_collapse_ci: Logical, TRUE, columns predicted values confidence intervals collapsed one column. ggeffects_collapse_tables: Logical, TRUE, multiple tables subgroups combined one table. works one focal term.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/print.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print and format ggeffects-objects — format.ggeffects","text":"","code":"data(efc, package = \"ggeffects\") fit <- lm(barthtot ~ c12hour + e42dep, data = efc)  # default print ggpredict(fit, \"e42dep\") #> # Predicted values of Total score BARTHEL INDEX #>  #> e42dep | Predicted |         95% CI #> ----------------------------------- #>      1 |    104.42 | 101.21, 107.64 #>      2 |     83.81 |  81.91,  85.72 #>      3 |     63.20 |  61.94,  64.47 #>      4 |     42.59 |  40.54,  44.65 #>  #> Adjusted for: #> * c12hour = 42.25  # surround CI values with parentheses print(ggpredict(fit, \"e42dep\"), ci_brackets = c(\"(\", \")\")) #> # Predicted values of Total score BARTHEL INDEX #>  #> e42dep | Predicted |           95% CI #> ------------------------------------- #>      1 |    104.42 | (101.21, 107.64) #>      2 |     83.81 | ( 81.91,  85.72) #>      3 |     63.20 | ( 61.94,  64.47) #>      4 |     42.59 | ( 40.54,  44.65) #>  #> Adjusted for: #> * c12hour = 42.25 # you can also use `options(ggeffects_ci_brackets = c(\"[\", \"]\"))` # to set this globally  # collapse CI columns into column with predicted values print(ggpredict(fit, \"e42dep\"), collapse_ci = TRUE) #> # Predicted values of Total score BARTHEL INDEX #>  #> e42dep |      Predicted (95% CI) #> -------------------------------- #>      1 | 104.42 (101.21, 107.64) #>      2 |  83.81  (81.91,  85.72) #>      3 |  63.20  (61.94,  64.47) #>      4 |  42.59  (40.54,  44.65) #>  #> Adjusted for: #> * c12hour = 42.25  # include value labels print(ggpredict(fit, \"e42dep\"), value_labels = TRUE) #> # Predicted values of Total score BARTHEL INDEX #>  #>                   e42dep | Predicted |         95% CI #> ----------------------------------------------------- #>          [1] independent |    104.42 | 101.21, 107.64 #>   [2] slightly dependent |     83.81 |  81.91,  85.72 #> [3] moderately dependent |     63.20 |  61.94,  64.47 #>   [4] severely dependent |     42.59 |  40.54,  44.65 #>  #> Adjusted for: #> * c12hour = 42.25  # include variable labels in column headers print(ggpredict(fit, \"e42dep\"), variable_labels = TRUE) #> # Predicted values of Total score BARTHEL INDEX #>  #> elder's dependency | Predicted values of Total score BARTHEL INDEX |         95% CI #> ----------------------------------------------------------------------------------- #>                  1 |                                        104.42 | 101.21, 107.64 #>                  2 |                                         83.81 |  81.91,  85.72 #>                  3 |                                         63.20 |  61.94,  64.47 #>                  4 |                                         42.59 |  40.54,  44.65 #>  #> Adjusted for: #> * c12hour = 42.25  # include value labels and variable labels print(ggpredict(fit, \"e42dep\"), variable_labels = TRUE, value_labels = TRUE) #> # Predicted values of Total score BARTHEL INDEX #>  #>       elder's dependency | Predicted values of Total score BARTHEL INDEX |         95% CI #> ----------------------------------------------------------------------------------------- #>          [1] independent |                                        104.42 | 101.21, 107.64 #>   [2] slightly dependent |                                         83.81 |  81.91,  85.72 #> [3] moderately dependent |                                         63.20 |  61.94,  64.47 #>   [4] severely dependent |                                         42.59 |  40.54,  44.65 #>  #> Adjusted for: #> * c12hour = 42.25  data(iris) m <- lm(Sepal.Length ~ Species * Petal.Length, data = iris)  # default print with subgroups ggpredict(m, c(\"Petal.Length\", \"Species\")) #> # Predicted values of Sepal.Length #>  #> Species: setosa #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      4.76 | 4.49,  5.03 #>         2.00 |      5.30 | 4.99,  5.61 #>         3.00 |      5.84 | 4.99,  6.69 #>         4.00 |      6.38 | 4.99,  7.77 #>         5.00 |      6.92 | 4.99,  8.86 #>         7.00 |      8.01 | 4.98, 11.04 #>  #> Species: versicolor #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      3.24 | 2.57,  3.90 #>         2.00 |      4.06 | 3.60,  4.53 #>         3.00 |      4.89 | 4.62,  5.16 #>         4.00 |      5.72 | 5.61,  5.83 #>         5.00 |      6.55 | 6.37,  6.73 #>         7.00 |      8.21 | 7.64,  8.77 #>  #> Species: virginica #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      2.06 | 1.27,  2.84 #>         2.00 |      3.05 | 2.43,  3.67 #>         3.00 |      4.05 | 3.60,  4.50 #>         4.00 |      5.04 | 4.76,  5.33 #>         5.00 |      6.04 | 5.90,  6.17 #>         7.00 |      8.03 | 7.76,  8.30 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # omit name of grouping variable in subgroup table headers print(ggpredict(m, c(\"Petal.Length\", \"Species\")), group_name = FALSE) #> # Predicted values of Sepal.Length #>  #> setosa #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      4.76 | 4.49,  5.03 #>         2.00 |      5.30 | 4.99,  5.61 #>         3.00 |      5.84 | 4.99,  6.69 #>         4.00 |      6.38 | 4.99,  7.77 #>         5.00 |      6.92 | 4.99,  8.86 #>         7.00 |      8.01 | 4.98, 11.04 #>  #> versicolor #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      3.24 | 2.57,  3.90 #>         2.00 |      4.06 | 3.60,  4.53 #>         3.00 |      4.89 | 4.62,  5.16 #>         4.00 |      5.72 | 5.61,  5.83 #>         5.00 |      6.55 | 6.37,  6.73 #>         7.00 |      8.21 | 7.64,  8.77 #>  #> virginica #>  #> Petal.Length | Predicted |      95% CI #> -------------------------------------- #>         1.00 |      2.06 | 1.27,  2.84 #>         2.00 |      3.05 | 2.43,  3.67 #>         3.00 |      4.05 | 3.60,  4.50 #>         4.00 |      5.04 | 4.76,  5.33 #>         5.00 |      6.04 | 5.90,  6.17 #>         7.00 |      8.03 | 7.76,  8.30 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # collapse tables into one print(ggpredict(m, c(\"Petal.Length\", \"Species\")), collapse_tables = TRUE, n = 3) #> # Predicted values of Sepal.Length #>  #> Petal.Length |    Species | Predicted |      95% CI #> --------------------------------------------------- #>         1.00 |     setosa |      4.76 | 4.49,  5.03 #>         3.00 |            |      5.84 | 4.99,  6.69 #>         7.00 |            |      8.01 | 4.98, 11.04 #>         1.00 | versicolor |      3.24 | 2.57,  3.90 #>         3.00 |            |      4.89 | 4.62,  5.16 #>         7.00 |            |      8.21 | 7.64,  8.77 #>         1.00 |  virginica |      2.06 | 1.27,  2.84 #>         3.00 |            |      4.05 | 3.60,  4.50 #>         7.00 |            |      8.03 | 7.76,  8.30 #>  #>  #> Not all rows are shown in the output. Use `print(..., n = Inf)` to show #>   all rows.  # increase number of digits print(ggpredict(fit, \"e42dep\"), digits = 5) #> # Predicted values of Total score BARTHEL INDEX #>  #> e42dep | Predicted |               95% CI #> ----------------------------------------- #>      1 | 104.42339 | 101.21081, 107.63598 #>      2 |  83.81330 |  81.90728,  85.71932 #>      3 |  63.20320 |  61.93656,  64.46985 #>      4 |  42.59311 |  40.53516,  44.65105 #>  #> Adjusted for: #> * c12hour = 42.25"},{"path":"https://strengejacke.github.io/ggeffects/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. insight print_html","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute partial residuals from a data grid — residualize_over_grid","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"function computes partial residuals based data grid, data grid usually data frame combinations factor variables certain values numeric vectors. data grid usually used newdata argument predict(), can created new_data().","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"","code":"residualize_over_grid(grid, model, ...)  # S3 method for data.frame residualize_over_grid(grid, model, predictor_name, ...)  # S3 method for ggeffects residualize_over_grid(grid, model, protect_names = TRUE, ...)"},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"grid data frame representing data grid, object class ggeffects, returned ggpredict() others. model model compute partial residuals. data grid grid match predictors model. ... Currently used. predictor_name name focal predictor, partial residuals computed. protect_names Logical, TRUE, preserves column names ggeffects objects used grid.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"data frame residuals focal predictor.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"partial-residuals","dir":"Reference","previous_headings":"","what":"Partial Residuals","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"generalized linear models (glms), residualized scores computed inv.link(link(Y) + r) Y predicted values response scale, r working residuals.  (generalized) linear mixed models, random effect also partialled .","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"Fox J, Weisberg S. Visualizing Fit Lack Fit Complex Regression Models Predictor Effect Plots Partial Residuals. Journal Statistical Software 2018;87.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/residualize_over_grid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute partial residuals from a data grid — residualize_over_grid","text":"","code":"library(ggeffects) set.seed(1234) x <- rnorm(200) z <- rnorm(200) # quadratic relationship y <- 2 * x + x^2 + 4 * z + rnorm(200)  d <- data.frame(x, y, z) model <- lm(y ~ x + z, data = d)  pr <- ggpredict(model, c(\"x [all]\", \"z\")) head(residualize_over_grid(pr, model)) #>          x group predicted #> 53  -1.207  0.07 -1.797239 #> 402  0.277  1.08  4.888712 #> 518  1.084  0.07  3.232202 #> 9   -2.346  1.08  4.133561 #> 428  0.429  0.07  1.801594 #> 441  0.506  1.08  5.659527"},{"path":"https://strengejacke.github.io/ggeffects/reference/values_at.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate representative values of a vector — values_at","title":"Calculate representative values of a vector — values_at","text":"function calculates representative values vector, like minimum/maximum values lower, median upper quartile etc., can used numeric vectors plot marginal effects representative values.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/values_at.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate representative values of a vector — values_at","text":"","code":"values_at(x, values = \"meansd\")  representative_values(x, values = \"meansd\")"},{"path":"https://strengejacke.github.io/ggeffects/reference/values_at.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate representative values of a vector — values_at","text":"x numeric vector. values Character vector, naming pattern representative values calculcated. \"minmax\": (default) minimum maximum values (lower upper bounds) moderator used plot interaction independent variable moderator. \"meansd\": uses mean value moderator well one standard deviation mean value plot effect moderator independent variable. \"zeromax\": similar \"minmax\" option, however, 0 always used minimum value moderator. may useful predictors empirical zero-value, absence moderation simulated using 0 minimum. \"fivenum\": calculates uses Tukey's five number summary (minimum, lower-hinge, median, upper-hinge, maximum) moderator value. \"quart\": calculates uses quartiles (lower, median upper) moderator value, including minimum maximum value. \"quart2\": calculates uses quartiles (lower, median upper) moderator value, excluding minimum maximum value. \"terciles\": calculates uses terciles (lower upper third) moderator value, including minimum maximum value. \"terciles2\": calculates uses terciles (lower upper third) moderator value, excluding minimum maximum value. \"\": uses values moderator variable. Note option applies type = \"eff\", numeric moderator values.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/values_at.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate representative values of a vector — values_at","text":"numeric vector length two three, representing required values x, like minimum/maximum value mean +/- 1 SD. x missing, function, pre-programmed n length returned. See examples.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/values_at.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate representative values of a vector — values_at","text":"","code":"data(efc) values_at(efc$c12hour) #> [1] -8.4 42.4 93.2 values_at(efc$c12hour, \"quart2\") #> [1] 10.0 20.0 42.8  mean_sd <- values_at(values = \"meansd\") mean_sd(efc$c12hour) #> [1] -8.4 42.4 93.2"},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate variance-covariance matrix for marginal effects — vcov","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"Returns variance-covariance matrix predicted values object.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"","code":"# S3 method for ggeffects vcov(   object,   vcov_fun = NULL,   vcov_type = NULL,   vcov_args = NULL,   vcov.fun = vcov_fun,   vcov.type = vcov_type,   vcov.args = vcov_args,   ... )"},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"object object class \"ggeffects\", returned ggpredict(). vcov_fun Variance-covariance matrix used compute uncertainty estimates (e.g., confidence intervals based robust standard errors). argument accepts covariance matrix, function returns covariance matrix, string identifies function used compute covariance matrix. (variance-covariance) matrix function returns covariance matrix (e.g., stats::vcov()) string indicates name vcov*()-function sandwich clubSandwich packages, e.g. vcov_fun = \"vcovCL\", used compute (cluster) robust standard errors predictions. NULL, standard errors (confidence intervals) predictions based standard errors returned predict()-function. Note probably model objects work ggpredict() also supported sandwich clubSandwich packages. See details vignette. vcov_type Character vector, specifying estimation type robust covariance matrix estimation (see ?sandwich::vcovHC ?clubSandwich::vcovCR details). used vcov_fun character string indicating function packages. vcov_args List named vectors, used additional arguments passed vcov_fun. vcov.fun, vcov.type, vcov.args Deprecated. Use vcov_fun, vcov_type vcov_args instead. ... Currently used.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"variance-covariance matrix predicted values object.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"returned matrix many rows (columns) possible combinations predicted values ggpredict() call. example, two variables terms-argument ggpredict() 3 4 levels , 3*4 combinations predicted values, returned matrix 12x12 dimension. short, nrow(object) always equal nrow(vcov(object)). See also 'Examples'.","code":""},{"path":"https://strengejacke.github.io/ggeffects/reference/vcov.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate variance-covariance matrix for marginal effects — vcov","text":"","code":"data(efc) model <- lm(barthtot ~ c12hour + neg_c_7 + c161sex + c172code, data = efc) result <- ggpredict(model, c(\"c12hour [meansd]\", \"c161sex\"))  vcov(result) #>             1           2            3            4           5           6 #> 1  3.62642428  0.71518593  2.922676591  0.011438238  2.21892890 -0.69230945 #> 2  0.71518593  1.74243837 -0.073477976  0.953774462 -0.86214188  0.16511056 #> 3  2.92267659 -0.07347798  2.987294098 -0.008860469  3.05191160  0.05575704 #> 4  0.01143824  0.95377446 -0.008860469  0.933475755 -0.02915918  0.91317705 #> 5  2.21892890 -0.86214188  3.051911604 -0.029159177  3.88489431  0.80382353 #> 6 -0.69230945  0.16511056  0.055757037  0.913177047  0.80382353  1.66124354  # compare standard errors sqrt(diag(vcov(result))) #>         1         2         3         4         5         6  #> 1.9043173 1.3200145 1.7283790 0.9661655 1.9710135 1.2888924  as.data.frame(result) #>      x predicted std.error conf.low conf.high  group #> 1 -8.3  76.75375 1.9043173 73.01577  80.49173   Male #> 2 -8.3  77.79518 1.3200145 75.20412  80.38623 Female #> 3 42.2  63.96204 1.7283790 60.56941  67.35467   Male #> 4 42.2  65.00347 0.9661655 63.10698  66.89995 Female #> 5 92.7  51.17033 1.9710135 47.30143  55.03923   Male #> 6 92.7  52.21175 1.2888924 49.68179  54.74172 Female  # only two predicted values, no further terms # vcov() returns a 2x2 matrix result <- ggpredict(model, \"c161sex\") vcov(result) #>              1            2 #> 1  2.987290958 -0.008861546 #> 2 -0.008861546  0.933476742  # 2 levels for c161sex multiplied by 3 levels for c172code # result in 6 combinations of predicted values # thus vcov() returns a 6x6 matrix result <- ggpredict(model, c(\"c161sex\", \"c172code\")) vcov(result) #>             1            2           3           4            5           6 #> 1  4.87803294  3.024738355  1.17144377  1.76091479 -0.092379792 -1.94567437 #> 2  3.02473835  2.983277938  2.94181752  0.03225611 -0.009204306 -0.05066472 #> 3  1.17144377  2.941817522  4.71219127 -1.69640257  0.073971180  1.84434493 #> 4  1.76091479  0.032256111 -1.69640257  2.58228744  0.853628756 -0.87502993 #> 5 -0.09237979 -0.009204306  0.07397118  0.85362876  0.936804241  1.01997973 #> 6 -1.94567437 -0.050664722  1.84434493 -0.87502993  1.019979727  2.91498938"},{"path":[]},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-1-4-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"ggeffects 1.4.0","text":"print() method revised. format() method added, allows format output ggpredict() (ggeffect() etc.) printing. refactoring print() method makes code base easier maintain easier enhance print-functionality. Now possible create HTML tables well, using print_html(). style output also slightly changed. default, confidence intervals longer enclosed parentheses. can change behaviour passing ci_brackets argument print() (see examples), permanently define custom parentheses brackets , e.g., options(ggeffects_ci_brackets = c(\"[\", \"]\")). Additionally, new arguments control output tables: collapse_ci can used collapse confidence intervals single column together predicted values. collapse_tables can used collapse multiple tables single table (applies one focal term).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-1-4-0","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 1.4.0","text":"print_html(), print output HTML table. method available objects ggpredict() (alike) well hypothesis_test().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-4-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.4.0","text":"Fixed issue ggpredict() models class vglm multivariate responses.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-134","dir":"Changelog","previous_headings":"","what":"ggeffects 1.3.4","title":"ggeffects 1.3.4","text":"CRAN release: 2023-12-18","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-3-4","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.3.4","text":"ggpredict() now supports models class rqs package quantreg. Fixed issues compatible forthcoming update emmeans.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-133","dir":"Changelog","previous_headings":"","what":"ggeffects 1.3.3","title":"ggeffects 1.3.3","text":"CRAN release: 2023-12-15","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-1-3-3","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 1.3.3","text":"ggaverage(), compute average predicted values. function based marginaleffects::avg_predictons(). pool_comparisons(), pool results multiple calls hypothesis_test(), e.g. imputed data sets.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-3-3","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.3.3","text":"Support sdmTMB (sdmTMB) models. Improved support logistf package, including models flic() flac(). Confidence intervals predictions merMod models (package lme4) now use standard errors returned predict(..., se.fit = TRUE). affect numerical results, can robust certain edge cases. Note standard errors based predict() tpye = \"fixed\". type = \"random\", standard errors still based model’s variance-covariance matrix, taking uncertainty random effects account. hypothesis_test() now suppports models package parsnip. johnson_neyman() gains p_adjust argument, adjust p-values multiple comparisons. Currently, p_adjust = \"esarey\" (resp. p_adjust = \"es\") p_adjust = \"fdr\" (resp. p_adjust = \"bh\") supported.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-3-3","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.3.3","text":"ggpredict() now computes appropriate predicted probabilites models class rms::lrm() ordinal outcome. Fixed issue ggpredict() type = \"random\" sampling random effects levels, levels numeric characters pattern like \"001\", \"002\", etc. Fixed minor issue plot.ggalleffects(). ... arguments ggpredict() now passed predict() method mgcv::gam() models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-132","dir":"Changelog","previous_headings":"","what":"ggeffects 1.3.2","title":"ggeffects 1.3.2","text":"CRAN release: 2023-10-17","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-1-3-2","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"ggeffects 1.3.2","text":"function arguments renamed, achieve consistency across package across packages ’m involved development. soft transition, .e. old argument names still work package updates.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-1-3-2","dir":"Changelog","previous_headings":"","what":"Changes","title":"ggeffects 1.3.2","text":"typical argument now supports mix functions different variable types numeric categorical covariates (non-focal terms) held constant. Clarification re.form argument set using type = \"random\" resp. type = \"fixed\" ggpredict(). hypothesis_test() now returns standard error contrasts pairwise comparisons attribute standard_error. can used compute test-statistic, required. forthcoming updates, methods insight::get_statistic() parameters::model_parameters() include standard errors test-statistics output. test_predictions() added alias hypothesis_test().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-3-2","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.3.2","text":"Fixed issue hypothesis_test() mixed models, sometimes failed random effects group variables numeric, factors.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-131","dir":"Changelog","previous_headings":"","what":"ggeffects 1.3.1","title":"ggeffects 1.3.1","text":"CRAN release: 2023-09-05","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-1-3-1","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 1.3.1","text":"johnson_neyman(), create Johnson-Neyman intervals plots ggeffects objects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-1-3-1","dir":"Changelog","previous_headings":"","what":"Changes","title":"ggeffects 1.3.1","text":"Better automatic handling offset-terms, predictions generating plots raw data. model formula contains offset-term, offset term fixed specific value, response variable now automatically transformed back original scale, offset-term added predicted values. warning printed model contains transformed offset-terms fixed, e.g. via condition argument. ggeffect() now supports nestedLogit models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-3-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.3.1","text":"Fixed issue hypothesis_test(), argument work together collapse_levels argument. Fixed issue plot() method adding raw data points data frame now row names.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-130","dir":"Changelog","previous_headings":"","what":"ggeffects 1.3.0","title":"ggeffects 1.3.0","text":"CRAN release: 2023-08-21","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-1-3-0","dir":"Changelog","previous_headings":"","what":"Breaking","title":"ggeffects 1.3.0","text":"avoid confusion adding raw data residuals plots, jitter argument used add noice data points avoid overlapping now defaults NULL. Formerly, small jitter added default, leading confusion data points match original data.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-1-3-0","dir":"Changelog","previous_headings":"","what":"Changes","title":"ggeffects 1.3.0","text":"plot() method gets label.data argument, add row names data points add.data = TRUE. tibbles always converted data frames, avoid issues. hypothesis_test() gains argument, specify variable used group comparisons contrasts. useful models interaction terms.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-3-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.3.0","text":"Plotting residuals work model object passed ggpredict() inside list, called inside functions (scoping issues). Fixed issue plotting raw data (.e. plot(..., add.data = TRUE)) work missing data weight variables (.e. regression model used weights). Fixes issue plot() term specified call ggpredict(). Fixed issues robust estimation models package pscl. Fixed issues introduced breaking changes marginaleffects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-123","dir":"Changelog","previous_headings":"","what":"ggeffects 1.2.3","title":"ggeffects 1.2.3","text":"CRAN release: 2023-06-11","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-2-3","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.2.3","text":"Support nestedLogit (nestedLogit) models. hyothesis_test() gains scale argument, explicitely modulate scale contrasts comparisons (e.g. \"response\" \"link\", \"exp\" return transformed contrasts/comparisons). hyothesis_test() now includes response level models ordinal outcomes (alike). ggpredict() used inside functions name vector variable (passed argument function) terms used, variable now correctly recognized. Partial residuals (plot(..., residuals = TRUE)) now supports linear (mixed) models, including models package lme (gls() lme()). mixed models, type = \"random\" used calculate prediction intervals always accounted random effects variances, leading larger intervals. Using interval = \"confidence\" together type = \"random\" now allows calculate “usual” confidence intervals random effects. usefule predictions specific group levels random effects (focal terms fixed effects, use type = \"fixed\" regular confidence intervals). vcov.fun argument can now also function returns variance-covariance matrix. verbose argument ggpredict() hypothesis_test() now also toggle messages respective print() methods. print() method hypothesis_test() revised now provides details possible transformation scale comparisons contrasts. print() method now shows rows default focal term factor. rows shown output, message printed inform user truncated output. new vignette using ggeffects context intersectional multilevel analysis individual heterogeneity, using MAIHDA framework.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-2-3","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.2.3","text":"Fixed issue wrong order x-axis-labels plots focal term x-axis character vector, alphabetical order values match order predictions. Fixed issues hyothesis_test() models ordinal outcomes (alike).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-122","dir":"Changelog","previous_headings":"","what":"ggeffects 1.2.2","title":"ggeffects 1.2.2","text":"CRAN release: 2023-05-04","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-2-2","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.2.2","text":"Added new [.ggeffects function, allows subset ggeffects objects way regular data frames, .e. now possible : Using name vector variable terms now works inside functions. E.g., can now : colors argument plot() can now also applied single-colored plots. hyothesis_test() gains collapse_level argument, collapse term labels refer levels singel unique level string.","code":"gge <- ggpredict(model, \"x1\") gge[c(1:2)] foo <- function(data) {   fit <- lm(barthtot ~ c12hour + c172code, data = data)   v <- c(20, 50, 70)   ggpredict(fit, terms = \"c12hour [v]\") } foo(efc)"},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-2-2","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.2.2","text":"Fixed issue misplaced residuals x-axis categorical factor levels alphabetical order. pool_predictions() now correctly handles models transformed response variables (like log(y)) returns correct back-transformed pooled predictions (confidence intervals). Fixed issue wrong computation confidence intervals models class clm package ordinal. Fixed failing tests due changes logistf package, now also supports emmeans. means, ggemmeans() now also works models package logistf. Fixed bug plot() partial residuals added (.e. residuals = TRUE) collapse.group provided (case mixed models). Fixed issue --fly created factors inside formulas, correctly treated factors plot() method. bug related recent changes insight::get_data(). Fixed issue wrong labels hyothesis_test() comparisons many rows, betas starting digit specified (e.g. test = \"(b1-b13)=(b3-b15)\"). Fixed issue hyothesis_test() mixed models focal terms included factors factor levels contained comma. Fixed issue missing confidence intervals mixed models one variable names contains white space characters (e.g. y ~ 'x ' + xb).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-121","dir":"Changelog","previous_headings":"","what":"ggeffects 1.2.1","title":"ggeffects 1.2.1","text":"CRAN release: 2023-04-02","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-2-1","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.2.1","text":"Support mblogit (mclogit), phylolm phyloglm (phylolm) models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-1-2-1","dir":"Changelog","previous_headings":"","what":"Changes to functions","title":"ggeffects 1.2.1","text":"hypothesis_test() gains equivalence argument, compute tests practical equivalence contrasts comparisons. message whether contrasts comparisons hypothesis_test() link-scale now printed table. Dot arguments (...) hypothesis_test() now passed functions marginaleffects, thereby allowing use options functions marginaleffects::predictions(), like transform etc.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-2-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.2.1","text":"Fixed issues hypothesis_test() mixed models one focal term , term categorical.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-120","dir":"Changelog","previous_headings":"","what":"ggeffects 1.2.0","title":"ggeffects 1.2.0","text":"CRAN release: 2023-02-24","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-1-2-0","dir":"Changelog","previous_headings":"","what":"Breaking","title":"ggeffects 1.2.0","text":"Confidence intervals adjusted predictions now take model’s degrees freedom account, thereby leading slightly larger intervals models infinite degrees freedom (like linear models t-statistic).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-1-2-0","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 1.2.0","text":"hypothesis_test(), compute contrasts comparisons predictions test differences statistical significance. Additionally, accompanying vignette explains new function detail added. install_latest(), install latest official package version CRAN, latest development version r-universe. .data.frame() method added, converts ggeffects objects returned ggpredict() data frame, standard column names replaced related variable names.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-2-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.2.0","text":"Response values now also back-transformed transformed using log2(), log10() log1p(). terms argument can now also named list. Thus, instead terms = c(\"score [30,50,70]\", \"status [low, middle]\") one also write terms = list(score = c(30,50,70), status = c(\"low\", \"middle\")).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-115","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.5","title":"ggeffects 1.1.5","text":"CRAN release: 2023-01-25","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-1-5","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.1.5","text":"Minor changes meet forthcoming update insight. ggpredict() ggemmeans() get verbose argument suppress messages warnings calling","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-114","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.4","title":"ggeffects 1.1.4","text":"CRAN release: 2022-10-23","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-1-4","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.1.4","text":"Reduced package dependencies. Packages sjlabelled MASS moved imports suggests. ggeffects now lightweight package compute adjusted predictions estimated marginal means.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-1-1-4","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 1.1.4","text":"logitr (package logitr)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-1-4","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.1.4","text":"Fixed issue wrong standard errors predicting random effect groups multiple levels. Fixed issue ggemmeans(), correctly averaged character vectors hold constant. Fixed bug models class lme type = \"re\" requested.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-113","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.3","title":"ggeffects 1.1.3","text":"CRAN release: 2022-08-07","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-1-3","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.1.3","text":"Fix wrong computations predictions arm::bayesglm() models. Fix CRAN check issues.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-112","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.2","title":"ggeffects 1.1.2","text":"CRAN release: 2022-04-10","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-1-2","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.1.2","text":"Speed improvement models calculating uncertainty intervals predictions. Minor fixes.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-111","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.1","title":"ggeffects 1.1.1","text":"CRAN release: 2021-07-29","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-1-1-1","dir":"Changelog","previous_headings":"","what":"Changes to functions","title":"ggeffects 1.1.1","text":"Add informative error message brmsfit models using mo() numeric predictors, allow predict values actually present data.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-1-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.1.1","text":"Fixed issue adding raw data points plots logistic regression models, response variable factor numeric levels. Fixed issues CRAN checks.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-110","dir":"Changelog","previous_headings":"","what":"ggeffects 1.1.0","title":"ggeffects 1.1.0","text":"CRAN release: 2021-04-30","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-1-1-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 1.1.0","text":"orm (package rms)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-1-1-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"ggeffects 1.1.0","text":"Prediction intervals (possible, type = \"random\"), now always based sigma^2 (.e. insight::get_sigma(model)^2). line interval = \"prediction\" lm, predictions based simulations (type = \"simulate\"). print() now uses name focal variable column name (instead) \"x\").","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-function-1-1-0","dir":"Changelog","previous_headings":"","what":"New function","title":"ggeffects 1.1.0","text":"collapse_by_group(), generate data frame response value raw data averaged levels (random effect) grouping factor.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-1-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.1.0","text":"new vignette added related definition meaning “marginal effects” “adjusted predictions”. strict avoid confusion term “marginal effect”, meaning may vary across fields, either “marginal effects” replaced “adjusted predictions”, “adjusted predictions” added term throughout package’s documentation vignettes. Allow confidence intervals predictions conditioned random effect groups (.e. type = \"random\" terms includes random effect group factor). Predicted response values based simulate() (.e. type = \"simulate\") now possible model classes (see ?ggpredict). ggpredict() now computes confidence intervals edge cases previously failed (e.g. models compute standard errors predictions, factor included model focal term). plot() gains collapse.group argument, - conjunction add.data - averages (“collapses”) raw data levels group factors (random effects). data_grid() added common alias new_data().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-1-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.1.0","text":"ggpredict() plot() survival-models now always start time = 1. Fixed issue print() survival-models. Fixed issue type = \"simulate\" glmmTMB models. Fixed issue gamlss models random() function model formula. Fixed issue incorrect back-transformation predictions geeglm models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-102","dir":"Changelog","previous_headings":"","what":"ggeffects 1.0.2","title":"ggeffects 1.0.2","text":"CRAN release: 2021-03-17","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-1-0-2","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"ggeffects 1.0.2","text":"residuals.type argument plot() deprecated. Always using \"working\" residuals.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-0-2","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.0.2","text":"pretty_range() values_at() can now also used function factories. plot() gains limit.range argument, limit range prediction bands range data.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-0-2","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.0.2","text":"Fixed issue unnecessary back-transformation log-transformed offset-terms glmmTMB models. Fixed issues plotting raw data predictor x-axis character vector. Fixed issues CRAN checks.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-101","dir":"Changelog","previous_headings":"","what":"ggeffects 1.0.1","title":"ggeffects 1.0.1","text":"CRAN release: 2020-12-14","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-0-1","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.0.1","text":"Fixed CRAN check issues. Added argument interval ggemmeans(), either compute confidence prediction intervals.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-100","dir":"Changelog","previous_headings":"","what":"ggeffects 1.0.0","title":"ggeffects 1.0.0","text":"CRAN release: 2020-11-29","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-1-0-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 1.0.0","text":"averaging (package MuMIn)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-1-0-0","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 1.0.0","text":"pool_predictions(), pool multiple ggeffects objects. can used predicted values estimated marginal means calculated models fit multiple imputed datasets.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-1-0-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 1.0.0","text":"function residualize_over_grid() now exported. back-transformation response-variable (log- square root-transformed model) now also works square root-transformations correctly handles log1p() log(mu + x). Since standard errors link-scale back-transformed non-Gaussian models, now longer printed (avoid confusion standard errors link-scale predictions confidence intervals response-scale).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-1-0-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 1.0.0","text":"Fixed issue mixed models predictions conditioned random effects variances (e.g. type = \"random\" \"zi_random\"), random effects variances calculated almost zero. Fixed issue confidence intervals multinom models ggemmeans(). Fixed issue ggemmeans() models nlme. Fixed issue plot() models ggeffect(). Fixed issue computation confidence intervals zero-inflated models offset-term.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0160","dir":"Changelog","previous_headings":"","what":"ggeffects 0.16.0","title":"ggeffects 0.16.0","text":"CRAN release: 2020-09-13","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-0-16-0","dir":"Changelog","previous_headings":"","what":"Breaking changes","title":"ggeffects 0.16.0","text":"Package insight since version 0.9.5 now returns “raw” (untransformed, .e. original) data used fit model also log-transformed variables. Thus, exponentiation like using terms = \"predictor [exp]\" longer necessary.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-16-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.16.0","text":"mlogit (package mlogit)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-16-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.16.0","text":"plot() now can also create partial residuals plots. , arguments residuals, residuals.type residuals.line added add partial residuals, type residuals possible loess-fit regression line residual data.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-16-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.16.0","text":"message models back-transformation response scale (non-Gaussian models), standard errors still link-scale, show models class glm since time. fixed now. Fixed issue ggpredict() rlmerMods models using factors adjusted terms. Fixed issue brms-multi-response models.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0151","dir":"Changelog","previous_headings":"","what":"ggeffects 0.15.1","title":"ggeffects 0.15.1","text":"CRAN release: 2020-07-27","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-15-1","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.15.1","text":"mclogit (package mclogit)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-15-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.15.1","text":"Fixed issues due latest rstanarm update. Fixed issues around categorical/cumulative brms models outcome numeric. Fixed bug factor level ordering plotting raw data ggeffect().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0150","dir":"Changelog","previous_headings":"","what":"ggeffects 0.15.0","title":"ggeffects 0.15.0","text":"CRAN release: 2020-06-16","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-0-15-0","dir":"Changelog","previous_headings":"","what":"Changes to functions","title":"ggeffects 0.15.0","text":"ggpredict() gets new type-option, \"zi.prob\", predict zero-inflation probability (models pscl, glmmTMB GLMMadaptive). model log-transformed response variable add.data = TRUE plot(), raw data points also transformed accordingly. plot() add.data = TRUE first adds layer raw data, points / lines marginal effects, raw data points overlay predicted values. terms-argument now also accepts name variable define specific values. See vignette Marginal Effects Specific Values.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-15-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.15.0","text":"Fix issues cluster-robust variance-covariance estimation vcov.type specified.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0143","dir":"Changelog","previous_headings":"","what":"ggeffects 0.14.3","title":"ggeffects 0.14.3","text":"CRAN release: 2020-04-20","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-14-3","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.14.3","text":"Fixed issues due changes CRAN packages.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0142","dir":"Changelog","previous_headings":"","what":"ggeffects 0.14.2","title":"ggeffects 0.14.2","text":"CRAN release: 2020-03-14","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-14-2","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.14.2","text":"ggeffects now requires glmmTMB version 1.0.0 higher. Added human-readable alias-options type-argument.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-14-2","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.14.2","text":"Fixed issue log-transformed predictors held constant typical value negative. Fixed issue plotting raw data plot categorical predictor x-axis, numeric factor levels start 1. Fixed issues model objects used (log) transformed offset() terms.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0141","dir":"Changelog","previous_headings":"","what":"ggeffects 0.14.1","title":"ggeffects 0.14.1","text":"CRAN release: 2020-01-28","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-14-1","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.14.1","text":"Reduce package dependencies. New package-vignette (Cluster) Robust Standard Errors.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-14-1","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.14.1","text":"mixor (package mixor), cgam, cgamm (package cgam)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-14-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.14.1","text":"Fix CRAN check issues due latest emmeans update.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0140","dir":"Changelog","previous_headings":"","what":"ggeffects 0.14.0","title":"ggeffects 0.14.0","text":"CRAN release: 2019-12-16","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-0-14-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"ggeffects 0.14.0","text":"argument x..factor considered less useful removed.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-14-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.14.0","text":"fixest (package fixest), glmx (package glmx).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-14-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.14.0","text":"Reduce package dependencies. plot(rawdata = TRUE) now also works objects ggemmeans(). ggpredict() now computes confidence intervals predictions geeglm models. brmsfit models trials() response variable, ggpredict() used choose median value trials response hold constant. Now, can use condition-argument hold number trials constant different values. Improve print().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-14-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.14.0","text":"Fixed issue clmm-models, group factor random effects numeric. Raw data longer omitted plots grouping variable continuous added raw data doesn’t numerically match grouping levels (e.g., mean +/- one standard deviation). Fix CRAN check issues due latest geepack update.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0130","dir":"Changelog","previous_headings":"","what":"ggeffects 0.13.0","title":"ggeffects 0.13.0","text":"CRAN release: 2019-11-08","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-0-13-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"ggeffects 0.13.0","text":"use emm() discouraged, removed.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-13-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.13.0","text":"bracl, brmultinom (package brglm2) models packages bamlss R2BayesX.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-13-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.13.0","text":"Updated package dependencies. plot() now uses dodge-position raw data categorical x-axis, align raw data points points error bars geoms predictions. Updated re-arranged internal color palette, especially better behaviour selecting colors continuous palettes (see show_pals()).","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-functions-0-13-0","dir":"Changelog","previous_headings":"","what":"New functions","title":"ggeffects 0.13.0","text":"Added vcov() function calculate variance-covariance matrix marginal effects.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-0-13-0","dir":"Changelog","previous_headings":"","what":"Changes to Functions","title":"ggeffects 0.13.0","text":"ggemmeans() now also accepts type = \"re\" type = \"re.zi\", add random effects variances prediction intervals mixed models. ellipses-argument ... now passed predict()-method gamlss-objects, predictions can computed sigma, nu tau well.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-13-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.13.0","text":"Fixed issue wrong order plot x-axis ggeffect(), one term character vector.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0120","dir":"Changelog","previous_headings":"","what":"ggeffects 0.12.0","title":"ggeffects 0.12.0","text":"CRAN release: 2019-09-03","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"breaking-changes-0-12-0","dir":"Changelog","previous_headings":"","what":"Breaking Changes","title":"ggeffects 0.12.0","text":"use ggaverage() discouraged, removed. name rprs_values() now deprecated, function named values_at(), alias representative_values(). x..factor-argument defaults TRUE.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-12-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.12.0","text":"ggpredict() now supports cumulative link ordinal vglm models package VGAM. informative error message clmm-models terms included random effects. add.data alias rawdata-argument plot(). ggpredict() ggemmeans() now also support predictions gam models ziplss family.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-0-12-0","dir":"Changelog","previous_headings":"","what":"Changes to Functions","title":"ggeffects 0.12.0","text":"Improved print()-method ordinal cumulative link models. plot()-method longer changes order factor levels groups facets. pretty_data() gets length() argument define length intervals returned.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-12-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.12.0","text":"Added “population level” output print-method lme objects. Fixed issue correct identification gamm/gamm4 models. Fixed issue weighted regression models brms. Fixed broken tests due changes forthcoming effects update.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0110","dir":"Changelog","previous_headings":"","what":"ggeffects 0.11.0","title":"ggeffects 0.11.0","text":"CRAN release: 2019-07-01","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-11-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.11.0","text":"Revised docs vignettes - use term average marginal effects replaced less misleading wording, since functions ggeffects calculate marginal effects mean representative values, average marginal effects. Replace references internal vignettes docstrings website-vignettes, links website longer broken. values_at() alias rprs_values().","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-11-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.11.0","text":"betabin, negbin (package aod), wbm (package panelr)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-0-11-0","dir":"Changelog","previous_headings":"","what":"Changes to functions","title":"ggeffects 0.11.0","text":"ggpredict() now supports prediction intervals models MCMCglmm. ggpredict() gets back.transform-argument, tranform predicted values log-transformed responses back original scale (default behaviour), allow predictions remain log-scale (new). ggpredict() ggemmeans() now can calculate marginal effects specific values three terms (.e. terms can lenght four now). ci.style-argument plot() now also applies error bars categorical variables x-axis.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-11-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.11.0","text":"Fixed issue glmmTMB models included model weights.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"ggeffects-0100","dir":"Changelog","previous_headings":"","what":"ggeffects 0.10.0","title":"ggeffects 0.10.0","text":"CRAN release: 2019-05-13","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"general-0-10-0","dir":"Changelog","previous_headings":"","what":"General","title":"ggeffects 0.10.0","text":"Better support, including confidence intervals, already supported model types. New package-vignette Logistic Mixed Effects Model Interaction Term.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"new-supported-models-0-10-0","dir":"Changelog","previous_headings":"","what":"New supported models","title":"ggeffects 0.10.0","text":"gamlss, geeglm (package geepack), lmrob glmrob (package robustbase), ols (package rms), rlmer (package robustlmm), rq rqss (package quantreg), tobit (package AER), survreg (package survival)","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"changes-to-functions-0-10-0","dir":"Changelog","previous_headings":"","what":"Changes to functions","title":"ggeffects 0.10.0","text":"steps specifying range values (e.g. terms = \"predictor [1:10]\") can now changed , e.g. terms = \"predictor [1:10 =.5]\" (see also vignette Marginal Effects Specific Values). Robust standard errors predictions (see argument vcov.fun ggpredict()) now also works following model-objects: coxph, plm, polr (probably also lme gls, tested yet). ggpredict() gets interval-argument, compute prediction intervals instead confidence intervals. plot.ggeffects() now allows different horizontal vertical jittering rawdata jitter numeric vector length two.","code":""},{"path":"https://strengejacke.github.io/ggeffects/news/index.html","id":"bug-fixes-0-10-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"ggeffects 0.10.0","text":"Models AsIs-conversion division two variables dependent variable, e.g. (amount/frequency), now work. ggpredict() failed MixMod-objects ci.lvl=NA.","code":""}]
