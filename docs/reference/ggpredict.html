<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Marginal effects and estimated marginal means from regression models — ggeffect • ggeffects</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Marginal effects and estimated marginal means from regression models — ggeffect" />
<meta property="og:description" content="The ggeffects package computes estimated marginal means (predicted values) for the
  response, at the margin of specific values or levels from certain model terms,
  i.e. it generates predictions by a model by holding the non-focal variables
  constant and varying the focal variable(s).  
  ggpredict() uses predict() for generating predictions,
  while ggeffect() computes marginal effects by internally calling
  Effect and ggemmeans() uses emmeans.
  The result is returned as consistent data frame." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggeffects</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.14.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Introductions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ggeffects.html">Marginal Effects of Regression Models</a>
    </li>
    <li>
      <a href="../articles/introduction_effectsatvalues.html">Marginal Effects at Specific Values</a>
    </li>
    <li>
      <a href="../articles/introduction_randomeffects.html">Marginal Effects for Random Effects Models</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Plotting
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction_plotmethod.html">Plotting Marginal Effects</a>
    </li>
    <li>
      <a href="../articles/introduction_plotcustomize.html">Customize Plot Appearance</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Practical Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/practical_logisticmixedmodel.html">Logistic Mixed Effects Model with Interaction Term</a>
    </li>
    <li>
      <a href="../articles/practical_robustestimation.html">(Cluster) Robust Standard Errors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Technical Details
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/technical_differencepredictemmeans.html">Difference between ggpredict() and ggemmeans()</a>
    </li>
    <li>
      <a href="../articles/technical_stata.html">Different Output between Stata and ggeffects</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/strengejacke/ggeffects/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Marginal effects and estimated marginal means from regression models</h1>
    <small class="dont-index">Source: <a href='https://github.com/strengejacke/ggeffects/blob/master/R/ggeffect.R'><code>R/ggeffect.R</code></a>, <a href='https://github.com/strengejacke/ggeffects/blob/master/R/ggemmeans.R'><code>R/ggemmeans.R</code></a>, <a href='https://github.com/strengejacke/ggeffects/blob/master/R/ggpredict.R'><code>R/ggpredict.R</code></a></small>
    <div class="hidden name"><code>ggpredict.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <span class="pkg">ggeffects</span> package computes estimated marginal means (predicted values) for the
  response, at the margin of specific values or levels from certain model terms,
  i.e. it generates predictions by a model by holding the non-focal variables
  constant and varying the focal variable(s). <br /> <br />
  <code>ggpredict()</code> uses <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code> for generating predictions,
  while <code>ggeffect()</code> computes marginal effects by internally calling
  <code><a href='https://rdrr.io/pkg/effects/man/effect.html'>Effect</a></code> and <code>ggemmeans()</code> uses <code><a href='https://rdrr.io/pkg/emmeans/man/emmeans.html'>emmeans</a></code>.
  The result is returned as consistent data frame.</p>
    </div>

    <pre class="usage"><span class='fu'>ggeffect</span>(<span class='no'>model</span>, <span class='no'>terms</span>, <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='no'>...</span>)

<span class='fu'>ggemmeans</span>(
  <span class='no'>model</span>,
  <span class='no'>terms</span>,
  <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"fe"</span>,
  <span class='kw'>typical</span> <span class='kw'>=</span> <span class='st'>"mean"</span>,
  <span class='kw'>condition</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>back.transform</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='fu'>ggpredict</span>(
  <span class='no'>model</span>,
  <span class='no'>terms</span>,
  <span class='kw'>ci.lvl</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"fe"</span>,
  <span class='kw'>typical</span> <span class='kw'>=</span> <span class='st'>"mean"</span>,
  <span class='kw'>condition</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>back.transform</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>ppd</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>vcov.fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vcov.type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vcov.args</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"confidence"</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>model</th>
      <td><p>A fitted model object, or a list of model objects. Any model
that supports common methods like <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>, <code><a href='https://rdrr.io/r/stats/family.html'>family()</a></code>
or <code><a href='https://rdrr.io/r/stats/model.frame.html'>model.frame()</a></code> should work. For <code>ggeffect()</code>, any model
that is supported by <a href='https://CRAN.R-project.org/package=effects'><span class="pkg">effects</span></a> should work, and for
<code>ggemmeans()</code>, all models supported by <a href='https://CRAN.R-project.org/package=emmeans'><span class="pkg">emmeans</span></a> should work.</p></td>
    </tr>
    <tr>
      <th>terms</th>
      <td><p>Character vector (or a formula) with the names of those terms
from <code>model</code>, for which marginal effects should be displayed. At least
one term is required to calculate effects for certain terms, maximum length is
four terms, where the second to fourth term indicate the groups, i.e.
predictions of first term are grouped at the values or levels of the remaining
terms. If <code>terms</code> is missing or <code>NULL</code>, marginal effects for each
model term are calculated. It is also possible to define specific values for
terms, at which marginal effects should be calculated (see 'Details').
All remaining covariates that are not specified in <code>terms</code> are held
constant (see 'Details'). See also arguments <code>condition</code> and <code>typical</code>.</p></td>
    </tr>
    <tr>
      <th>ci.lvl</th>
      <td><p>Numeric, the level of the confidence intervals. For <code>ggpredict()</code>,
use <code>ci.lvl = NA</code>, if confidence intervals should not be calculated
(for instance, due to computation time). Typically, confidence intervals
based on the standard errors as returned by the <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code> function
are returned, assuming normal distribution (i.e. <code>+/- 1.96 * SE</code>).
See introduction of <a href='https://strengejacke.github.io/ggeffects/articles/ggeffects.html'>this vignette</a>
for more details.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>For <code>ggpredict()</code>, further arguments passed down to
<code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>; for <code>ggeffect()</code>, further arguments passed
down to <code><a href='https://rdrr.io/pkg/effects/man/effect.html'>Effect</a></code>; and for <code>ggemmeans()</code>,
further arguments passed down to <code><a href='https://rdrr.io/pkg/emmeans/man/emmeans.html'>emmeans</a></code>.
If <code>type = "sim"</code>, <code>...</code> may also be used to set the number of
simulation, e.g. <code>nsim = 500</code>.</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>Character, only applies for survival models, mixed effects models
and/or models with zero-inflation. <strong>Note:</strong> For <code>brmsfit</code>-models
with zero-inflation component, there is no <code>type = "fe.zi"</code> nor
<code>type = "re.zi"</code>; predicted values for <code>MixMod</code>-models from
<span class="pkg">GLMMadaptive</span> with zero-inflation component <em>always</em> condition on
the zero-inflation part of the model (see 'Details').</p><dl'>
  <dt><code>"fe"</code> (or <code>"fixed"</code> or <code>"count"</code>)</dt><dd><p>Predicted values are conditioned on the fixed effects or conditional
  model only (for mixed models: predicted values are on the population-level
  and <em>confidence intervals</em> are returned). For instance, for models
  fitted with <code>zeroinfl</code> from <span class="pkg">pscl</span>, this would return the
  predicted mean from the count component (without zero-inflation).
  For models with zero-inflation component, this type calls
  <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "link")</a></code> (however, predicted values are
  back-transformed to the response scale).</p></dd>
  <dt><code>"re"</code> (or <code>"random"</code>)</dt><dd><p>This only applies to mixed models, and <code>type = "re"</code> does not
  condition on the zero-inflation component of the model. <code>type = "re"</code>
  still returns population-level predictions, however, unlike <code>type = "fe"</code>,
  intervals also consider the uncertainty in the variance parameters (the
  mean random effect variance, see <cite>Johnson et al. 2014</cite> for details)
  and hence can be considered as <em>prediction intervals</em>. For models
  with zero-inflation component, this type calls
  <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "link")</a></code> (however, predicted values are
  back-transformed to the response scale).
  <br /> <br />
  To get predicted values for each level of the random effects groups, add the
  name of the related random effect term to the <code>terms</code>-argument
  (for more details, see <a href='https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html'>this vignette</a>).</p></dd>
  <dt><code>"fe.zi"</code> (or <code>"zero_inflated"</code> or <code>"zi"</code>)</dt><dd><p>Predicted values are conditioned on the fixed effects and the zero-inflation
  component. For instance, for models fitted with <code>zeroinfl</code>
  from <span class="pkg">pscl</span>, this would return the predicted response (<code>mu*(1-p)</code>)
  and for <span class="pkg">glmmTMB</span>, this would return the expected value <code>mu*(1-p)</code>
  <em>without</em> conditioning on random effects (i.e. random effect variances
  are not taken into account for the confidence intervals). For models with
  zero-inflation component, this type calls <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "response")</a></code>.
  See 'Details'.</p></dd>
  <dt><code>"re.zi"</code> (or <code>"zi_random"</code> or <code>"zero_inflated_random"</code>)</dt><dd><p>Predicted values are conditioned on the zero-inflation component and
  take the random effects uncertainty into account. For models fitted with
  <code>glmmTMB()</code>, <code>hurdle()</code> or <code>zeroinfl()</code>, this would return the
  expected value <code>mu*(1-p)</code>. For <span class="pkg">glmmTMB</span>, prediction intervals
  also consider the uncertainty in the random effects variances. This
  type calls <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "response")</a></code>. See 'Details'.</p></dd>
  <dt><code>"sim"</code></dt><dd><p>Predicted values and confidence resp. prediction intervals are
  based on simulations, i.e. calls to <code><a href='https://rdrr.io/r/stats/simulate.html'>simulate()</a></code>. This type
  of prediction takes all model uncertainty into account, including
  random effects variances. Currently supported models are <code>glmmTMB</code>
  and <code>merMod</code>. See <code>...</code> for details on number of simulations.</p></dd>
  <dt><code>"surv"</code> and <code>"cumhaz"</code> (or <code>"survival"</code> and <code>"cumulative_hazard"</code>)</dt><dd><p>Applies only to <code>coxph</code>-objects from the <span class="pkg">survial</span>-package and
  calculates the survival probability or the cumulative hazard of an event.</p></dd>

</dl></td>
    </tr>
    <tr>
      <th>typical</th>
      <td><p>Character vector, naming the function to be applied to the
covariates over which the effect is "averaged". The default is "mean".
See <code><a href='https://rdrr.io/pkg/sjmisc/man/typical_value.html'>typical_value</a></code> for options.</p></td>
    </tr>
    <tr>
      <th>condition</th>
      <td><p>Named character vector, which indicates covariates that
should be held constant at specific values. Unlike <code>typical</code>, which
applies a function to the covariates to determine the value that is used
to hold these covariates constant, <code>condition</code> can be used to define
exact values, for instance <code>condition = c(covariate1 = 20, covariate2 = 5)</code>.
See 'Examples'.</p></td>
    </tr>
    <tr>
      <th>back.transform</th>
      <td><p>Logical, if <code>TRUE</code> (the default), predicted values
for log- or log-log transformed responses will be back-transformed to
original response-scale.</p></td>
    </tr>
    <tr>
      <th>ppd</th>
      <td><p>Logical, if <code>TRUE</code>, predictions for Stan-models are
based on the posterior predictive distribution
(<code><a href='https://mc-stan.org/rstantools/reference/posterior_predict.html'>posterior_predict</a></code>). If <code>FALSE</code> (the
default), predictions are based on posterior draws of the linear
predictor (<code><a href='https://mc-stan.org/rstantools/reference/posterior_linpred.html'>posterior_linpred</a></code>).</p></td>
    </tr>
    <tr>
      <th>vcov.fun</th>
      <td><p>String, indicating the name of the <code>vcov*()</code>-function
from the <span class="pkg">sandwich</span> or <span class="pkg">clubSandwich</span>-package, e.g.
<code>vcov.fun = "vcovCL"</code>, which is used to compute (cluster) robust
standard errors for predictions. If <code>NULL</code>, standard errors (and
confidence intervals) for predictions are based on the standard errors as
returned by the <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>-function. <strong>Note</strong> that probably not
all model objects that work with <code>ggpredict()</code> are also supported
by the <span class="pkg">sandwich</span> or <span class="pkg">clubSandwich</span>-package.</p></td>
    </tr>
    <tr>
      <th>vcov.type</th>
      <td><p>Character vector, specifying the estimation type for the
robust covariance matrix estimation (see <code><a href='https://rdrr.io/pkg/sandwich/man/vcovHC.html'>vcovHC</a></code>
or <code><a href='https://rdrr.io/pkg/clubSandwich/man/vcovCR.html'>vcovCR</a></code> for details).</p></td>
    </tr>
    <tr>
      <th>vcov.args</th>
      <td><p>List of named vectors, used as additional arguments that
are passed down to <code>vcov.fun</code>.</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>Type of interval calculation, can either be <code>"confidence"</code>
(default) or <code>"prediction"</code>. May be abbreviated. Unlike
<em>confidence intervals</em>, <em>prediction intervals</em> include the
residual variance (sigma^2). This argument is ignored for mixed models,
as <code>interval = "prediction"</code> is equivalent to <code>type = "re"</code>
(and <code>interval = "confidence"</code> is equivalent to <code>type = "fe"</code>).
Note that prediction intervals are not available for all models.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame (with <code>ggeffects</code> class attribute) with consistent
  data columns:</p><dl'>
          <dt><code>x</code></dt><dd><p>the values of the first term in <code>terms</code>, used as x-position in plots.</p></dd>
          <dt><code>predicted</code></dt><dd><p>the predicted values of the response, used as y-position in plots.</p></dd>
          <dt><code>std.error</code></dt><dd><p>the standard error of the predictions.</p></dd>
          <dt><code>conf.low</code></dt><dd><p>the lower bound of the confidence interval for the predicted values.</p></dd>
          <dt><code>conf.high</code></dt><dd><p>the upper bound of the confidence interval for the predicted values.</p></dd>
          <dt><code>group</code></dt><dd><p>the grouping level from the second term in <code>terms</code>, used as grouping-aesthetics in plots.</p></dd>
          <dt><code>facet</code></dt><dd><p>the grouping level from the third term in <code>terms</code>, used to indicate facets in plots.</p></dd>
        
</dl><p>The estimated marginal means (predicted values) are always on the
        response scale! <br /> <br />
        For proportional odds logistic regression (see <code><a href='https://rdrr.io/pkg/MASS/man/polr.html'>polr</a></code>)
        resp. cumulative link models (e.g., see <code><a href='https://rdrr.io/pkg/ordinal/man/clm.html'>clm</a></code>),
        an additional column <code>response.level</code> is returned, which indicates
        the grouping of predictions based on the level of the model's response.
        <br /> <br /> Note that for convenience reasons, the columns for the intervals
        are always named <code>conf.low</code> and <code>conf.high</code>, even though
        for Bayesian models credible or highest posterior density intervals
        are returned.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3>Supported Models</h3>
<p>A list of supported models can be found at <a href='https://github.com/strengejacke/ggeffects'>https://github.com/strengejacke/ggeffects</a>.
  Support for models varies by function, i.e. although <code>ggpredict()</code>,
  <code>ggemmeans()</code> and <code>ggeffect()</code> support most models, some models
  are only supported exclusively by one of the three functions.</p><p></p><h3>Difference between <code>ggpredict()</code> and <code>ggeffect()</code> or <code>ggemmeans()</code></h3>
<p><code>ggpredict()</code> calls <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>, while <code>ggeffect()</code>
  calls <code><a href='https://rdrr.io/pkg/effects/man/effect.html'>Effect</a></code> and <code>ggemmeans()</code> calls
  <code><a href='https://rdrr.io/pkg/emmeans/man/emmeans.html'>emmeans</a></code> to compute marginal effects. Therefore,
  <code>ggpredict()</code> and <code>ggeffect()</code> resp. <code>ggemmeans()</code> differ in
  how factors are held constant: <code>ggpredict()</code> uses the reference level, while
  <code>ggeffect()</code> and <code>ggemmeans()</code> compute a kind of "average" value,
  which represents the proportions of each factor's category. Use <code>condition</code>
  to set a specific level for factors in <code>ggemmeans()</code>, so factors are
  not averaged over their categories, but held constant at a given level.</p><p></p><h3>Marginal Effects at Specific Values</h3>
<p>Specific values of model terms can be specified via the <code>terms</code>-argument.
  Indicating levels in square brackets allows for selecting only
  specific groups or values resp. value ranges. Term name and the start of
  the levels in brackets must be separated by a whitespace character, e.g.
  <code>terms = c("age", "education [1,3]")</code>. Numeric ranges, separated
  with colon, are also allowed: <code>terms = c("education", "age [30:60]")</code>.
  <br /> <br />
  The <code>terms</code>-argument also supports the same shortcuts as the
  <code>values</code>-argument in <code><a href='values_at.html'>values_at()</a></code>. So
  <code>terms = "age [meansd]"</code> would return predictions for the values
  one standard deviation below the mean age, the mean age and
  one SD above the mean age. <code>terms = "age [quart2]"</code> would calculate
  predictions at the value of the lower, median and upper quartile of age.
  <br /> <br />
  Furthermore, it is possible to specify a function name. Values for
  predictions will then be transformed, e.g. <code>terms = "income [exp]"</code>.
  This is useful when model predictors were transformed for fitting the
  model and should be back-transformed to the original scale for predictions.
  It is also possible to define own functions (see
  <a href='https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html'>this vignette</a>).
  <br /> <br />
  You can take a random sample of any size with <code>sample=n</code>, e.g
  <code>terms = "income [sample=8]"</code>, which will sample eight values from
  all possible values of the variable <code>income</code>. This option is especially
  useful for plotting marginal effects at certain levels of random effects
  group levels, where the group factor has many levels that can be completely
  plotted. For more details, see <a href='https://strengejacke.github.io/ggeffects/articles/introduction_effectsatvalues.html'>this vignette</a>.
  <br /> <br />
  Finally, numeric vectors for which no specific values are given, a
  "pretty range" is calculated (see <code><a href='pretty_range.html'>pretty_range</a></code>), to avoid
  memory allocation problems for vectors with many unique values. If a numeric
  vector is specified as second or third term (i.e. if this vector represents
  a grouping structure), representative values (see <code><a href='values_at.html'>values_at</a></code>)
  are chosen (unless other values are specified). If all values for a numeric
  vector should be used to compute predictions, you may use e.g.
  <code>terms = "age [all]"</code>. See also package vignettes.
  <br /> <br />
  To create a pretty range that should be smaller or larger than the default
  range (i.e. if no specific values would be given), use the <code>n</code>-tag,
  e.g. <code>terms="age [n=5]"</code> or <code>terms="age [n=12]"</code>. Larger
  values for <code>n</code> return a larger range of predicted values.</p><p></p><h3>Holding covariates at constant values</h3>
<p>For <code>ggpredict()</code>, <code><a href='https://rdrr.io/r/base/expand.grid.html'>expand.grid()</a></code> is called on all unique
  combinations of <code>model.frame(model)[, terms]</code> and used as
  <code>newdata</code>-argument for <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>. In this case,
  all remaining covariates that are not specified in <code>terms</code> are
  held constant: Numeric values are set to the mean (unless changed with
  the <code>condition</code> or <code>typical</code>-argument), factors are set to their
  reference level (may also be changed with <code>condition</code>) and character
  vectors to their mode (most common element).
  <br /> <br />
  <code>ggeffect()</code> and <code>ggemmeans()</code>, by default, set remaining numeric
  covariates to their mean value, while for factors, a kind of "average" value,
  which represents the proportions of each factor's category, is used. For
  <code>ggemmeans()</code>, use <code>condition</code> to set a specific level for
  factors so that these are not averaged over their categories, but held
  constant at the given level.</p><p></p><h3>Bayesian Regression Models</h3>
<p><code>ggpredict()</code> also works with <strong>Stan</strong>-models from
  the <a href='https://CRAN.R-project.org/package=rstanarm'><span class="pkg">rstanarm</span></a> or <a href='https://CRAN.R-project.org/package=brms'><span class="pkg">brms</span></a>-package. The predicted
  values are the median value of all drawn posterior samples. The
  confidence intervals for Stan-models are Bayesian predictive intervals.
  By default (i.e. <code>ppd = FALSE</code>), the predictions are based on
  <code><a href='https://mc-stan.org/rstantools/reference/posterior_linpred.html'>posterior_linpred</a></code> and hence have some
  limitations: the uncertainty of the error term is not taken into
  account. The recommendation is to use the posterior predictive
  distribution (<code><a href='https://mc-stan.org/rstantools/reference/posterior_predict.html'>posterior_predict</a></code>).</p><p></p><h3>Zero-Inflated and Zero-Inflated Mixed Models with brms</h3>
<p>Models of class <code>brmsfit</code> always condition on the zero-inflation
  component, if the model has such a component. Hence, there is no
  <code>type = "fe.zi"</code> nor <code>type = "re.zi"</code> for <code>brmsfit</code>-models,
  because predictions are based on draws of the posterior distribution,
  which already account for the zero-inflation part of the model.</p><p></p><h3>Zero-Inflated and Zero-Inflated Mixed Models with glmmTMB</h3>
<p>If <code>model</code> is of class <code>glmmTMB</code>, <code>hurdle</code>, <code>zeroinfl</code>
  or <code>zerotrunc</code>, simulations from a multivariate normal distribution
  (see <code><a href='https://rdrr.io/pkg/MASS/man/mvrnorm.html'>mvrnorm</a></code>) are drawn to calculate <code>mu*(1-p)</code>.
  Confidence intervals are then based on quantiles of these results. For
  <code>type = "re.zi"</code>, prediction intervals also take the uncertainty in
  the random-effect paramters into account (see also Brooks et al. 2017,
  pp.391-392 for details).
  <br /> <br />
  An alternative for models fitted with <span class="pkg">glmmTMB</span> that take all model
  uncertainties into account are simulations based on <code><a href='https://rdrr.io/r/stats/simulate.html'>simulate()</a></code>, which
  is used when <code>type = "sim"</code> (see Brooks et al. 2017, pp.392-393 for
  details).</p><p></p><h3>MixMod-models from GLMMadaptive</h3>
<p>Predicted values for the fixed effects component (<code>type = "fe"</code> or
  <code>type = "fe.zi"</code>) are based on <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "mean_subject")</a></code>,
  while predicted values for random effects components (<code>type = "re"</code> or
  <code>type = "re.zi"</code>) are calculated with <code><a href='https://rdrr.io/r/stats/predict.html'>predict(..., type = "subject_specific")</a></code>
  (see <code><a href='https://rdrr.io/pkg/GLMMadaptive/man/methods.html'>?GLMMadaptive::predict.MixMod</a></code> for details). The latter option
  requires the response variable to be defined in the <code>newdata</code>-argument
  of <code><a href='https://rdrr.io/r/stats/predict.html'>predict()</a></code>, which will be set to its typical value (see
  <code><a href='https://rdrr.io/pkg/sjmisc/man/typical_value.html'>typical_value</a></code>).</p>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    
<h3>Multinomial Models</h3>
<p><code>polr</code>-, <code>clm</code>-models, or more generally speaking, models with
  ordinal or multinominal outcomes, have an additional column
  <code>response.level</code>, which indicates with which level of the response
  variable the predicted values are associated.</p><p></p><h3>Printing Results</h3>
<p>The <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code>-method gives a clean output (especially for predictions
  by groups), and indicates at which values covariates were held constant.
  Furthermore, the <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code>-method has the arguments <code>digits</code> and
  <code>n</code> to control number of decimals and lines to be printed, and an
  argument <code>x.lab</code> to print factor-levels instead of numeric values
  if <code>x</code> is a factor.</p><p></p><h3>Limitations</h3>
<p>The support for some models, for example from package <span class="pkg">MCMCglmm</span>, is
  rather experimental and may fail for certain models. If you encounter
  any errors, please file an issue at <a href='https://github.com/strengejacke/ggeffects/issues'>https://github.com/strengejacke/ggeffects/issues</a>.</p>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    
<ul>
<li><p>Brooks ME, Kristensen K, Benthem KJ van, Magnusson A, Berg CW, Nielsen A, et al. glmmTMB Balances Speed and Flexibility Among Packages for Zero-inflated Generalized Linear Mixed Modeling. The R Journal. 2017;9: 378-400.</p></li>
<li><p>Johnson PC, O'Hara RB. 2014. Extension of Nakagawa &amp; Schielzeth's R2GLMM to random slopes models. Methods Ecol Evol, 5: 944-946. (doi: <a href='https://doi.org/10.1111/2041-210X.12225'>10.1111/2041-210X.12225</a>
)</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>sjlabelled</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>efc</span>)
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>barthtot</span> ~ <span class='no'>c12hour</span> + <span class='no'>neg_c_7</span> + <span class='no'>c161sex</span> + <span class='no'>c172code</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>efc</span>)

<span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='st'>"c12hour"</span>)</div><div class='output co'>#&gt; 
#&gt; <span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span>
#&gt;   x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.44 | 1.12 | [73.26, 77.63]
#&gt;  20 |     70.38 | 0.93 | [68.56, 72.19]
#&gt;  45 |     64.05 | 0.84 | [62.39, 65.70]
#&gt;  65 |     58.98 | 0.93 | [57.16, 60.80]
#&gt;  85 |     53.91 | 1.12 | [51.71, 56.11]
#&gt; 105 |     48.85 | 1.38 | [46.15, 51.55]
#&gt; 125 |     43.78 | 1.67 | [40.52, 47.05]
#&gt; 170 |     32.38 | 2.37 | [27.73, 37.03]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; *  neg_c_7 = 11.84
#&gt; *  c161sex =  1.76
#&gt; * c172code =  1.97</span><span>
#&gt; </div><div class='input'><span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>, <span class='st'>"c172code"</span>))</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     74.75 | 1.78 | [71.27, 78.23]
#&gt;  30 |     67.15 | 1.59 | [64.04, 70.26]
#&gt;  55 |     60.81 | 1.55 | [57.78, 63.85]
#&gt;  85 |     53.22 | 1.66 | [49.96, 56.47]
#&gt; 115 |     45.62 | 1.91 | [41.87, 49.37]
#&gt; 170 |     31.69 | 2.59 | [26.60, 36.77]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = intermediate level of education
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.46 | 1.11 | [73.28, 77.65]
#&gt;  30 |     67.87 | 0.87 | [66.17, 69.57]
#&gt;  55 |     61.53 | 0.87 | [59.82, 63.24]
#&gt;  85 |     53.93 | 1.13 | [51.73, 56.14]
#&gt; 115 |     46.34 | 1.52 | [43.35, 49.32]
#&gt; 170 |     32.40 | 2.38 | [27.75, 37.06]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     76.18 | 1.72 | [72.82, 79.55]
#&gt;  30 |     68.58 | 1.62 | [65.42, 71.75]
#&gt;  55 |     62.25 | 1.66 | [59.01, 65.50]
#&gt;  85 |     54.65 | 1.84 | [51.04, 58.26]
#&gt; 115 |     47.05 | 2.14 | [42.85, 51.25]
#&gt; 170 |     33.12 | 2.86 | [27.51, 38.73]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; * neg_c_7 = 11.84
#&gt; * c161sex =  1.76</span><span>
#&gt; </div><div class='input'><span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>, <span class='st'>"c172code"</span>, <span class='st'>"c161sex"</span>))</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     73.95 | 2.35 | [69.35, 78.55]
#&gt;  45 |     62.56 | 2.21 | [58.23, 66.88]
#&gt;  85 |     52.42 | 2.31 | [47.90, 56.95]
#&gt; 170 |     30.89 | 3.08 | [24.85, 36.94]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = intermediate level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     74.67 | 1.85 | [71.06, 78.29]
#&gt;  45 |     63.27 | 1.73 | [59.88, 66.66]
#&gt;  85 |     53.14 | 1.91 | [49.40, 56.89]
#&gt; 170 |     31.61 | 2.87 | [25.98, 37.24]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.39 | 2.22 | [71.04, 79.74]
#&gt;  45 |     63.99 | 2.18 | [59.73, 68.26]
#&gt;  85 |     53.86 | 2.36 | [49.23, 58.49]
#&gt; 170 |     32.33 | 3.26 | [25.95, 38.71]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.00 | 1.83 | [71.41, 78.59]
#&gt;  45 |     63.60 | 1.60 | [60.46, 66.74]
#&gt;  85 |     53.46 | 1.70 | [50.13, 56.80]
#&gt; 170 |     31.93 | 2.61 | [26.83, 37.04]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = intermediate level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.71 | 1.23 | [73.31, 78.12]
#&gt;  45 |     64.32 | 0.97 | [62.42, 66.21]
#&gt;  85 |     54.18 | 1.21 | [51.81, 56.55]
#&gt; 170 |     32.65 | 2.40 | [27.94, 37.36]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     76.43 | 1.81 | [72.89, 79.98]
#&gt;  45 |     65.03 | 1.71 | [61.68, 68.39]
#&gt;  85 |     54.90 | 1.91 | [51.16, 58.65]
#&gt; 170 |     33.37 | 2.89 | [27.70, 39.05]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; * neg_c_7 = 11.84</span><span>
#&gt; </div><div class='input'>
<span class='co'># specified as formula</span>
<span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> ~ <span class='no'>c12hour</span> + <span class='no'>c172code</span> + <span class='no'>c161sex</span>)</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     73.95 | 2.35 | [69.35, 78.55]
#&gt;  45 |     62.56 | 2.21 | [58.23, 66.88]
#&gt;  85 |     52.42 | 2.31 | [47.90, 56.95]
#&gt; 170 |     30.89 | 3.08 | [24.85, 36.94]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = intermediate level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     74.67 | 1.85 | [71.06, 78.29]
#&gt;  45 |     63.27 | 1.73 | [59.88, 66.66]
#&gt;  85 |     53.14 | 1.91 | [49.40, 56.89]
#&gt; 170 |     31.61 | 2.87 | [25.98, 37.24]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; #  c161sex = [1] Male
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.39 | 2.22 | [71.04, 79.74]
#&gt;  45 |     63.99 | 2.18 | [59.73, 68.26]
#&gt;  85 |     53.86 | 2.36 | [49.23, 58.49]
#&gt; 170 |     32.33 | 3.26 | [25.95, 38.71]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.00 | 1.83 | [71.41, 78.59]
#&gt;  45 |     63.60 | 1.60 | [60.46, 66.74]
#&gt;  85 |     53.46 | 1.70 | [50.13, 56.80]
#&gt; 170 |     31.93 | 2.61 | [26.83, 37.04]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = intermediate level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     75.71 | 1.23 | [73.31, 78.12]
#&gt;  45 |     64.32 | 0.97 | [62.42, 66.21]
#&gt;  85 |     54.18 | 1.21 | [51.81, 56.55]
#&gt; 170 |     32.65 | 2.40 | [27.94, 37.36]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; #  c161sex = [2] Female
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     76.43 | 1.81 | [72.89, 79.98]
#&gt;  45 |     65.03 | 1.71 | [61.68, 68.39]
#&gt;  85 |     54.90 | 1.91 | [51.16, 58.65]
#&gt; 170 |     33.37 | 2.89 | [27.70, 39.05]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; * neg_c_7 = 11.84</span><span>
#&gt; </div><div class='input'>
<span class='co'># only range of 40 to 60 for variable 'c12hour'</span>
<span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='st'>"c12hour [40:60]"</span>)</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span>
#&gt;  x | Predicted |   SE |         95% CI
#&gt; --------------------------------------
#&gt; 40 |     65.31 | 0.84 | [63.66, 66.96]
#&gt; 43 |     64.55 | 0.84 | [62.90, 66.20]
#&gt; 45 |     64.05 | 0.84 | [62.39, 65.70]
#&gt; 47 |     63.54 | 0.85 | [61.88, 65.20]
#&gt; 50 |     62.78 | 0.85 | [61.11, 64.45]
#&gt; 53 |     62.02 | 0.86 | [60.33, 63.71]
#&gt; 55 |     61.51 | 0.87 | [59.81, 63.22]
#&gt; 60 |     60.25 | 0.90 | [58.49, 62.00]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; *  neg_c_7 = 11.84
#&gt; *  c161sex =  1.76
#&gt; * c172code =  1.97</span><span>
#&gt; </div><div class='input'>
<span class='co'># using "summary()" shows that covariate "neg_c_7" is held</span>
<span class='co'># constant at a value of 11.84 (its mean value). To use a</span>
<span class='co'># different value, use "condition"</span>
<span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='st'>"c12hour [40:60]"</span>, <span class='kw'>condition</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='kw'>neg_c_7</span> <span class='kw'>=</span> <span class='fl'>20</span>))</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span>
#&gt;  x | Predicted |   SE |         95% CI
#&gt; --------------------------------------
#&gt; 40 |     46.56 | 2.03 | [42.58, 50.54]
#&gt; 43 |     45.80 | 2.02 | [41.85, 49.76]
#&gt; 45 |     45.30 | 2.01 | [41.35, 49.24]
#&gt; 47 |     44.79 | 2.00 | [40.86, 48.71]
#&gt; 50 |     44.03 | 1.99 | [40.12, 47.94]
#&gt; 53 |     43.27 | 1.99 | [39.38, 47.16]
#&gt; 55 |     42.76 | 1.98 | [38.88, 46.64]
#&gt; 60 |     41.50 | 1.97 | [37.63, 45.36]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; *  c161sex = 1.76
#&gt; * c172code = 1.97</span><span>
#&gt; </div><div class='input'>
<span class='co'># to plot ggeffects-objects, you can use the 'plot()'-function.</span>
<span class='co'># the following examples show how to build your ggplot by hand.</span>

<span class='co'># \donttest{</span>
<span class='co'># plot predicted values, remaining covariates held constant</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>ggplot2</span>)
<span class='no'>mydf</span> <span class='kw'>&lt;-</span> <span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='st'>"c12hour"</span>)
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>mydf</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='no'>x</span>, <span class='no'>predicted</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span>() +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_ribbon</a></span>(<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>ymin</span> <span class='kw'>=</span> <span class='no'>conf.low</span>, <span class='kw'>ymax</span> <span class='kw'>=</span> <span class='no'>conf.high</span>), <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>.1</span>)</div><div class='img'><img src='ggpredict-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># three variables, so we can use facets and groups</span>
<span class='no'>mydf</span> <span class='kw'>&lt;-</span> <span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>, <span class='st'>"c161sex"</span>, <span class='st'>"c172code"</span>))
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>mydf</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>predicted</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>group</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>stat_smooth</a></span>(<span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"lm"</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>facet</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using formula 'y ~ x'</span></div><div class='img'><img src='ggpredict-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># select specific levels for grouping terms</span>
<span class='no'>mydf</span> <span class='kw'>&lt;-</span> <span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>, <span class='st'>"c172code [1,3]"</span>, <span class='st'>"c161sex"</span>))
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>mydf</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>predicted</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>group</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>stat_smooth</a></span>(<span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"lm"</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>facet</span>) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span>(
    <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_y_title</a></span>(<span class='no'>mydf</span>),
    <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_x_title</a></span>(<span class='no'>mydf</span>),
    <span class='kw'>colour</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_legend_title</a></span>(<span class='no'>mydf</span>)
  )</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using formula 'y ~ x'</span></div><div class='img'><img src='ggpredict-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># level indication also works for factors with non-numeric levels</span>
<span class='co'># and in combination with numeric levels for other variables</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>efc</span>)
<span class='no'>efc</span>$<span class='no'>c172code</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sjlabelled/man/as_label.html'>as_label</a></span>(<span class='no'>efc</span>$<span class='no'>c172code</span>)
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>barthtot</span> ~ <span class='no'>c12hour</span> + <span class='no'>neg_c_7</span> + <span class='no'>c161sex</span> + <span class='no'>c172code</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>efc</span>)
<span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>,
  <span class='st'>"c172code [low level of education, high level of education]"</span>,
  <span class='st'>"c161sex [1]"</span>))</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Total score BARTHEL INDEX
#&gt; # x = average number of hours of care per week
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = low level of education
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     72.81 | 2.50 | [67.91, 77.71]
#&gt;  30 |     65.22 | 2.39 | [60.54, 69.89]
#&gt;  55 |     58.89 | 2.37 | [54.23, 63.54]
#&gt;  85 |     51.29 | 2.46 | [46.46, 56.12]
#&gt; 115 |     43.69 | 2.65 | [38.49, 48.89]
#&gt; 170 |     29.76 | 3.20 | [23.49, 36.04]
#&gt; </span><span style='color: #BB0000;'>
#&gt; # c172code = high level of education
#&gt; 
#&gt; </span><span>  x | Predicted |   SE |         95% CI
#&gt; ---------------------------------------
#&gt;   0 |     74.03 | 2.45 | [69.23, 78.83]
#&gt;  30 |     66.43 | 2.39 | [61.74, 71.12]
#&gt;  55 |     60.10 | 2.43 | [55.34, 64.87]
#&gt;  85 |     52.51 | 2.58 | [47.45, 57.56]
#&gt; 115 |     44.91 | 2.81 | [39.40, 50.42]
#&gt; 170 |     30.98 | 3.41 | [24.29, 37.67]
#&gt; </span><span style='color: #0000BB;'>
#&gt; Adjusted for:
#&gt; * neg_c_7 = 11.84</span><span>
#&gt; </div><div class='input'>
<span class='co'># use categorical value on x-axis, use axis-labels, add error bars</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c172code"</span>, <span class='st'>"c161sex"</span>))
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>dat</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='no'>x</span>, <span class='no'>predicted</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>group</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span>(<span class='kw'>position</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/position_dodge.html'>position_dodge</a></span>(<span class='fl'>.1</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_linerange.html'>geom_errorbar</a></span>(
    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>ymin</span> <span class='kw'>=</span> <span class='no'>conf.low</span>, <span class='kw'>ymax</span> <span class='kw'>=</span> <span class='no'>conf.high</span>),
    <span class='kw'>position</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/position_dodge.html'>position_dodge</a></span>(<span class='fl'>.1</span>)
  ) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_x_discrete</a></span>(<span class='kw'>breaks</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>3</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_x_labels</a></span>(<span class='no'>dat</span>))</div><div class='img'><img src='ggpredict-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># 3-way-interaction with 2 continuous variables</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>efc</span>)
<span class='co'># make categorical</span>
<span class='no'>efc</span>$<span class='no'>c161sex</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/sjlabelled/man/as_factor.html'>as_factor</a></span>(<span class='no'>efc</span>$<span class='no'>c161sex</span>)
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>neg_c_7</span> ~ <span class='no'>c12hour</span> * <span class='no'>barthtot</span> * <span class='no'>c161sex</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>efc</span>)
<span class='co'># select only levels 30, 50 and 70 from continuous variable Barthel-Index</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>ggpredict</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"c12hour"</span>, <span class='st'>"barthtot [30,50,70]"</span>, <span class='st'>"c161sex"</span>))
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span>(<span class='no'>dat</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>predicted</span>, <span class='kw'>colour</span> <span class='kw'>=</span> <span class='no'>group</span>)) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_smooth.html'>stat_smooth</a></span>(<span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"lm"</span>, <span class='kw'>se</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>fullrange</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>facet</span>) +
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span>(
    <span class='kw'>colour</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_legend_title</a></span>(<span class='no'>dat</span>),
    <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_x_title</a></span>(<span class='no'>dat</span>),
    <span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_y_title</a></span>(<span class='no'>dat</span>),
    <span class='kw'>title</span> <span class='kw'>=</span> <span class='fu'><a href='get_title.html'>get_title</a></span>(<span class='no'>dat</span>)
  )</div><div class='output co'>#&gt; <span class='message'>`geom_smooth()` using formula 'y ~ x'</span></div><div class='img'><img src='ggpredict-5.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># or with ggeffects' plot-method</span>
<span class='fu'><a href='plot.html'>plot</a></span>(<span class='no'>dat</span>, <span class='kw'>ci</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)<span class='co'># }</span></div><div class='img'><img src='ggpredict-6.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># marginal effects for polynomial terms</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>efc</span>)
<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/glm.html'>glm</a></span>(
  <span class='no'>tot_sc_e</span> ~ <span class='no'>c12hour</span> + <span class='no'>e42dep</span> + <span class='no'>e17age</span> + <span class='fu'><a href='https://rdrr.io/r/base/AsIs.html'>I</a></span>(<span class='no'>e17age</span>^<span class='fl'>2</span>) + <span class='fu'><a href='https://rdrr.io/r/base/AsIs.html'>I</a></span>(<span class='no'>e17age</span>^<span class='fl'>3</span>),
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>efc</span>,
  <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/family.html'>poisson</a></span>()
)
<span class='fu'>ggeffect</span>(<span class='no'>fit</span>, <span class='kw'>terms</span> <span class='kw'>=</span> <span class='st'>"e17age"</span>)</div><div class='output co'>#&gt; 
#&gt; </span><span style='color: #0000BB;'># Predicted values of Services for elderly
#&gt; # x = elder' age
#&gt; </span><span>
#&gt;   x | Predicted |   SE |       95% CI
#&gt; -------------------------------------
#&gt;  64 |      1.37 | 0.14 | [1.04, 1.80]
#&gt;  70 |      0.94 | 0.06 | [0.84, 1.06]
#&gt;  74 |      0.90 | 0.06 | [0.80, 1.01]
#&gt;  78 |      0.94 | 0.05 | [0.85, 1.04]
#&gt;  84 |      1.04 | 0.05 | [0.94, 1.15]
#&gt;  90 |      1.01 | 0.07 | [0.88, 1.15]
#&gt;  94 |      0.82 | 0.12 | [0.65, 1.04]
#&gt; 104 |      0.17 | 0.70 | [0.04, 0.67]
#&gt; </div><div class='input'>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/strengejacke'>Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


